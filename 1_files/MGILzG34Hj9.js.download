if (self.CavalryLogger) { CavalryLogger.start_js(["RUZiD"]); }

__d("MediaManagerFBCommsStoreQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"page_id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"after",type:"ID",defaultValue:null}],b=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"page_id",variableName:"page_id"}],c={kind:"InlineFragment",type:"InboxAYMTRow",selections:[{kind:"LinkedField",alias:null,name:"content",storageKey:null,args:null,concreteType:"InboxAYMTRowContent",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"page_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tip_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"body",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"button_label",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"button_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"validation_timestamp",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"clicked_timestamp",args:null,storageKey:null}]}]},d={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"MediaManagerFBCommsStoreQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"inbox_fb_comms_rows",storageKey:null,args:b,concreteType:"ViewerInboxFbCommsRowsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[c]},d]}]}]},operation:{kind:"Operation",name:"MediaManagerFBCommsStoreQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"inbox_fb_comms_rows",storageKey:null,args:b,concreteType:"ViewerInboxFbCommsRowsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c]},d]}]}]},params:{operationKind:"query",name:"MediaManagerFBCommsStoreQuery",id:"2335260803244701",text:null,metadata:{}}}}();e.exports=a}),null);
__d("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"InstantGameLogCustomEventData!",defaultValue:null}],b=[{kind:"LinkedField",alias:"logCustomEvent",name:"instant_game_log_custom_event",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"InstantGameLogCustomEventResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",id:"1543857295701947",text:null,metadata:{}}}}();e.exports=a}),null);
__d("AdsCMFormHorizontalLine.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_1x0g")}))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsFullSizeImageBox.react",["cx","AdsImageIDClasses","AdsImageUtils","AdsSimpleImage","BackgroundImage.react","React","ReactComponentWithPureRenderMixin","createReactClass_DEPRECATED","curry","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsImageIDClasses").AdsImageID;var h=b("AdsImageIDClasses").AdsShutterstockImageID,i=function(a){var c=b("AdsImageUtils").getImageTransformForBounds(a.image.width,a.image.height,a.width,a.height,a.crop);return b("React").jsx("div",{className:"_73o6",children:b("React").jsx(b("BackgroundImage.react"),{backgroundSize:"contain",cropTransform:c,height:a.height,src:a.image.url,width:a.width})})},j=function(a){var c=a.className,d=a.crop,e=a.image,f=a.imageID,g=a.width,i=a.height;a=a.onContextMenu;a=b("curry")(a,f instanceof h);f=b("AdsImageUtils").renderScaledCroppedImage(e.url,g,i,e.width,e.height,d,a);return b("React").jsx("div",{className:c,children:f})},k=function(a){var c=a.className,d=a.image,e=a.width;a=a.height;e=b("AdsImageUtils").renderScaledImage(d.url,e,a,d.width,d.height);return b("React").jsx("div",{className:c,children:e})};d=b("createReactClass_DEPRECATED")({displayName:"AdsFullSizeImageBox",mixins:[b("ReactComponentWithPureRenderMixin")],propType:{crop:(c=b("prop-types")).array,height:c.number.isRequired,image:c.instanceOf(b("AdsSimpleImage")).isRequired,imageID:c.instanceOf(a).isRequired,renderStyle:c.string.isRequired,width:c.number.isRequired,onContextMenu:c.func.isRequired},render:function(){switch(this.props.renderStyle){case"CONTAIN":return b("React").jsx(i,babelHelpers["extends"]({},this.props));case"SCALE_CROP":return b("React").jsx(j,babelHelpers["extends"]({},this.props));case"SCALE":return b("React").jsx(k,babelHelpers["extends"]({},this.props))}return null}});e.exports=d}),null);
__d("AdsReachFrequencyInsteamPlacementVideoRequirementsDialogShownProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return{isDialogTriggered:!1,isFacebookInstreamSelected:!1}}};e.exports=a}),null);
__d("AdsFullSizeImageBoxContainer.react",["AdsFluxContainer","AdsFullSizeImageBox.react","AdsImageInfoStore","AdsReachFrequencyInsteamPlacementVideoRequirementsDialogShownProvider","LoadingImageBox.react","React","adsCreateAdAccountGKSelector","JSResource","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsReachFrequencyInsteamPlacementVideoRequirementsDialogShownProvider").toFluxSelector();a=b("React").Component;var h=b("lazyLoadComponent")(b("JSResource")("AdsReachFrequencyInstreamPlacementUnderDeliveryWarningCardContainer.react").__setRef("AdsFullSizeImageBoxContainer.react")),i=b("adsCreateAdAccountGKSelector")._("20ZYM32g2");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("AdsImageInfoStore")].concat(g.getStores(),i.getStores())};c.calculateState=function(a,c){return{imageLoadObject:b("AdsImageInfoStore").getFullSize(c.imageID),shouldShowInstreamFormatMismatchWarning:g().isFacebookInstreamSelected&&i()}};var d=c.prototype;d.render=function(){return!this.state.imageLoadObject.hasValue()?b("React").jsx(b("LoadingImageBox.react"),{className:this.props.className,height:this.props.height,width:this.props.width}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("AdsFullSizeImageBox.react"),babelHelpers["extends"]({},this.props,{image:this.state.imageLoadObject.getValueEnforcing(),onContextMenu:this.$1})),this.state.shouldShowInstreamFormatMismatchWarning?b("React").jsx(h,{isSummary:!1}):null]})};d.$1=function(a,b){a&&b.preventDefault()};return c}(a);e.exports=b("AdsFluxContainer").create(c,{withProps:!0,name:e.id})}),null);
__d("AdsMessengerPartialAutomatedCreationTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ADVANCED:"advanced",CHAT:"chat"});b=Object.freeze({INTRO_MESSAGE:"introMessage",QUESTIONS:"questions",CONFIRMATION_MESSAGE:"confirmationMessage",DISQUALIFY_MESSAGE:"disqualifyMessage",FIELD_IDS:"fieldIDs",REMINDER:"reminder",PRIVACY_POLICY:"privacyPolicy",FOLLOW_UP:"followUp",GREETING:"greeting",STOP_QUESTION_MESSAGE:"stopQuestionMessage",TEMPLATE_NAME:"templateName"});c=Object.freeze({IN_PROGRESS:"inProgress",ERROR:"error",NO_ERROR:"noError"});d=Object.freeze({MULTIPLE_CHOICE:"multipleChoice",CUSTOM:"custom"});f=Object.freeze({NEXT_QUESTION:"nextQuestion",CONFIRMATION_MESSAGE:"confirmationMessage",DISQUALIFY_MESSAGE:"disqualifyMessage"});var g=Object.freeze({TEXT:"text",IMAGE_HASH:"image_hash",VIDEO:"video",BUTTON_LABEL:"button_label",APP_INFO:"app_info",WEB_INFO:"web_info"});e.exports={AdsMessengerPartialAutomatedCreationGoToOption:f,AdsMessengerPartialAutomatedCreationNonPrefillAnswer:d,AdsMessengerPartialAutomatedCreationSections:b,AdsMessengerPartialAutomatedCreationSectionStatus:c,AdsMessengerPartialAutomatedCreationTabs:a,FollowUpSectionErrorSpecType:g}}),null);
__d("AdsMessengerVisualEditorCreateNewType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({WELCOME_MESSAGE:"welcome_message",CTM_LEAD_GEN:"ctm_lead_gen",FOLLOW_UP:"follow_up"});e.exports=a}),null);
__d("AdsMessengerMPAConstants",["fbt","AdsMessengerPartialAutomatedCreationTypes","DateTime"],(function(a,b,c,d,e,f,g){"use strict";a=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption;c={DEFAULT_INTRO_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Hi! Sign up to be the first to hear announcements and updates.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Hi {firstname}! Sign up to be the first to hear announcements and updates.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:"text",media_content:""},DEFAULT_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Thanks for signing up! We'll let you know when there's something new to announce.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMTENT:{text:g._("Thanks for signing up, {firstname}! We'll let you know when there's something new to announce.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:"text",media_content:""},DEFAULT_INTRO_MESSAGE_CTM_LEAD_GEN:{text:g._("Hi. Please answer a few questions so we can get to know you better.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_LEAD_GEN:{text:g._("Hi {firstname}. Please answer a few questions so we can get to know you better.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:"text",media_content:""},DEFAULT_CONFIRMATION_MESSAGE_CTM_LEAD_GEN:{text:g._("Thanks for answering all the questions! We'll transfer you to a live agent as soon as possible.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_LEAD_GEN:{text:g._("Thanks for answering our questions. We'll contact you to let you know what happens next.").toString(),media_type:"text",media_content:""},DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN:g._("Thanks for your interest, but it doesn't look like we're a good fit at this time."),DEFAULT_CTM_LEAD_GEN_QUESTION_MESSAGE:g._("What city do you live in?"),DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN:g._("You've paused our automated questions. Let us know how we can help."),DEFAULT_CTM_LEAD_GEN_ANSWERS:[{fieldID:"",value:"",mediaContent:"",nextStep:a.NEXT_QUESTION}],DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT:g._("Almost there! Please finish answering our questions."),DEFAULT_FOLLOW_UP_MESSAGE:{schedule_time:b("DateTime").localNow().addMonths(1).getUnixTimestampSeconds(),text:"",media_type:"text",media_content:"",button_label:g._("Install Now").toString(),button_destination:"app",app_info:null,app_id:null,website_url:""}};e.exports=c}),null);
__d("AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",CAROUSEL:"carousel"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOTIFY_ME:"NOTIFY_ME",SIGN_UP:"SIGN_UP",GET_UPDATES:"GET_UPDATES"})}),null);
__d("MessengerAdsPartialAutomatedFollowUpButtonDestinationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WEBSITE:"website",APP:"app"})}),null);
__d("AdsMessengerPartialAutomatedCreationUtils",["fbt","AdsAPIBidStrategies","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsBulkValueUtils","AdsConversionWindowUtils","AdsInterfacesLogger","AdsMessengerMPAConstants","AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerUtils","AdsMessengerVisualEditorCreateNewType","AdsMessengerVisualEditorLoggerEvents","AdsPromotedObjectTypes","AdsUEditorCampaignDeliveryChangeOptimizationGoalAction","DateTime","MessengerAdsPartialAutomatedBroadcastMediaType","MessengerAdsPartialAutomatedBroadcastType","MessengerAdsPartialAutomatedFollowUpButtonDestinationType","PageAdminTypes","ads-lib-urllib","adsAccountGK","formatDate","isFalsey","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(a=b("AdsMessengerPartialAutomatedCreationTypes")).AdsMessengerPartialAutomatedCreationGoToOption,i=a.AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=a.AdsMessengerPartialAutomatedCreationSections,k=a.AdsMessengerPartialAutomatedCreationSectionStatus,l=10,m=g._("Not a valid URL");function n(a){return{step_id:0,message:a.text,media_type:a.media_type,media_content:a.media_content,step_type:"INTRO",reply_type:"NONE",next_step_ids:["1"],crm_field_id:null}}function o(a,b){return{step_id:b,message:a.text,media_type:a.media_type,media_content:a.media_content,step_type:"CONFIRMATION",reply_type:"NONE",crm_field_id:null}}function p(a,b){return{step_id:b,message:a,media_type:"text",step_type:"SUMMARY",reply_type:"TEXT",next_step_ids:[String(b+1)],crm_field_id:null}}function q(a,b){return{step_id:b,message:a,media_type:"text",step_type:"DISQUALIFY",reply_type:"NONE",crm_field_id:null}}function r(a,b,c){__p&&__p();if(!a.answers)return null;var d=a.answers&&a.answers.map(function(a){switch(a.nextStep){case h.NEXT_QUESTION:return String(b+2);case h.CONFIRMATION_MESSAGE:return String(c);case h.DISQUALIFY_MESSAGE:return String(c+1);default:return String(b+2)}}),e=a.answers&&a.answers.map(function(a){return a.value}),f=a.optionsFormat==="carousel"?a.answers&&a.answers.map(function(a){return{value:a.value,media_content:a.mediaContent}}):[],g=a.answers&&a.answers.map(function(a){return a.fieldID});return{step_id:b+1,step_type:"QUESTION",reply_type:"QUICK_REPLIES",message:a.questionMessage,media_type:"text",options_format:a.optionsFormat,answers:e,carousel_answers:f,answer_crm_field_ids:g,next_step_ids:d,crm_field_id:a.fieldID===""?null:a.fieldID}}function s(a){return a.some(function(a){return a.answers&&a.answers.some(function(a){return a.nextStep===h.DISQUALIFY_MESSAGE})})}function t(a,b,c,d){__p&&__p();if(a[c+1]==null)return h.NEXT_QUESTION;var e=a.filter(function(a){return a.step_type==="CONFIRMATION"});if(b.next_step_ids&&e&&b.next_step_ids[d]===e[0].id)return h.CONFIRMATION_MESSAGE;e=a.filter(function(a){return a.step_type==="DISQUALIFY"});if(b.next_step_ids&&e&&b.next_step_ids[d]===e[0].id)return h.DISQUALIFY_MESSAGE;return b.next_step_ids&&b.next_step_ids[d]===a[c+1].id?h.NEXT_QUESTION:h.NEXT_QUESTION}var u={EMPTY_QUESTION_SECTION_ERROR_MESSAGE:g._("At least one question is required"),EMPTY_FIELD_ERROR_MESSAGE:g._("This field is required"),EMPTY_IMAGE_ERROR_MESSAGE:g._("Select an image for your message"),EMPTY_VIDEO_ERROR_MESSAGE:g._("Select a video for your message"),EMPTY_FOLLOW_UP_GREETING_ANSWER:g._("Select an option"),EMPTY_FOLLOW_UP_SECTION_TEXT:g._("Enter the text for your message"),EMPTY_FOLLOW_UP_SECTION_BUTTON_LABEL:g._("Enter a label for your button"),EMPTY_FOLLOW_UP_SECTION_APP_INFO:g._("Choose an app to promote"),EMPTY_FOLLOW_UP_SECTION_WEB_INFO:g._("Choose a website to promote"),INVALID_FOLLOW_UP_SECTION_APP_INFO:g._("Enter a valid app ID"),INVALID_FOLLOW_UP_SECTION_WEB_INFO:g._("Enter a valid URL"),getMaxQuestionNumber:function(){return l},getMaxOptionNumber:function(){return l},getHeaderName:function(a){__p&&__p();switch(a){case j.INTRO_MESSAGE:return g._("Intro");case j.QUESTIONS:return g._("Questions");case j.CONFIRMATION_MESSAGE:return g._("Completion Message");case j.DISQUALIFY_MESSAGE:return g._("Disqualification Message");case j.REMINDER:return g._("Reminder");case j.PRIVACY_POLICY:return g._("Privacy Policy");case j.FOLLOW_UP:return g._("Follow-Up Message");case j.GREETING:return g._("Greeting");case j.STOP_QUESTION_MESSAGE:return g._("Confirmation to Pause Questions");case j.FIELD_IDS:return g._("Edit Field IDs");default:return""}},getSectionStatus:function(a,b){return b===!1?k.IN_PROGRESS:a===null?k.NO_ERROR:k.ERROR},getRequiredTextFieldErrorMessage:function(a,b){return a&&/\S/.test(a.toString())||!b?null:u.EMPTY_FIELD_ERROR_MESSAGE},getMediaErrorMessage:function(a,c,d){if(a==="image")return b("isTruthy")(c)||!d?null:u.EMPTY_IMAGE_ERROR_MESSAGE;else if(a==="video")return b("isTruthy")(c)||!d?null:u.EMPTY_VIDEO_ERROR_MESSAGE;return null},getQuestionsSectionErrorMessage:function(a,b){if(!b)return null;if(a.length===0)return u.EMPTY_QUESTION_SECTION_ERROR_MESSAGE;return!u.validateEachQuestionItem(a)?u.EMPTY_FIELD_ERROR_MESSAGE:null},getFollowUpGreetingAnswerErrorMessage:function(a){return!Object.prototype.hasOwnProperty.call(b("MessengerAdsPartialAutomatedBroadcastType"),a)?u.EMPTY_FOLLOW_UP_GREETING_ANSWER:null},getFollowUpSectionErrorMessages:function(a,b){__p&&__p();if(!b)return null;b={};(!a.text||a.text==null)&&(b.text=u.EMPTY_FOLLOW_UP_SECTION_TEXT);Boolean(a.button_label)||(b.button_label=u.EMPTY_FOLLOW_UP_SECTION_BUTTON_LABEL);if(a.media_type==="image"){var c=a.media_content;c==null&&(b.image_hash=u.EMPTY_IMAGE_ERROR_MESSAGE)}a.media_type==="video"&&(a.media_content==null||a.media_content==="")&&(b.video=u.EMPTY_VIDEO_ERROR_MESSAGE);a.button_destination=="app"&&(a.app_info||(b.app_info=u.EMPTY_FOLLOW_UP_SECTION_APP_INFO),isNaN(a.app_id)&&(b.app_info=u.INVALID_FOLLOW_UP_SECTION_APP_INFO));a.button_destination==="website"&&(a.website_url==null||a.website_url===""?b.web_info=u.EMPTY_FOLLOW_UP_SECTION_WEB_INFO:u.isValidURL(a.website_url)||(b.web_info=u.INVALID_FOLLOW_UP_SECTION_WEB_INFO));return Object.keys(b).length>0?b:null},isValidURL:function(a){var b=a.trim();a=a.match(/^(?:(\w+):)/)||[];a=a[1]||"";b=b.replace(/ /g,"%20");a||(b="http://"+b);a=/^http(s)?:\/\/(([\w-]+\.)+(xn--[\w-]+|\w+)|\[([\da-f]{0,4}:)*(?:[\da-f]{1,4}|(?:(?:\d{1,3}\.){3}\d{1,3}))\])\.?(:[0-9]+)?([/\?].*)?$/;return b.match(a)===null?!1:!0},getPrivacyPolicyLinkURLErrorMessage:function(a,c){__p&&__p();if(!c)return null;if(!a){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_EMPTY_PRIVACY_LINK});return u.EMPTY_FIELD_ERROR_MESSAGE}if(!b("ads-lib-urllib").isUrl(a)){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_INVALID_PRIVACY_LINK});return m}return null},getAnswerTypeName:function(a){__p&&__p();switch(a){case i.MULTIPLE_CHOICE:return g._("Options");case i.CUSTOM:return g._("Short Answer");case"ZIP_CODE":return g._("ZIP Code");case"CITY":return g._("City");case"STATE":return g._("State");case"COUNTRY":return g._("Country");case"EMAIL":return g._("Email");case"PHONE":return g._("Phone Number");case"JOB_TITLE":return g._("Job Title");case"COMPANY_NAME":return g._("Company Name");case"GENDER":return g._("Gender");case"DOB":return g._("Date of birth");case"NOTIFY_ME":return g._("Notify Me");case"SIGN_UP":return g._("Sign Up");case"GET_UPDATES":return g._("Get Updates")}return""},validateEachQuestionItem:function(a){return a.every(function(a,b){if(!a.questionMessage||a.answerType===null||!/\S/.test(a.questionMessage.toString()))return!1;if(a.answerType!==i.MULTIPLE_CHOICE)return!0;if(a.optionsFormat==="carousel")return a.answers&&a.answers[0]&&a.answers.every(function(a){return u.getMediaErrorMessage("image",a.mediaContent,!0)==null&&a.value!==""});else return a.answers&&a.answers[0]&&a.answers[0].value})},validatePartialAutomatedCreationData:function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();if(o===!0){if(!Boolean(p))return!1;if(typeof p=="string"&&!p.trim())return!1}m=u.getPrivacyPolicyLinkURLErrorMessage(f,!i);o=!0;p=s(a);p&&e===""&&(o=!1);f=!d||u.getMediaErrorMessage(d.media_type,d.media_content,!0)==null&&(d.media_type==="text"||d.text!=="");p=!i||u.getFollowUpGreetingAnswerErrorMessage((a[0]||{}).answerType)===null;e=!i||j==null||u.getFollowUpSectionErrorMessages(j,!0)==null;d=u.getMediaErrorMessage(c.media_type,c.media_content,!0)==null;j=!k||/\S/.test(l.toString());k=!(n!=null&&n.toggle&&n.appID==null);l=a.length>0;n=u.validateEachQuestionItem(a);a=h!=null&&(h.leadgen_tos_accepted||i);h=m==null;i=/\S/.test(g.toString());g=/\S/.test(c.text.toString());c=o&&f&&p&&e&&d&&l&&n&&i&&g&&h&&a&&j&&k;c?b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_CREATION_VALIDATION_SUCCESS}):b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_CREATION_VALIDATION_FAIL,data:{message:JSON.stringify({validDisqualify:o,validIntroMessage:f,validFollowUpGreetingAnswer:p,validFollowUpSection:e,validConfirmationMedia:d,validQuestionLength:l,validQuestionItems:n,validReminderText:i,validConfirmationMessage:g,validPrivacyPolicyURL:h,validPageLeadgenTOS:a,validStopQuestionMessage:j,validateHopAppSetting:k,privacyPolicyURLError:m})}});return c},getPostData:function(a,c,d,e,f,g,h,j,k,l,m,t,v,w){__p&&__p();var x=1,y=[],z=c.length+1;if(a!=null&&a.text!==""){a=n(a);x=a.step_id;y.push(a)}c.forEach(function(a,b){__p&&__p();switch(a.answerType){case i.MULTIPLE_CHOICE:var c=r(a,b,z);c!==null&&y.push(c);break;case i.CUSTOM:y.push({step_id:b+1,step_type:"QUESTION",reply_type:"TEXT",message:a.questionMessage,media_type:"text",next_step_ids:[String(b+2)],crm_field_id:a.fieldID===""?null:a.fieldID});break;case"ZIP_CODE":case"CITY":case"STATE":case"COUNTRY":case"EMAIL":case"PHONE":case"JOB_TITLE":case"COMPANY_NAME":case"GENDER":case"DOB":y.push({step_id:b+1,step_type:"QUESTION",reply_type:"PREFILL",prefill_type:a.answerType,message:a.questionMessage,media_type:"text",next_step_ids:[String(b+2)],crm_field_id:a.fieldID===""?null:a.fieldID,answer_validation_enabled:a.answerValidationEnabled,optional_question_enabled:a.optionalQuestionEnabled});break;case"NOTIFY_ME":case"SIGN_UP":case"GET_UPDATES":c=(c=a.answerType)!=null?c:"";y.push({step_id:b+1,step_type:"QUESTION",reply_type:"SUBSCRIBE",message:a.questionMessage,answers:[u.getAnswerTypeName(c).toString()],next_step_ids:[String(b+2)],crm_field_id:a.fieldID===""?null:a.fieldID});break;default:break}});w!=null&&(y.push(p(w,z)),z+=1);y.push(o(d,z));s(c)&&y.push(q(e,z+1));var A;f&&(A={schedule_time:f.schedule_time,text:f.text,media_type:f.media_type,media_content:f.media_content,button_label:f.button_label,button_destination:f.button_destination,app_id:f.app_id,website_url:f.website_url});a=v!=null&&v.toggle?v.appID:null;return{first_step_id:x,privacy_url:h===b("AdsMessengerVisualEditorCreateNewType").FOLLOW_UP?"www.example.com":l,step_list:y,is_preview:j,reminder_text:g,follow_up_message:A,partial_automated_type:h,account_id:k,stop_question_enabled:m,stop_question_message:t,handover_app_id:a}},getStateData:function(a,c,d,e,f){__p&&__p();var g={text:"",media_type:"text",media_content:""},h="",j={text:"",media_type:"text",media_content:""};d=d&&d[0];var k=null;if(d!=null){var l=d==null?void 0:d.media_type,m=b("DateTime").localNow().getUnixTimestampSeconds(),n=d==null?void 0:d.button_destination,o=d.schedule_time;m=b("isFalsey")(o)||o<m?b("DateTime").localNow().addMonths(1).getUnixTimestampSeconds():o;k={schedule_time:m,text:(o=d==null?void 0:d.text)!=null?o:"",media_type:l!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[l]:"text",media_content:(m=d==null?void 0:d.media_content)!=null?m:"",button_destination:n!=null?b("MessengerAdsPartialAutomatedFollowUpButtonDestinationType")[n]:"app",button_label:(o=d==null?void 0:d.button_label)!=null?o:"",app_info:null,app_id:d.app_id,website_url:(l=d.website_url)!=null?l:null}}var p=[];a.forEach(function(c,d){__p&&__p();if(!c)return;switch(c.step_type){case"INTRO":g={text:c.message,media_type:c.media_type!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[c.media_type]:"text",media_content:c.media_content};break;case"QUESTION":var e;switch(c.reply_type){case"ICE_BREAKERS":case"QUICK_REPLIES":case"SUBSCRIBE":e=i.MULTIPLE_CHOICE;break;case"TEXT":e=i.CUSTOM;break;case"PREFILL":e=c.prefill_type;break;default:e=null;break}if(e!==null){var f=c.answers&&c.answers.map(function(b,e){var f=t(a,c,d,e);return{fieldID:c.answer_crm_field_ids?c.answer_crm_field_ids[e]:"",value:b,mediaContent:c.carousel_answers&&c.carousel_answers[e].media_content,nextStep:f}});p.push({questionMessage:c.message,answerType:e,answerValidationEnabled:c.answer_validation_enabled,answers:f,optionalQuestionEnabled:c.optional_question_enabled,optionsFormat:c.options_format!=null?b("AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption")[c.options_format]:"text",fieldID:(f=c.crm_field_id)!=null?f:""})}break;case"CONFIRMATION":j={text:c.message,media_type:c.media_type!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[c.media_type]:"text",media_content:c.media_content};break;case"DISQUALIFY":h=c.message;break}});m={toggle:!1,appID:null};return{confirmationMessage:j,disqualifyMessage:h,introMessage:g,questionItems:p,reminderText:c,followUpMessage:k,hopAppSetting:m,stopQuestionEnabled:f==null?!0:e,stopQuestionMessage:(n=f)!=null?n:b("AdsMessengerMPAConstants").DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN.toString()}},getPlaceholderFieldID:function(a){return a.split(" ").join("_").toLowerCase()},getDefaultCTMLeadGenForm:function(){var a;return{confirmationMessage:(a=b("AdsMessengerMPAConstants")).DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_LEAD_GEN,disqualifyMessage:a.DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),introMessage:a.DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_LEAD_GEN,hopAppSetting:{toggle:!1,appID:null},questionItems:[{fieldID:"",questionMessage:a.DEFAULT_CTM_LEAD_GEN_QUESTION_MESSAGE.toString(),answerType:"CITY",answerValidationEnabled:!1,answers:null,optionalQuestionEnabled:!1,optionsFormat:"text"}],reminderText:a.DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString(),stopQuestionEnabled:!0,stopQuestionMessage:a.DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN.toString()}},getDefaultCTMAnnouncementForm:function(){var a;return{confirmationMessage:(a=b("AdsMessengerMPAConstants")).DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMTENT,disqualifyMessage:a.DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),introMessage:null,questionItems:[{fieldID:"",questionMessage:a.DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_ANNOUNCEMENT.text,answerType:"GET_UPDATES",answerValidationEnabled:!1,answers:null,optionalQuestionEnabled:!1,optionsFormat:"text"}],hopAppSetting:{toggle:!1,appID:null},reminderText:a.DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString(),followUpMessage:a.DEFAULT_FOLLOW_UP_MESSAGE,stopQuestionEnabled:!0,stopQuestionMessage:a.DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN.toString()}},canEditPrivacyPolicyURL:function(a){return a===b("PageAdminTypes").MODERATOR||a===b("PageAdminTypes").CONTENT_CREATOR||a===b("PageAdminTypes").MANAGER},shouldUpdateOptimization:function(a,c,d,e,f){__p&&__p();var g=b("AdsBulkValueUtils").getUniformValue(f.objective);if(g!==b("AdsAPIObjectives").MESSAGES&&g!==b("AdsAPIObjectives").CONVERSIONS||!a)return;g=b("AdsConversionWindowUtils").getDefaultConversionWindowMaybeExtended(f.account,b("AdsBulkValueUtils").getUniformValueOrDefault(f.objective,b("AdsAPIObjectives").NONE),e,b("AdsBulkValueUtils").getUniformValueOrDefault(f.promotedObjectType,b("AdsPromotedObjectTypes").NONE),b("AdsBulkValueUtils").getUniformValueOrDefault(f.bidStrategy,b("AdsAPIBidStrategies").NONE),!0);if(b("AdsMessengerUtils").isCTMLeadGen(d)){if(e===b("AdsAPIOptimizationGoals").CONVERSATIONS||e===b("AdsAPIOptimizationGoals").REPLIES){b("AdsUEditorCampaignDeliveryChangeOptimizationGoalAction").dispatch({campaignIDs:f.campaignIDs,hostID:c,optimizationGoal:b("AdsAPIOptimizationGoals").LEAD_GENERATION,isNewCampaign:b("AdsBulkValueUtils").getUniformValueOrDefault(f.isNewCampaign,!1),defaultConversionWindowLength:(a=g==null?void 0:g.ctConvWindowDays)!=null?a:null,defaultViewConversionWindowLength:(d=g==null?void 0:g.vtConvWindowDays)!=null?d:null},{line:"1247",module:"AdsMessengerPartialAutomatedCreationUtils.js"})}}else if(e===b("AdsAPIOptimizationGoals").LEAD_GENERATION){b("AdsUEditorCampaignDeliveryChangeOptimizationGoalAction").dispatch({campaignIDs:f.campaignIDs,hostID:c,optimizationGoal:b("adsAccountGK")._(f.account,"2iKPyfQrp")?b("AdsAPIOptimizationGoals").CONVERSATIONS:b("AdsAPIOptimizationGoals").REPLIES,isNewCampaign:b("AdsBulkValueUtils").getUniformValueOrDefault(f.isNewCampaign,!1),defaultConversionWindowLength:(a=g==null?void 0:g.ctConvWindowDays)!=null?a:null,defaultViewConversionWindowLength:(d=g==null?void 0:g.vtConvWindowDays)!=null?d:null},{line:"1266",module:"AdsMessengerPartialAutomatedCreationUtils.js"})}},getDefaultTemplateName:function(a){return g._("Generate Leads {date}",[g._param("date",b("formatDate")(b("DateTime").now(a.timezone_id).getUnixTimestampSeconds(),"m-d-y"))]).toString()},getDefaultQuestionMessage:function(a){__p&&__p();switch(a){case"GENDER":return g._("What is your gender?");case"PHONE":return g._("What is your phone number?");case"CITY":return g._("What city do you live in?");case"STATE":return g._("What state do you live in?");case"ZIP_CODE":return g._("What is your ZIP code?");case"COUNTRY":return g._("What country do you live in?");case"EMAIL":return g._("What is your email address?");case"JOB_TITLE":return g._("What is your job title?");case"COMPANY_NAME":return g._("What company do you work for?");default:return""}}};e.exports=u}),null);
__d("AdsUEditorAdgroupMessengerContentImageSelector.react",["ix","cx","fbt","AdsFBIconDownsized.react","AdsFullSizeImageBoxContainer.react","AdsImageSelectorV2Types","AdsUEditorImageSelectorV2Container.react","FDSButton.react","FDSText.react","LeftRight.react","React","ShimButton.react","XUIError.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsImageSelectorV2Types").AdsImageSource,k=function(a){var c=i._("Placeholder for selected image");return b("React").jsx(b("ShimButton.react"),{className:"_jkn",onClick:a.onSelectImageClick,children:b("React").jsx(b("AdsFBIconDownsized.react"),{"aria-label":c,className:"_jko",src:g("412549"),onClick:a.onSelectImageClick})})},l=function(a){return b("React").jsx(b("AdsFullSizeImageBoxContainer.react"),{className:"_jlc",crop:null,height:72,imageID:a.imageID,renderStyle:"SCALE_CROP",width:128,onClick:a.onSelectImageClick})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showImageDialog:!1},c.$3=function(a){a=a.toJSON();c.$7(a)},c.$6=function(){c.setState({showImageDialog:!0})},c.$4=function(){c.setState({showImageDialog:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a){return a?i._("Change Image"):i._("Select Image")};d.$2=function(a){a=a?b("immutable").OrderedSet([a]):b("immutable").OrderedSet();var c=b("immutable").OrderedSet([j.ACCOUNT_IMAGE,j.UPLOAD_IMAGE]);return b("React").jsx(b("AdsUEditorImageSelectorV2Container.react"),{accountID:this.props.accountID,initialSource:j.ACCOUNT_IMAGE,isShown:this.state.showImageDialog,maxSelectedImageIDs:1,selectedImageIDs:a,sourceTypeList:c,onConfirmLegacy:this.$3,onHide:this.$4})};d.$5=function(a){return this.props.isCondensedFormat!==!0?a?b("React").jsx(l,{imageID:a,onSelectImageClick:this.$6}):b("React").jsx(k,{onSelectImageClick:this.$6}):null};d.render=function(){var a,c=this.props.imageID;return(a=b("React")).jsxs("div",{children:[a.jsxs(b("LeftRight.react"),{direction:"left",children:[a.jsx("div",{className:"_3-93",children:this.$5(c)}),a.jsxs("div",{className:this.props.isCondensedFormat===!0?"_4sih":this.props.isShortWidth===!0?"_82_p":"_4sig",children:[b("React").jsx("div",{className:"_4sif",children:b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:i._("Recommended image size: 1200 x 628 pixels")})}),b("React").jsx("div",{className:"_jlf",children:b("React").jsx(b("XUIError.react"),{xuiError:this.props.imageError,children:b("React").jsx("div",{children:b("React").jsx(b("FDSButton.react"),{isDisabled:this.props.isEditDisabled,label:this.$1(c),use:"default",onClick:this.$6})})})})]})]}),this.$2(c)]})};d.$7=function(a){this.props.onImageSelect(a),this.setState({showImageDialog:!1})};return c}(b("React").Component);e.exports=a}),null);
__d("reverseArgs",[],(function(a,b,c,d,e,f){function a(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(void 0,c.reverse())}}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationCarouselOptionsContent.react",["cx","fbt","AdsImageIDUtils","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationUtils","AdsUEditorAdgroupMessengerContentImageSelector.react","FDSText.react","FDSTextInput.react","LeftRight.react","Link.react","React","curry","curryRight","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.account!=null?this.props.account.account_id:"",c=this.props.questionItem.answers?this.props.questionItem.answers[this.props.selectedItem].mediaContent:null,d=b("AdsImageIDUtils").getImageID({accountID:a,hash:c});c=b("AdsMessengerPartialAutomatedCreationUtils").getMediaErrorMessage("image",c,this.props.showError);var e=this.props.questionItem.answers?this.props.questionItem.answers[this.props.selectedItem].value:"",f=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(e,this.props.showError);return b("React").jsxs("div",{className:"_82_u",children:[b("React").jsxs(b("LeftRight.react"),{className:"_2pin",children:[b("React").jsx(b("FDSText.react"),{display:"block",size:"body3",weight:"bold",children:h._("Image")}),this.props.questionItem.answers!=null&&this.props.questionItem.answers.length!==1&&b("React").jsx(b("Link.react"),{onClick:b("curry")(this.props.onAnswerRemove,this.props.selectedItem),children:h._("Remove")})]}),b("React").jsx(b("AdsUEditorAdgroupMessengerContentImageSelector.react"),{accountID:a,imageError:c,imageID:d,isCondensedFormat:!1,isShortWidth:!0,onImageSelect:this.props.onImageSelect}),b("React").jsx("div",{className:"_3-8x _3-95",children:b("React").jsx(b("FDSTextInput.react"),{errorMessage:f,label:h._("Headline"),maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,value:e,onChange:b("curryRight")(this.props.onAnswersChange,this.props.selectedItem)})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationCarouselOptionsTabBar.react",["ix","cx","fbt","AdsFBIconDownsized.react","FDSButton.react","Grid.react","GridItem.react","React","TabBar.react","TabBarItem.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[];for(var c=0;c<this.props.itemCount;c++){var d="_823n"+(c>0?" _823a":"")+(c===this.props.selectedItem?" _823o":"")+(c===this.props.itemCount-1&&!this.props.showAddButton?" _839_":"");a.push(b("React").jsxs(b("TabBarItem.react"),{children:[b("React").jsx("div",{className:d,children:c+1}),b("React").jsx("div",{className:"_823p"}),b("React").jsx("div",{className:"_823q"})]},c))}return(d=b("React")).jsxs(b("Grid.react"),{cols:2,children:[d.jsx(b("GridItem.react"),{children:d.jsx(b("TabBar.react"),{onTabClick:this.props.onItemSelected,children:a})},"left"),d.jsx(b("GridItem.react"),{children:this.props.showAddButton&&b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("AdsFBIconDownsized.react"),{src:g("407424")}),label:i._("Add"),labelIsHidden:!0,onClick:this.props.onAddOption})},"right")]})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react",["ix","AdsMessengerPartialAutomatedCreationTypes","Image.react","React","asset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;function a(a){__p&&__p();switch(a.questionType){case"GENDER":return b("React").jsx(b("Image.react"),{src:g("481918")});case"PHONE":return b("React").jsx(b("Image.react"),{src:g("558160")});case"CITY":return b("React").jsx(b("Image.react"),{src:g("481941")});case"STATE":return b("React").jsx(b("Image.react"),{src:g("481941")});case"ZIP_CODE":return b("React").jsx(b("Image.react"),{src:g("481941")});case"COUNTRY":return b("React").jsx(b("Image.react"),{src:g("481941")});case"EMAIL":return b("React").jsx(b("Image.react"),{src:g("495078")});case"JOB_TITLE":return b("React").jsx(b("Image.react"),{src:g("481904")});case"COMPANY_NAME":return b("React").jsx(b("Image.react"),{src:g("881985")});case h.CUSTOM:return b("React").jsx(b("Image.react"),{src:g("486061")});case h.MULTIPLE_CHOICE:return b("React").jsx(b("Image.react"),{src:g("486350")});default:return null}}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSDropdownMenu.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","asset","curry"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;function j(a,c){return{type:"item",label:b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(c),icon:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:c}),onClick:function(){return a(c)}}}function k(a,c){return{type:"item",label:b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(c),onClick:function(){return a(c)}}}function l(a){var b=a.label,c=a.icon;a=a.items;return{type:"submenu",label:b,icon:c,items:a}}function a(a){var c=b("curry")(j,a.onClick),d=b("curry")(k,a.onClick);return b("React").jsx(b("FDSDropdownMenu.react"),{buttonIcon:a.icon,items:[{type:"group",label:h._("Prefill Questions"),items:[c("PHONE"),c("EMAIL"),l({icon:b("React").jsx(b("Image.react"),{src:g("481941")}),label:h._("Address"),items:[d("CITY"),d("STATE"),d("ZIP_CODE"),d("COUNTRY")]}),c("JOB_TITLE"),c("COMPANY_NAME"),c("GENDER")]},{type:"group",label:h._("Custom Questions"),items:[c(i.CUSTOM),c(i.MULTIPLE_CHOICE)]}],label:a.label,maxHeight:360})}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationNUXConditionalStopSection.react",["ix","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","FDSTextInput.react","Image.react","React","asset","curry","curryRight","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,j=b("React").useEffect,k=b("React").useRef;function a(a){var c=k();j(function(){c.current&&c.current.focus&&a.index!==0&&c.current.focus()},[a.index]);var d=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.answer.value,a.showError),e=b("React").jsxs("span",{className:"_3-9a",children:[a.isSkipToEnabled?b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("575871")}),label:h._("Skip to ..."),labelIsHidden:!0,use:"flat",onClick:b("curry")(a.onGoToOptionClick,a.index)}):null,a.shouldShowRemoveOption&&b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("497562")}),label:h._("Remove"),labelIsHidden:!0,use:"flat",onClick:b("curry")(a.onAnswerRemove,a.index)})]});return b("React").jsxs("div",{className:"_3-96",children:[b("React").jsxs("span",{style:{display:"flex"},children:[b("React").jsx("span",{style:{width:340},children:b("React").jsx(b("FDSTextInput.react"),{errorMessage:a.index<1?d:null,label:a.answer.value,labelIsHidden:!0,maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,placeholder:h._("Enter an option"),ref:c,value:a.answer.value,onChange:b("curryRight")(a.onAnswersChange,a.index)})}),e]}),a.visibleGoToOptions[a.index]&&b("React").jsxs("div",{className:"_3-9a _3-8x",children:[b("React").jsx(b("Image.react"),{src:g("816776")}),b("React").jsx(b("FDSText.react"),{display:"inline",margin:"_3-9a _3-90",size:"body3",children:h._("Skip To")}),b("React").jsxs(b("FDSDropdownSelector.react"),{value:a.answer.nextStep,onChange:b("curry")(a.onNextStepChange,a.index),children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:i.DISQUALIFY_MESSAGE,children:h._("Disqualification")}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:i.CONFIRMATION_MESSAGE,children:h._("Completion")})]})]})]},a.index)}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationNUXQuestionItemCollapsed.react",["AdsMessengerPartialAutomatedCreationTypes","FDSSection.react","FDSText.react","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","cxMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;function a(a){function c(){if(!a.questionItem.answers)return;return b("React").jsx("div",{className:"_3-9c",children:a.questionItem.answers.map(function(a,c){a=a.value;return b("React").jsx("li",{style:{listStyleType:"disc"},children:b("React").jsx(b("FDSText.react"),{margin:"_3-8z",children:a})},c)})})}var d=b("PagesReplyComposerStore").getByKey("CTMLeadGenQuestion"+a.questionIndex.toString()).getState();return b("React").jsxs(b("FDSSection.react"),{children:[b("React").jsx(b("FDSText.react"),{children:d?b("PagesReplyComposerTextUtilities").processMessage(a.questionItem.questionMessage,d.supportedMacros):a.questionItem.questionMessage}),a.questionItem.answerType===g.MULTIPLE_CHOICE&&c()]})}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationNUXQuestionItemEmojiQuestionText.react",["cx","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsxs("div",{className:(a.isFocused?"":"_6t0z")+(a.isFocused?" _8c89":"")+" _8lk3",onBlur:a.onBlur,onFocus:a.onFocus,children:[b("React").jsx(b("PagesReplyComposerEditorContainer.react"),{config:a.config,isCTMLeadGen:!0,isFocused:a.isFocused,isNUXRefresh:!0,isNamesARTest:!0,welcomeString:a.questionText,onReplyChange:a.onQuestionTextChange}),b("React").jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config,isFocused:a.isFocused,isMessengerVERedesign:!0,isNUXRefresh:!0,onToolItemClicked:a.onToolItemClicked})]})}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationNUXQuestionItemQuestionText.react",["fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationUtils","FDSText.react","FDSTextArea.react","MessengerDestinationPartialAutomatedCreationNUXQuestionItemEmojiQuestionText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React").useEffect,i=b("React").useRef;function a(a){var c=i();h(function(){a.isFocused&&c.current&&c.current.focus&&c.current.focus()},[a.isFocused]);var d=g._("Text"),e=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.questionItem.questionMessage,a.showError),f=g._("Enter the text for your question"),j={composerKey:"CTMLeadGenQuestion"+a.questionIndex.toString(),initialDisabled:!1,initialReply:a.questionItem.questionMessage,isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:f};return b("React").jsx("div",{className:"_3-8x",children:a.isEmojiTest?b("React").jsx(b("MessengerDestinationPartialAutomatedCreationNUXQuestionItemEmojiQuestionText.react"),{config:j,isFocused:a.isQuestionFocused,questionText:a.questionItem.questionMessage,onBlur:a.onBlur,onFocus:a.onFocus,onQuestionTextChange:a.onQuestionTextChange,onToolItemClicked:a.onToolItemClicked}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:d}),b("React").jsx(b("FDSTextArea.react"),{errorMessage:e,label:d,labelIsHidden:!0,maxLength:b("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,placeholder:f,ref:c,rows:2,shouldAutoGrow:!0,value:a.questionItem.questionMessage,onChange:a.onQuestionTextChange})]})})}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationNUXQuestionItem.react",["ix","cx","fbt","AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorLoggerEvents","ClickableArea.react","FDSButton.react","FDSCard.react","FDSCardFooter.react","FDSCardHeader.react","FDSCheckboxInput.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSection.react","FDSSimplePopover.react","FDSText.react","Image.react","MessengerDestinationPartialAutomatedCreationCarouselOptionsContent.react","MessengerDestinationPartialAutomatedCreationCarouselOptionsTabBar.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","MessengerDestinationPartialAutomatedCreationNUXConditionalStopSection.react","MessengerDestinationPartialAutomatedCreationNUXQuestionItemCollapsed.react","MessengerDestinationPartialAutomatedCreationNUXQuestionItemQuestionText.react","React","adsAccountQE","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={autoFocus:!1,carouselSelectedItem:0,isCollapsed:d.props.isInitiallyCollapsed,isQuestionFocused:!1,showMoreOptions:!0,visibleGoToOptions:[]},d.$2=function(){var a=d.state.isCollapsed;d.setState({isCollapsed:!a})},d.$12=function(a){var c=a===k.MULTIPLE_CHOICE,e=c?[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}]:null;c=c?"text":null;e=babelHelpers["extends"]({},d.props.questionItem,{answerType:a,answerValidationEnabled:d.props.enableQuestionValidation&&(a==="EMAIL"||a==="PHONE"),answers:e,optionalQuestionEnabled:!1,optionsFormat:c,questionMessage:b("AdsMessengerPartialAutomatedCreationUtils").getDefaultQuestionMessage(a).toString()});d.props.onQuestionItemChange(e,d.props.questionIndex)},d.$6=function(a){a=babelHelpers["extends"]({},d.props.questionItem,{questionMessage:a});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$13=function(){var a=babelHelpers["extends"]({},d.props.questionItem,{optionalQuestionEnabled:!d.props.questionItem.optionalQuestionEnabled});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$14=function(){var a=babelHelpers["extends"]({},d.props.questionItem,{answerValidationEnabled:!d.props.questionItem.answerValidationEnabled});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$19=function(a,b){var c=Object.assign({},d.props.questionItem);if(!c.answers)return;c.answers[b].value=a;d.props.onQuestionItemChange(c,d.props.questionIndex)},d.$18=function(a){__p&&__p();var b=Object.assign({},d.props.questionItem);if(!b.answers)return;var c=a>=b.answers.length-1?a-1:a;b.answers=b.answers.filter(function(b,c){return c!==a});d.setState(function(b){var d=[].concat(b.visibleGoToOptions);d.splice(a,1);return babelHelpers["extends"]({},b,{carouselSelectedItem:c,visibleGoToOptions:d})});d.props.onQuestionItemChange(b,d.props.questionIndex)},d.$24=function(a){var b=[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}];b=babelHelpers["extends"]({},d.props.questionItem,{answers:b,optionsFormat:a});d.props.onQuestionItemChange(b,d.props.questionIndex);d.setState({carouselSelectedItem:0})},d.$22=function(){if(!d.props.questionItem.answers)return;var a=d.props.questionItem.answers.concat({fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""});a=babelHelpers["extends"]({},d.props.questionItem,{answers:a});d.setState(function(a){var b=[].concat(a.visibleGoToOptions);b.push(!1);return babelHelpers["extends"]({},a,{autoFocus:!0,visibleGoToOptions:b})});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$23=function(){d.props.onRemoveQuestion(d.props.questionIndex)},d.$23=function(){d.props.onRemoveQuestion(d.props.questionIndex)},d.$5=function(){d.setState({isQuestionFocused:!0})},d.$4=function(){d.setState({isQuestionFocused:!1})},d.$21=function(a,b){var c=Object.assign({},d.props.questionItem);if(!c.answers)return;c.answers[a].nextStep=b;d.props.onQuestionItemChange(c,d.props.questionIndex)},d.$20=function(a){var b=d.state.visibleGoToOptions;b=b.slice();b[a]=!b[a];d.$21(a,b[a]?j.DISQUALIFY_MESSAGE:j.NEXT_QUESTION);d.setState({visibleGoToOptions:b})},d.$26=function(a){var b=Object.assign({},d.props.questionItem);a=a&&a[0];if(!a||!b.answers)return;if(a.hash)b.answers[d.state.carouselSelectedItem].mediaContent=a.hash;else return;d.props.onQuestionItemChange(b,d.props.questionIndex)},d.$25=function(a){d.setState({carouselSelectedItem:+a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){if(b.visibleGoToOptions.length!==0)return babelHelpers["extends"]({},b);a=a.questionItem.answers?a.questionItem.answers.map(function(a){return a.nextStep!==j.NEXT_QUESTION}):[];return babelHelpers["extends"]({},b,{visibleGoToOptions:a})};var d=c.prototype;d.render=function(){var a=this.props.questionItem.answerType?b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(this.props.questionItem.answerType):"";a=b("React").jsxs("span",{className:"_8k_7",children:[b("React").jsx("span",{className:"_8k_8",children:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:this.props.questionItem.answerType})}),b("React").jsx(b("FDSText.react"),{margin:"_3-9a",size:"header3",children:a})]});var c=l.QUESTIONS+"-"+this.props.questionIndex;return b("React").jsx("div",{className:"_8k_5 _8nkk",id:c,children:b("React").jsx(b("ClickableArea.react"),{onClick:this.props.onClick,children:b("React").jsx("div",{children:b("React").jsx(b("FDSCard.react"),{footer:!this.state.isCollapsed&&this.props.questionCount>1?b("React").jsx(b("FDSCardFooter.react"),{primaryButton:this.$1()}):null,header:b("React").jsx(b("FDSCardHeader.react"),{button:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:this.state.isCollapsed?g("478817"):g("515078")}),label:"Edit",labelIsHidden:!0,margin:"_3-92",size:"small",use:"flat",onClick:this.$2},"edit"),title:a}),children:this.state.isCollapsed?b("React").jsx(b("MessengerDestinationPartialAutomatedCreationNUXQuestionItemCollapsed.react"),{questionIndex:this.props.questionIndex,questionItem:this.props.questionItem}):b("React").jsxs(b("FDSSection.react"),{children:[this.$3(),b("React").jsx(b("MessengerDestinationPartialAutomatedCreationNUXQuestionItemQuestionText.react"),{isEmojiTest:this.props.isEmojiTest,isFocused:this.props.isFocused,isQuestionFocused:this.state.isQuestionFocused,pageID:this.props.pageID,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,questionItemID:c,showError:this.props.showError,onBlur:this.$4,onFocus:this.$5,onQuestionTextChange:this.$6,onToolItemClicked:this.$7}),this.$8(),this.$9(),this.$10(),this.$11()]})})})})})};d.$3=function(){var a=this.props.questionItem.answerType||!this.props.showError?null:i._("Choose an answer type");return b("React").jsxs("div",{children:[this.props.showError&&b("React").jsx("span",{children:a}),b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Question Type")}),b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react"),{label:b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(this.props.questionItem.answerType||""),onClick:this.$12})]})};d.$8=function(){var a;a=(a=b("adsAccountQE")._(this.props.account,"2aBwSSLd6:aMplHKvumt0",{}))!=null?a:!1;if(a){return(a=b("React")).jsxs("div",{className:"_8wnr",children:[a.jsx(b("FDSCheckboxInput.react"),{label:i._("Optional question"),value:Boolean(this.props.questionItem.optionalQuestionEnabled),onChange:this.$13}),a.jsx("span",{className:"_3-99",children:a.jsx(b("FDSSimplePopover.react"),{content:i._("People can skip this question.")})})]})}};d.$9=function(){if(this.props.enableQuestionValidation&&(this.props.questionItem.answerType==="EMAIL"||this.props.questionItem.answerType==="PHONE")){var a;return(a=b("React")).jsxs("div",{className:"_8wnr",children:[a.jsx(b("FDSCheckboxInput.react"),{label:i._("Answer validation"),value:Boolean(this.props.questionItem.answerValidationEnabled),onChange:this.$14}),a.jsx("span",{className:"_3-99",children:a.jsx(b("FDSSimplePopover.react"),{content:i._("Answers that appear invalid will prompt the question again.")})})]})}};d.$11=function(){if(this.props.questionItem.answerType!==k.MULTIPLE_CHOICE)return null;else if(this.props.questionItem.optionsFormat==="carousel")return this.$15();else return b("React").jsxs("div",{className:"_3-8x",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Options")}),this.$16(),this.$17()]})};d.$16=function(){var a=this;return!this.props.questionItem.answers?null:this.props.questionItem.answers.map(function(c,d){var e=a.props.questionItem.answers!=null&&a.props.questionItem.answers.length>1;return b("React").jsx(b("MessengerDestinationPartialAutomatedCreationNUXConditionalStopSection.react"),{answer:c,autoFocus:a.state.autoFocus,index:d,isSkipToEnabled:a.props.isSkipToEnabled,shouldShowRemoveOption:e,showError:a.props.showError,visibleGoToOptions:a.state.visibleGoToOptions,onAnswerRemove:a.$18,onAnswersChange:a.$19,onGoToOptionClick:a.$20,onNextStepChange:a.$21},d)})};d.$17=function(){return this.props.questionItem.answers&&this.props.questionItem.answers.length>=b("AdsMessengerPartialAutomatedCreationUtils").getMaxOptionNumber()?null:b("React").jsx(b("FDSButton.react"),{label:i._("+ Add Option"),onClick:this.$22})};d.$1=function(){return b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("483825")}),label:i._("Remove"),onClick:this.$23})};d.$10=function(){if(!this.props.showRichFormat||this.props.questionItem.answerType!==k.MULTIPLE_CHOICE)return null;else{var a;return(a=b("React")).jsxs("div",{className:"_3-8x",children:[a.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Options Format")}),a.jsxs(b("FDSDropdownSelector.react"),{buttonUse:"default",value:this.props.questionItem.optionsFormat,onChange:this.$24,children:[a.jsx(b("FDSDropdownSelectorOption.react"),{value:"text",children:i._("Text")}),a.jsx(b("FDSDropdownSelectorOption.react"),{value:"carousel",children:i._("Carousel")})]})]})}};d.$15=function(){if(!this.props.showRichFormat||this.props.questionItem.optionsFormat!=="carousel")return null;else return b("React").jsxs("div",{className:"_3-8x",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Carousel Options")}),b("React").jsx(b("MessengerDestinationPartialAutomatedCreationCarouselOptionsTabBar.react"),{itemCount:this.props.questionItem.answers!=null?this.props.questionItem.answers.length:0,selectedItem:this.state.carouselSelectedItem,showAddButton:!!(this.props.questionItem.answers!=null&&this.props.questionItem.answers.length<b("AdsMessengerPartialAutomatedCreationUtils").getMaxOptionNumber()),onAddOption:this.$22,onItemSelected:this.$25}),b("React").jsx(b("MessengerDestinationPartialAutomatedCreationCarouselOptionsContent.react"),{account:this.props.account,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,selectedItem:this.state.carouselSelectedItem,showError:this.props.showError,onAnswerRemove:this.$18,onAnswersChange:this.$19,onImageSelect:this.$26,onQuestionItemChange:this.props.onQuestionItemChange})]})};d.$7=function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_PERSONALIZE_QUESTION})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerAdsPartialAutomatedPrefillType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ZIP_CODE:"ZIP_CODE",CITY:"CITY",STATE:"STATE",COUNTRY:"COUNTRY",EMAIL:"EMAIL",PHONE:"PHONE",JOB_TITLE:"JOB_TITLE",COMPANY_NAME:"COMPANY_NAME",GENDER:"GENDER",DOB:"DOB",NONE:"NONE"})}),null);
__d("MessengerDestinationPartialAutomatedCreationQuestionDraggableItem.react",["cx","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","MessengerDestinationPartialAutomatedCreationNUXQuestionItem.react","React","withAbstractDraggableDataSource"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.item,c=a.id;a=a.isMovable;return b("React").jsxs(b("FBOverlayContainer.react"),{className:this.props.dragging?"_7s8r":"",style:{width:this.props.width},onClick:this.$1,children:[b("React").jsx(b("FBOverlayBase.react"),{children:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationNUXQuestionItem.react"),babelHelpers["extends"]({},this.props.item,{goToOptionsEnabled:!0}))}),b("React").jsx(b("FBOverlayElement.react"),{horizontal:"fit",ref:this.props.setRef,vertical:"top",children:b("React").jsx("div",{className:(a?"_8nkj":"")+(a?" _8njv":"")})})]},c)};d.$1=function(a){a.stopPropagation()};return c}(b("React").Component);e.exports=b("withAbstractDraggableDataSource")(a)}),null);
__d("MessengerDestinationPartialAutomatedCreationNUXSectionQuestions.react",["ix","cx","fbt","AbstractDraggableList.react","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSText.react","Image.react","MessengerAdsPartialAutomatedPrefillType","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react","MessengerDestinationPartialAutomatedCreationQuestionDraggableItem.react","React","adsAccountQE","asset","curry","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections;function a(a){__p&&__p();var c,d=(c=b("adsAccountQE")._(a.account,"49GwS7ust:6obODMrX8JD",{}))!=null?c:!1;function e(b,c){a.onAddQuestion(b,c,d),a.setFocusedIndex(a.questionItems.length)}function f(b){a.setFocusedIndex(b)}function h(b,c){var d=a.questionItems.slice(),e=d.splice(b,1)[0];c=c==null?d.length:b>c?c:c-1;d.splice(c,0,e);a.onSetQuestions(d);e=a.focusedIndex;b>e&&c<=e?f(e+1):b<e&&c>=e?f(e-1):b===e&&f(c)}function m(){if(!a.questionItems)return null;var c=a.questionItems.map(function(a,b){return b}),e={};a.questionItems&&a.questionItems.forEach(function(c,g){e[g]={account:a.account,enableQuestionValidation:d,id:g,isEmojiTest:a.isEmojiTest,isFocused:a.focusedIndex===g,isInitiallyCollapsed:Object.prototype.hasOwnProperty.call(b("MessengerAdsPartialAutomatedPrefillType"),c.answerType),isMovable:a.questionItems.length>1,isSkipToEnabled:a.isSkipToEnabled,pageID:a.pageID,placeholderClassName:"_7sx4",questionCount:a.questionItems==null?0:a.questionItems.length,questionIndex:g,questionItem:c,showError:a.showError,showRichFormat:a.showRichFormat,onClick:b("curry")(f,g),onQuestionItemChange:a.onQuestionItemChange,onRemoveQuestion:a.onRemoveQuestion}});return b("React").jsx(b("AbstractDraggableList.react"),{itemIDs:c,itemsByID:e,itemsRenderer:b("MessengerDestinationPartialAutomatedCreationQuestionDraggableItem.react"),onRemove:b("emptyFunction"),onReorder:h})}function n(a){var b=a===k.MULTIPLE_CHOICE;b=b?[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}]:null;e(a,b)}function o(){return a.questionItems.length>=b("AdsMessengerPartialAutomatedCreationUtils").getMaxQuestionNumber()?null:b("React").jsx("div",{className:"_8k_5",style:{bottom:0,position:"absolute"},children:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react"),{icon:b("React").jsx(b("Image.react"),{src:g("483768")}),label:i._("Add Question"),onClick:n})})}return b("React").jsxs("div",{className:"_8k_4",id:l.QUESTIONS,children:[b("React").jsxs("div",{className:"_8k_5",children:[b("React").jsxs("div",{style:{display:"flex",alignItems:"center"},children:[b("React").jsx(b("FDSText.react"),{display:"inline",margin:"_3-8_",size:"header3",children:b("AdsMessengerPartialAutomatedCreationUtils").getHeaderName(l.QUESTIONS)}),a.showError&&a.sectionValidationErrors.has(l.QUESTIONS)&&b("React").jsx(b("Image.react"),{src:g("480268")})]}),b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Ask a sequence of questions to help qualify your lead.")})]}),b("React").jsxs("div",{style:{paddingBottom:"52px",position:"relative"},children:[o(),m()]})]})}e.exports=a}),null);
__d("AdsMessengerSavedResponseIndexProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{}};e.exports=a}),null);
__d("AdsUEditorAdgroupSavedResponseIndexReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,(a={},a[b.contentEditorTab]=b.index,a))}};e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react",["cx","fbt","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerErrorSpecType","AdsMessengerErrorSpecUtils","AdsMessengerSetSavedResponseIndexAction","AdsMessengerVisualEditorLoggerEvents","ClickableArea.react","FDSCloseButton.react","FDSText.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerTextUtilities","PagesReplyComposerToolbarContainer.react","React","SUITextArea.react","SUITextInput.react","curry","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Enter the answer to this question");function j(a,c,d,e,f,g,h,i,j,k){return b("React").jsxs("div",{className:"_3-96"+(e?"":" _7md2")+(e?" _7xz_":""),onBlur:j,onFocus:i,children:[b("React").jsx(b("PagesReplyComposerEditorContainer.react"),{config:a,isEditDisabled:c,isNamesARTest:f,welcomeString:g,onReplyChange:h}),d&&b("React").jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a,isFocused:e,isMessengerVERedesign:!0,onToolItemClicked:k})]})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isMaxLengthHidden:!0,isSelected:!1,isHilightedAR:!1,isFocusedAR:!1},d.$1=function(){if(d.props.editorTab==null)return;b("AdsMessengerSetSavedResponseIndexAction").dispatch({contentEditorTab:d.props.editorTab,index:d.props.index},{line:"247",module:"AdsUEditorAdgroupMessengerFAQContentIceBreaker.react.js"})},d.$3=function(a){d.props.onIceBreakerChange(d.props.index,a,"title")},d.$6=function(a){d.props.onIceBreakerChange(d.props.index,a,"response")},d.$4=function(){d.setState({isMaxLengthHidden:!1,isSelected:!0})},d.$2=function(){d.setState({isMaxLengthHidden:!0,isSelected:!1})},d.$7=function(){d.setState({isSelected:!0,isFocusedAR:!0,isHilightedAR:!0})},d.$5=function(){d.setState({isSelected:!1,isHilightedAR:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("AdsMessengerErrorSpecUtils").getCTAError(this.props.errorSpec,b("AdsMessengerErrorSpecType").ICE_BREAKERS,this.props.index);a=a?String(a.errorMessage):null;var c=this.props.getResponseText(this.props.index);this.props.isEditDisabled==!0&&(c=b("PagesReplyComposerTextUtilities").processMessage(this.props.getResponseText(this.props.index)||"",this.props.composerState.supportedMacros));c={composerKey:this.props.index.toString(),initialDisabled:this.props.isEditDisabled===!0,initialReply:c||"",isAdsInterfaceSource:!0,maxCharacterLength:b("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_LENGTH,pageID:this.props.pageID,placeholderText:h._("Enter the answer to this question.")};return b("React").jsx(b("ClickableArea.react"),{onClick:this.$1,children:b("React").jsxs("div",{className:(this.state.isSelected?"":"_79x_")+(this.state.isSelected?" _7x_t":""),children:[this.props.showRemove&&b("React").jsx("span",{className:"rfloat",children:b("React").jsx(b("FDSCloseButton.react"),{isDisabled:this.props.isEditDisabled,onClick:this.props.isEditDisabled===!0?b("emptyFunction"):b("curry")(this.props.onRemoveIceBreaker,this.props.index)})}),b("React").jsxs(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"body2",weight:"bold",children:[h._("Question")," #",this.props.showQPCIcebreakersDisclaimer===!0?this.props.index+2:this.props.index+1]}),b("React").jsx(b("SUITextInput.react"),{disabled:this.props.isEditDisabled,errorMessage:a,isMaxLengthHidden:this.state.isMaxLengthHidden,maxLength:b("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,placeholder:null,value:this.props.value.title,onBlur:this.$2,onChange:this.$3,onFocus:this.$4}),b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-95 _3-8y",size:"body2",weight:"bold",children:h._("Automated Response (Optional)")}),!this.props.isNamesARTest&&b("React").jsx(b("SUITextArea.react"),{disabled:this.props.isEditDisabled,isMaxLengthHidden:!1,maxLength:b("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_LENGTH,placeholder:i,shouldAutoGrow:!0,value:this.props.value.response,onBlur:this.$5,onChange:this.$6,onFocus:this.$7}),this.props.isNamesARTest&&j(c,this.props.isEditDisabled,this.state.isFocusedAR,this.state.isHilightedAR,this.props.isNamesARTest,this.props.getResponseText(this.props.index),this.$6,this.$7,this.$5,this.$8)]})})};d.$8=function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_PERSONALIZE_SAVED_RESPONSE})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesCometGetQuoteCTASetupFlowString",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Please add at least 2 answer options.");b=g._("Please enter a message");c=g._("Please enter a question");d=g._("Leaving will discard any changes you've made.");f=g._("Discard Changes");var h=g._("A Get Quote button has been added to your Page."),i=g._("Your questions for potential customers will be sent to people who:"),j=g._("Tap your Get Quote button"),k=g._("They message you for the first time"),l=g._("This will help you collect potential customer information and get more leads."),m=g._("Confirmation"),n=g._("Deleting this question cannot be undone."),o=g._("Delete Question"),p=g._("Respond to Messages"),q=g._("Preview sent in Messenger"),r=g._("Set up the questions you'd like to ask people when they click your Page's button."),s=g._("Questions for Potential Customers"),t=g._("Your Get Quote button has been created"),u=g._("Create Get Quote Button"),v=g._("Ask for the Most Important Info"),w=g._("It's best to ask around 3 questions to keep your customers engaged in the conversation."),x=g._("Hide Advanced Options"),y=g._("Respond faster and get more leads by sending your questions to more people."),z=g._("As well as asking questions to people who tap Get Quote, you can:"),A=g._("Send questions to people who message you for the first time"),B=g._("Send Questions to More People"),C=g._("Welcome people to the conversation."),D=g._("Intro"),E=g._("If you'll be collecting customer information, we strongly recommend you include a link to your business' privacy policy."),F=g._("Privacy Policy (Optional)"),G=g._("We have 3 automated questions to help us respond to you faster."),H=g._("After your intro, this prompt will be sent so people can choose to either answer your questions or message you directly."),I=g._("Question Prompt"),J=g._("City"),K=g._("Company Name"),L=g._("Country"),M=g._("Email"),N=g._("Job Title"),O=g._("Multiple Choice"),P=g._("Phone Number"),Q=g._("Short Answer"),R=g._("State"),S=g._("ZIP Code"),T=g._("Ask a sequence of questions to see if people are potential customers. These questions help qualify your leads."),U=g._("Send an automated message to people who haven't finished your questions within 24 hours."),V=g._("Reminder"),W=g._("See Advanced Options"),X=g._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next."),Y=g._("Confirmation to Pause Questions"),Z=g._("Thank people for their answers and let them know what happens next.");g=g._("Completion Message");e.exports={ADD_ANSWER_OPTIONS_TOOLTIP_TEXT:a,ENTER_MESSAGE_TOOLTIP_TEXT:b,ENTER_QUESTION_TOOLTIP_TEXT:c,GET_QUOTE_CTA_SETUP_CANCEL_CHANGE_DIALOG_BODY:d,GET_QUOTE_CTA_SETUP_CANCEL_CHANGE_DIALOG_TITLE:f,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_BUTTON_PART:h,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_CHANNEL_PART_A:i,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_CHANNEL_PART_B:j,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_CHANNEL_PART_C:k,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_SUMMARY_PART:l,GET_QUOTE_CTA_SETUP_CONFIRMATION_TITLE:m,GET_QUOTE_CTA_SETUP_DELETE_QUESTION_DIALOG_BODY:n,GET_QUOTE_CTA_SETUP_DELETE_QUESTION_DIALOG_TITLE:o,GET_QUOTE_CTA_SETUP_INBOX_UPSELL_TITLE:p,GET_QUOTE_CTA_SETUP_PREVIEW_SENT_TOAST_TEXT:q,GET_QUOTE_CTA_SETUP_QUESTIONS_SETTING_DESCRIPTION:r,GET_QUOTE_CTA_SETUP_QUESTIONS_SETTING_TITLE:s,GET_QUOTE_CTA_SETUP_SUCCESSFULLY_TOAST_TEXT:t,GET_QUOTE_CTA_SETUP_UPSELL_TITLE:u,GUIDANCE_CARD_BODY:w,GUIDANCE_CARD_TITLE:v,HIDE_ADVANCED_OPTIONS_BUTTON_LABEL:x,INBOX_UPSELL_DESCRIPTION_PART_A:y,INBOX_UPSELL_DESCRIPTION_PART_B:z,INBOX_UPSELL_DESCRIPTION_PART_C:A,INBOX_UPSELL_HEADER:B,INTRO_MESSAGE_SETTING_SUBTITLE:C,INTRO_MESSAGE_SETTING_TITLE:D,PRIVACY_POLICY_URL_SETTING_SUBTITLE:E,PRIVACY_POLICY_URL_SETTING_TITLE:F,QUESTION_PROMPT_PREVIEW:G,QUESTION_PROMPT_SUBTITLE:H,QUESTION_PROMPT_TITLE:I,QUESTION_SETTING_ANSWER_TYPE_CITY:J,QUESTION_SETTING_ANSWER_TYPE_COMPANY_NAME:K,QUESTION_SETTING_ANSWER_TYPE_COUNTRY:L,QUESTION_SETTING_ANSWER_TYPE_EMAIL:M,QUESTION_SETTING_ANSWER_TYPE_JOB_TITLE:N,QUESTION_SETTING_ANSWER_TYPE_MULTI_CHOICE:O,QUESTION_SETTING_ANSWER_TYPE_PHONE_NUMBER:P,QUESTION_SETTING_ANSWER_TYPE_SHORT_ANSWER:Q,QUESTION_SETTING_ANSWER_TYPE_STATE:R,QUESTION_SETTING_ANSWER_TYPE_ZIP_CODE:S,QUESTION_SETTING_SUBTITL:T,REMINDER_MESSAGE_SETTING_SUBTITLE:U,REMINDER_MESSAGE_SETTING_TITLE:V,SEE_ADVANCED_OPTIONS_BUTTON_LABEL:W,STOP_QUESTION_SETTING_SUBTITLE:X,STOP_QUESTION_SETTING_TITLE:Y,THANK_YOU_MESSAGE_SETTING_SUBTITLE:Z,THANK_YOU_MESSAGE_SETTING_TITLE:g}}),null);
__d("MessengerAdsPartialAutomatedReplyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUICK_REPLIES:"QUICK_REPLIES",TEXT:"TEXT",NONE:"NONE",PREFILL:"PREFILL",ICE_BREAKERS:"ICE_BREAKERS",APPOINTMENT:"APPOINTMENT",SUBSCRIBE:"SUBSCRIBE"})}),null);
__d("ServicesGetQuoteCTASetupUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","MessengerAdsPartialAutomatedPrefillType","MessengerAdsPartialAutomatedReplyType","ServicesCometGetQuoteCTASetupFlowString","ServicesURIUtils","enumUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=(h=b("ServicesCometGetQuoteCTASetupFlowString")).QUESTION_SETTING_ANSWER_TYPE_CITY,k=h.QUESTION_SETTING_ANSWER_TYPE_COMPANY_NAME,l=h.QUESTION_SETTING_ANSWER_TYPE_COUNTRY,m=h.QUESTION_SETTING_ANSWER_TYPE_EMAIL,n=h.QUESTION_SETTING_ANSWER_TYPE_JOB_TITLE,o=h.QUESTION_SETTING_ANSWER_TYPE_MULTI_CHOICE,p=h.QUESTION_SETTING_ANSWER_TYPE_PHONE_NUMBER,q=h.QUESTION_SETTING_ANSWER_TYPE_SHORT_ANSWER,r=h.QUESTION_SETTING_ANSWER_TYPE_STATE,s=h.QUESTION_SETTING_ANSWER_TYPE_ZIP_CODE;h=80;var t=g._("The URL is invalid");function a(a){return a.map(function(a){var c;a.prefill_type!==null&&a.prefill_type!=="NONE"?c=b("enumUtils").enumValueToKeyEnforcing(a.prefill_type,b("MessengerAdsPartialAutomatedPrefillType")):a.reply_type!==null&&a.reply_type==="QUICK_REPLIES"?c=i.MULTIPLE_CHOICE:c=i.CUSTOM;a={answerType:c,answers:a.answers.slice(),message:(c=a.message)!=null?c:"",prefillType:(c=b("enumUtils").enumValueToKey(a.prefill_type,b("MessengerAdsPartialAutomatedPrefillType")))!=null?c:void 0,replyType:(c=b("enumUtils").enumValueToKey(a.reply_type,b("MessengerAdsPartialAutomatedReplyType")))!=null?c:void 0};return a})}function c(){var a=[];a.push({value:i.CUSTOM});a.push({value:i.MULTIPLE_CHOICE});var b=["CITY","PHONE","ZIP_CODE","STATE","COUNTRY","EMAIL","JOB_TITLE","COMPANY_NAME"];b.map(function(b){b={aux:g._("User Information").toString(),value:b};a.push(b)});return a}function d(a){__p&&__p();switch(a){case i.MULTIPLE_CHOICE:return o;case i.CUSTOM:return q;case"CITY":return j;case"COMPANY_NAME":return k;case"COUNTRY":return l;case"EMAIL":return m;case"JOB_TITLE":return n;case"PHONE":return p;case"STATE":return r;case"ZIP_CODE":return s;default:return q}}function f(a){var c;switch(a){case i.MULTIPLE_CHOICE:c=i.MULTIPLE_CHOICE;break;case i.CUSTOM:c=i.CUSTOM;break;default:c=b("enumUtils").coerceFromKey(a,b("MessengerAdsPartialAutomatedPrefillType"))}return(a=c)!=null?a:i.CUSTOM}function u(a){return a===""?null:b("ServicesURIUtils").isValidURI(a)?null:t}function v(a,b){var c=a.answers,d=a.answerType;a=a.message;var e=b.answers,f=b.answerType;b=b.message;if(a!==b||a===""||d!==f)return!1;return d===i.MULTIPLE_CHOICE?c.length!==e.length?!1:!c.some(function(a,b){return a!==e[b]}):!0}e.exports={ANSWER_CHAR_LIMIT:h,buildAutomatedQuestionMessagesFromGraphql:a,getAnswerTypeFromString:f,getAnswerTypeName:d,getPrivacyURLError:u,getQuestionTypeOptionsValue:c,isQuestionMessageSame:v}}),null);
__d("CommerceInvoiceAdminActionsTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({TOGGLE_ADMIN_ACTION_DIALOG:""});e.exports=a}),null);
__d("CommerceInvoiceAdminDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("CommerceInvoiceAdminActions",["CommerceInvoiceAdminActionsTypes","CommerceInvoiceAdminDispatcher"],(function(a,b,c,d,e,f){"use strict";a={toggleActionsDialog:function(a,c,d,e,f){c===void 0&&(c=null),d===void 0&&(d=null),e===void 0&&(e=null),b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").TOGGLE_ADMIN_ACTION_DIALOG,showDialog:a,messageID:c,dialogView:d,referrer:e,interactionID:f})}};e.exports=a}),null);
__d("PagesMessengerFileUploader.react",["cx","fbt","ix","ChatFileUploaderMixin","Image.react","InlineBlock.react","Link.react","MercuryConfig","MercuryFileUploader","React","ReactDOM","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("createReactClass_DEPRECATED")({displayName:"PagesMessengerFileUploader",mixins:[b("ChatFileUploaderMixin")],propTypes:{actionURI:b("prop-types").string,iconSize:b("prop-types").oneOf(["small","large"]),supportMultiFiles:b("prop-types").bool},shouldComponentUpdate:function(a,b){return a.actionURI!=this.props.actionURI},componentDidMount:function(){this._fileUploader=new(b("MercuryFileUploader"))(this.props.attachmentsShelf,b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.input),b("ReactDOM").findDOMNode(this.refs.attachID)),this.setUpSubscriptionsHandler(this._fileUploader)},addFiles:function(a){this._fileUploader.addDroppedFiles(a)},getDefaultProps:function(){return{actionURI:b("MercuryConfig").upload_url,iconSize:"small",supportMultiFiles:!0}},render:function(){var a;return(a=b("React")).jsxs("form",{action:this.props.actionURI,method:"post",ref:"form",children:[a.jsx("input",{type:"hidden",name:"attach_id",ref:"attachID"}),a.jsxs(b("InlineBlock.react"),{className:"_m _4q60 _3rzn",children:[a.jsx(b("Link.react"),{className:"_4q61"+(this.props.iconSize==="small"?" _509v":"")+(this.props.iconSize==="large"?" _5njm":"")+" bizOK",children:this._renderIcon()}),b("React").jsx("input",{type:"file",className:"_n",name:"attachment[]",multiple:this.props.supportMultiFiles,ref:"input"})]})]})},_renderIcon:function(){if(this.props.iconSize==="small")return b("React").jsx(b("Image.react"),{alt:h._("File"),src:i("28652")});else if(this.props.iconSize==="large")return b("React").jsx("div",{alt:h._("File"),className:"_7p34"})}});e.exports=a}),null);
__d("XShareScrapeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_scrape/",{})}),null);
__d("PagesMessengerShareLinkUploader",["ActorURI","ChatShareLinkUploader","SubscriptionsHandler","XShareScrapeAsyncController","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){c=a.call(this,c,d,b("emptyFunction"))||this;c.$PagesMessengerShareLinkUploader1=new(b("SubscriptionsHandler"))();c.$PagesMessengerShareLinkUploader1.addSubscriptions(c.subscribe(["all-uploads-completed","upload-canceled"],e),c.subscribe("submit",f));c.actor_id=g;return c}var d=c.prototype;d.__getLoadShareURI=function(){return new(b("ActorURI").create)(b("XShareScrapeAsyncController").getURIBuilder().getURI(),this.actor_id)};d.destroy=function(){this.$PagesMessengerShareLinkUploader1&&this.$PagesMessengerShareLinkUploader1.release()};return c}(b("ChatShareLinkUploader"));e.exports=a}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesMessengerSuggestedResponseView.react",["cx","fbt","LoadingIndicator.react","PagesMessageSuggestedResponseHandler","React","XUIButton.react","XUIGrayText.react","createReactClass_DEPRECATED","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("createReactClass_DEPRECATED")({displayName:"PagesMessengerSuggestedResponseView",propTypes:{onAccepted:b("prop-types").func.isRequired,onDeclined:b("prop-types").func,suggestedResponseHandler:b("prop-types").instanceOf(b("PagesMessageSuggestedResponseHandler"))},getInitialState:function(){return{shouldShowResult:!1,shouldShowProgress:!1,responseMessage:"",witMessageId:""}},_reset:function(){this.setState(this.getInitialState())},UNSAFE_componentWillReceiveProps:function(a){if(a.suggestedResponseHandler!==this.props.suggestedResponseHandler){this._reset();a=a.suggestedResponseHandler;if(!a||a.alreadyRequested())return;this.setState({shouldShowProgress:!0});a.requestSuggestedResponseAsync(this._onSuggestedResponseReceived,this._onSuggestedResponseError)}},_onSuggestedResponseReceived:function(a,b){if(!this._isMessageIDCurrent(a))return;this.setState({shouldShowProgress:!1});!!b.responseMessage&&b.responseMessage.length>0&&this.setState({shouldShowResult:!0,responseMessage:b.responseMessage,witMessageId:b.message_id})},_onSuggestedResponseError:function(a){if(!this._isMessageIDCurrent(a))return;this.setState({shouldShowProgress:!1,shouldShowResult:!1})},_isMessageIDCurrent:function(a){return!!this.props.suggestedResponseHandler&&a===this.props.suggestedResponseHandler.getMessageID()},render:function(){return b("React").jsxs("div",{className:"_710 _2ph-"+(!this.state.shouldShowResult&&!this.state.shouldShowProgress?" hidden_elem":""),children:[this._renderProgressPart(),this._renderSuggestionPart()]})},_renderSuggestionPart:function(){return b("React").jsxs("div",{className:this.state.shouldShowResult?"":"hidden_elem",children:[b("React").jsx("div",{className:"_3-94",children:b("React").jsx(b("XUIGrayText.react"),{shade:"light",children:h._("We found a suggested reply:")})}),b("React").jsx("div",{className:"_3-94",children:b("React").jsx(b("XUIGrayText.react"),{shade:"dark",className:"_711",children:this.state.responseMessage})}),b("React").jsxs("div",{className:"_712",children:[b("React").jsx(b("XUIGrayText.react"),{shade:"light",className:"_3-90",children:h._("Do you want to use this reply?")}),b("React").jsx(b("XUIButton.react"),{label:h._("No"),use:"default",className:"_3-8_",onClick:this._onDeclined}),b("React").jsx(b("XUIButton.react"),{label:h._("Yes"),use:"confirm",onClick:this._onAccepted})]})]})},_renderProgressPart:function(){return b("React").jsxs("div",{className:(this.state.shouldShowProgress?"":"hidden_elem")+" _71d",children:[b("React").jsx(b("XUIGrayText.react"),{shade:"light",children:h._("Looking for suggested responses")}),b("React").jsx(b("LoadingIndicator.react"),{size:"small",color:"white",className:"_3-9a"})]})},_hide:function(){this.setState({shouldShowResult:!1,shouldShowProgress:!1})},_onAccepted:function(){this._hide(),this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(!0),this.props.onAccepted&&this.props.onAccepted(this.state.responseMessage)},_onDeclined:function(){this._hide(),this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(!1),this.props.onDeclined&&this.props.onDeclined()}});e.exports=a}),null);
__d("PagesMessengerTextInput.react",["cx","AbstractTextField.react","React","TextAreaControl","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.resetHeight=function(){c.$1&&c.$1.resetHeight()},c.updateHeight=function(){c.$1&&c.$1.updateHeight()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.refs.input&&(this.$1=new(b("TextAreaControl"))(this.refs.input),this.props.onInputReady&&this.props.onInputReady(this.refs.input))};d.render=function(){var a=b("joinClasses")(this.props.className,"_58al uiTextareaAutogrow");return b("React").jsx(b("AbstractTextField.react"),babelHelpers["extends"]({},this.props,{"data-testid":"inbox_composer_text_input",children:b("React").jsx("textarea",{type:"text",className:a,tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,onFocus:this.props.onFocus,ref:"input"})}))};return c}(b("React").Component);a.propTypes=babelHelpers["extends"]({},b("AbstractTextField.react").propTypes,{onClick:(c=b("prop-types")).func,onKeyUp:c.func,onPaste:c.func,onFocus:c.func});e.exports=a}),null);
__d("SmartComposeCandidatesQueriedFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("smart_compose_candidates_queried");e.exports=a}),null);
__d("PagesSmartComposeInput.react",["cx","AbstractTextField.react","MercuryIDs","React","RelayFBEnvironment","RelayModern","SmartComposeCandidatesGeneratedFalcoEvent","SmartComposeCandidatesQueriedFalcoEvent","SmartComposeMatchingSuggestionFalcoEvent","TextAreaControl","joinClasses","promiseDone","prop-types","PagesSmartComposeInputQuery.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("RelayModern").fetchQuery;b("RelayModern").graphql;var j=h!==void 0?h:h=b("PagesSmartComposeInputQuery.graphql");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={typeahead:{text:"",confidence:0},candidates:[],last_space_index:0,control:null};return b}var d=c.prototype;d.componentDidMount=function(){this.refs.input&&(this.setState({control:new(b("TextAreaControl"))(this.refs.input)}),this.props.onInputReady&&this.props.onInputReady(this.refs.input))};d.resetHeight=function(){this.state.control&&this.state.control.resetHeight()};d.updateHeight=function(){this.state.control&&this.state.control.updateHeight()};d.fetchTypeahead=function(a){__p&&__p();var c=this,d=a.trim();if(d=="")return;var e=this.state.typeahead.text,f=this.state.typeahead.confidence;if(e!=""){e=e[0]==" "?e.slice(1,e.length):"";this.setState({typeahead:{text:e,confidence:f}})}var g=Date.now();b("promiseDone")(i(b("RelayFBEnvironment"),j,{queryParams:{surface:"p2b_messaging",text:d,feedback_id:b("MercuryIDs").isValidThreadID(this.props.threadID)?b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID):""}}),function(d){__p&&__p();var e=Date.now();if(d.typeahead_list.length>0&&a.includes(" ")){d=d.typeahead_list.map(function(a){return{text:a.typeahead,confidence:Math.round(1e4*a.confidence)}});c.setState({candidates:d,last_space_index:a.length});var f=d.map(function(a){return a.confidence});b("SmartComposeCandidatesGeneratedFalcoEvent").log(function(){return{candidates_blob:JSON.stringify(f),consumer_user_id:c.props.consumerUserID,message_body_length:a.length,page_id:c.props.pageID,processing_time:e-g,surface:"p2b_messaging"}})}else c.setInitState();b("SmartComposeCandidatesQueriedFalcoEvent").log(function(){return{consumer_user_id:c.props.consumerUserID,message_body_length:a.length,page_id:c.props.pageID,processing_time:e-g,surface:"p2b_messaging"}})},function(a){c.setInitState()})};d.filterByNextWord=function(a,b){__p&&__p();a=a.length>this.state.last_space_index?a.slice(this.state.last_space_index):a;var c=a.length;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f.text;if(c>0&&c<=g.length&&a.localeCompare(g.slice(0,c))==0)return{text:g.slice(c,g.length),confidence:f.confidence,is_matched:c===g.length}}return{text:"",confidence:0,is_matched:!1}};d.setInitState=function(){this.setState({candidates:[],typeahead:{text:"",confidence:0},last_space_index:0})};d.$1=function(a){var c=this,d=a.target.value,e=this.state.candidates;if(e!==[]){var f=this.filterByNextWord(d,e);this.setState({typeahead:f});f.text==""&&d[d.length-1]==" "?this.fetchTypeahead(d):f.is_matched?b("SmartComposeMatchingSuggestionFalcoEvent").log(function(){return{confidence:f.confidence,consumer_user_id:c.props.consumerUserID,page_id:c.props.pageID,suggestion_text:d.slice(c.state.last_space_index),suggestion_text_length:d.length-c.state.last_space_index,surface:"p2b_messaging"}}):d.length<this.state.last_space_index&&this.setInitState()}this.props.onChange(a)};d.render=function(){var a=this,c=b("joinClasses")(this.props.className,"_58al uiTextareaAutogrow");return b("React").jsx(b("AbstractTextField.react"),babelHelpers["extends"]({},this.props,{onChange:function(b){a.$1(b)},"data-testid":"inbox_composer_text_input",children:b("React").jsx("textarea",{type:"text",className:c,tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,onFocus:this.props.onFocus,ref:"input"})}))};return c}(b("React").Component);a.propTypes=babelHelpers["extends"]({},b("AbstractTextField.react").propTypes,{onClick:b("prop-types").func,onKeyUp:b("prop-types").func,onPaste:b("prop-types").func,onFocus:b("prop-types").func});e.exports=a}),null);
__d("PagesMessengerThreadUtils",["invariant","MessagingTag"],(function(a,b,c,d,e,f,g){__p&&__p();var h="CUSTOM_TAG_",i="WITH_FLAG_",j="OWNER_",k={isFlagThread:function(a){return a&&a.page_thread_info&&"flagged"in a.page_thread_info?a.page_thread_info.flagged:!1},isPageSpecficEnumFilter:function(a){return a==="flag"||a==="important"?!0:!1},isCustomTagsFilter:function(a){return a.startsWith(h)},isCustomTagsWithFlagFilter:function(a){return a.startsWith(h+i)},isOwnerFilter:function(a){return a.startsWith(j)},getCustomTagsFilter:function(a,b){return h+(b?i:"")+JSON.stringify(a.sort())},parseCustomTagsFilter:function(a){this.isCustomTagsFilter(a)||g(0,2826);var b=this.isCustomTagsWithFlagFilter(a);return JSON.parse(a.substring(h.length+(b?i.length:0)))},parseOwnerFilter:function(a){this.isOwnerFilter(a)||g(0,2827);a=a.substring(j.length);return a==="NONE"?"":a},getBatchActionMenuParam:function(a){var c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,l=!1,m=!1;a.folder===b("MessagingTag").INBOX&&!a.is_archived?(c=!0,f=!0,k.isFlagThread(a)?i=!0:h=!0,a&&a.unread_count===0?l=!0:j=!0):a.folder===b("MessagingTag").OTHER?g=!0:a.is_archived?(d=!0,e=!0):a.folder===b("MessagingTag").PAGE_BACKGROUND&&(m=!0);a&&a.unread_count===0?l=!0:j=!0;return{showArchive:c,showDelete:d,showUnarchive:e,showSpam:f,showUnspam:g,showFlag:h,showUnflag:i,showMarkRead:j,showMarkUnread:l,showMoveToInbox:m,showHideContextCard:!1,showShowContextCard:!1}}};e.exports=k}),null);
__d("PagesManagerMessagingProductPickerActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({ITEM:{SELECTED:"",UNSELECTED:""},UPDATE_SEARCH_TERM:"",VIEW_ALL_VARIANTS:"",VIEW_ALL_PRODUCTS:"",CLOSE_PRODUCT_PICKER:"",REVIEW_ITEMS:"",RESET_STORE:"",CLEAR_SELECTED:"",SET_IS_SENDING:"",CLEAR_SEARCH_TERM:""}));e.exports=a}),null);
__d("PagesManagerMessagingProductPickerAction",["PagesManagerDispatcher","PagesManagerMessagingProductPickerActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={selectItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").ITEM.SELECTED,productItem:a})},unSelectItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").ITEM.UNSELECTED,productItem:a})},updateSearchTerm:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").UPDATE_SEARCH_TERM,searchTerm:a})},seeAllProductVariants:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_VARIANTS,productGroupID:a})},viewAllProducts:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_PRODUCTS})},closeProductPicker:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").CLOSE_PRODUCT_PICKER})},reviewItems:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").REVIEW_ITEMS})},resetStore:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").RESET_STORE})},clearSelected:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").CLEAR_SELECTED})},setIsSending:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").SET_IS_SENDING})},clearSearchTerm:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").CLEAR_SEARCH_TERM})}};e.exports=a}),null);
__d("PagesManagerMessagingProductPickerFluxUtil",["invariant","PagesManagerMessagingProductPickerAction","keyMirror","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("keyMirror")({PRODUCT_LIST:null,PRODUCT_GROUP_VARIANTS:null,REVIEW_AND_SEND:null});a={productListHeight:320,searchBarHeight:40,onActionIconClick:function(a,c,d){switch(d){case h.PRODUCT_LIST:!a.hasOtherVariants?this._toggleVariantSelection(a,c):b("PagesManagerMessagingProductPickerAction").seeAllProductVariants(b("nullthrows")(a.productGroupID));break;case h.PRODUCT_GROUP_VARIANTS:this._toggleVariantSelection(a,c);break;case h.REVIEW_AND_SEND:b("PagesManagerMessagingProductPickerAction").unSelectItem(a);break;default:g(0,19363)}},onRowClick:function(a,b,c){switch(c){case h.PRODUCT_LIST:case h.PRODUCT_GROUP_VARIANTS:this.onActionIconClick(a,b,c);break;default:break}},_toggleVariantSelection:function(a,c){c?b("PagesManagerMessagingProductPickerAction").unSelectItem(a):b("PagesManagerMessagingProductPickerAction").selectItem(a)},extractFormattedDataFromItem:function(a){var c;return{itemID:b("nullthrows")(a==null?void 0:a.id,"Product item should have an id."),name:a.name,salePrice:a==null?void 0:(c=a.current_product_price)==null?void 0:c.formatted_amount,productGroupID:a==null?void 0:(c=a.group)==null?void 0:c.id,variantCount:a==null?void 0:(c=a.group)==null?void 0:(c=c.product_items_edge)==null?void 0:c.count,hasOtherVariants:this._hasOtherVariants(a),productPhotoURI:a==null?void 0:(c=a.primary_listing_photo)==null?void 0:(c=c.image)==null?void 0:c.uri,inventoryCount:a==null?void 0:a.inventory_count,variantValues:a==null?void 0:(c=a.variant_values)==null?void 0:c.join(String.fromCodePoint(12539))}},_hasOtherVariants:function(a){var b;if((a==null?void 0:(b=a.group)==null?void 0:b.id)==null)return!1;b=a==null?void 0:(b=a.group)==null?void 0:(a=b.product_items_edge)==null?void 0:a.count;return b!=null&&b>1}};e.exports={PagesManagerMessagingProductPickerFluxUtil:a,ProductPickerViewTypes:h}}),null);
__d("PagesManagerMessagingProductListRow.react",["cx","FDSText.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesManagerMessagingProductPickerFluxUtil","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("ShimButton.react"),{className:(this.props.activeView!==h.REVIEW_AND_SEND?"_8o5h":"")+(this.props.activeView===h.REVIEW_AND_SEND?" _8o5i":"")+(this.props.isSelected&&this.props.activeView===h.PRODUCT_LIST?" _8l70":""),onClick:this.props.onSelectRow,children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(b("LayoutColumn.react"),{className:"_8kqa",children:b("React").jsx("div",{className:"_8uit",children:b("React").jsx(b("Image.react"),{className:"_8o5j",src:this.props.productPhotoURI})})}),b("React").jsx(b("LayoutColumn.react"),{children:b("React").jsxs("div",{className:"_8kqk",children:[b("React").jsx(i,{classProps:this.props}),b("React").jsx(j,{classProps:this.props}),this.props.secondSubtitle]})}),b("React").jsx(b("LayoutFillColumn.react"),{children:b("React").jsx("div",{className:"_8l8t",children:this.props.actionIcon})})]})})};return c}(b("React").PureComponent);e.exports=a;function i(a){return b("React").jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"primary",children:a.classProps.name})}function j(a){return b("React").jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"secondary",children:a.classProps.salePrice})}}),null);
__d("PagesManagerMessagingProductPickerRowActionIcon.react",["ix","invariant","FDSCheckboxInput.react","Image.react","PagesManagerMessagingProductPickerFluxUtil","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,j=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil;function a(a){switch(a.activeView){case i.PRODUCT_LIST:if(a.item.hasOtherVariants)return b("React").jsx(b("Image.react"),{src:g("484843")});else return b("React").jsx(k,{isSelected:a.isSelected});case i.PRODUCT_GROUP_VARIANTS:return b("React").jsx(k,{isSelected:a.isSelected});case i.REVIEW_AND_SEND:return b("React").jsx(b("Image.react"),{src:g("1219826"),onClick:function(){return j.onActionIconClick(a.item,a.isSelected,a.activeView)}});default:h(0,19363)}}function k(a){return b("React").jsx(b("FDSCheckboxInput.react"),{label:"Select Product",labelIsHidden:!0,onChange:b("emptyFunction"),value:a.isSelected})}e.exports=a}),null);
__d("PagesManagerMessagingProductPickerStore.react",["FluxStore","PagesManagerDispatcher","PagesManagerMessagingProductPickerActionType","PagesManagerMessagingProductPickerFluxUtil","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,h=3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerMessagingProductPickerStore1=new Map();c.$PagesManagerMessagingProductPickerStore2=new Map();c.$PagesManagerMessagingProductPickerStore3="";c.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST;c.$PagesManagerMessagingProductPickerStore5=null;c.$PagesManagerMessagingProductPickerStore6=!1;c.$PagesManagerMessagingProductPickerStore7=!1;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerMessagingProductPickerActionType").ITEM.SELECTED:this.$PagesManagerMessagingProductPickerStore1.size<h&&(this.$PagesManagerMessagingProductPickerStore1.set(a.productItem.itemID,a.productItem),this.$PagesManagerMessagingProductPickerStore8(a.productItem),this.__emitChange());break;case b("PagesManagerMessagingProductPickerActionType").ITEM.UNSELECTED:this.$PagesManagerMessagingProductPickerStore1["delete"](a.productItem.itemID);this.$PagesManagerMessagingProductPickerStore9(a.productItem);this.$PagesManagerMessagingProductPickerStore1.size===0&&this.$PagesManagerMessagingProductPickerStore4===g.REVIEW_AND_SEND&&(this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST);this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").UPDATE_SEARCH_TERM:this.$PagesManagerMessagingProductPickerStore3=a.searchTerm;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_VARIANTS:this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_GROUP_VARIANTS;this.$PagesManagerMessagingProductPickerStore5=a.productGroupID;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_PRODUCTS:this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").CLOSE_PRODUCT_PICKER:this.$PagesManagerMessagingProductPickerStore6=!0;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").REVIEW_ITEMS:this.$PagesManagerMessagingProductPickerStore4=g.REVIEW_AND_SEND;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").RESET_STORE:this.$PagesManagerMessagingProductPickerStore10();break;case b("PagesManagerMessagingProductPickerActionType").CLEAR_SELECTED:this.$PagesManagerMessagingProductPickerStore11();this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").SET_IS_SENDING:this.$PagesManagerMessagingProductPickerStore7=!0;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").CLEAR_SEARCH_TERM:this.$PagesManagerMessagingProductPickerStore3="",this.__emitChange()}};d.$PagesManagerMessagingProductPickerStore10=function(){this.$PagesManagerMessagingProductPickerStore1=new Map(),this.$PagesManagerMessagingProductPickerStore2=new Map(),this.$PagesManagerMessagingProductPickerStore3="",this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST,this.$PagesManagerMessagingProductPickerStore5=null,this.$PagesManagerMessagingProductPickerStore6=!1,this.$PagesManagerMessagingProductPickerStore7=!1};d.$PagesManagerMessagingProductPickerStore11=function(){this.$PagesManagerMessagingProductPickerStore1=new Map(),this.$PagesManagerMessagingProductPickerStore2=new Map(),this.$PagesManagerMessagingProductPickerStore3="",this.$PagesManagerMessagingProductPickerStore4===g.REVIEW_AND_SEND&&(this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST)};d.$PagesManagerMessagingProductPickerStore8=function(a){var c;if(!a.hasOtherVariants)return;a=b("nullthrows")(a.productGroupID);c=(c=this.$PagesManagerMessagingProductPickerStore2.get(a))!=null?c:0;this.$PagesManagerMessagingProductPickerStore2.set(a,c+1)};d.$PagesManagerMessagingProductPickerStore9=function(a){if(!a.hasOtherVariants)return;a=b("nullthrows")(a.productGroupID);var c=this.$PagesManagerMessagingProductPickerStore2.get(a);b("nullthrows")(c,"cannot remove from a non-selected product group");c!=null&&c>1?this.$PagesManagerMessagingProductPickerStore2.set(a,c-1):this.$PagesManagerMessagingProductPickerStore2["delete"](a)};d.getSearchTerm=function(){return this.$PagesManagerMessagingProductPickerStore3};d.getSelectedItems=function(){return this.$PagesManagerMessagingProductPickerStore1};d.getSelectedGroupVariants=function(){return this.$PagesManagerMessagingProductPickerStore2};d.getActiveView=function(){return this.$PagesManagerMessagingProductPickerStore4};d.getViewingProductGroupID=function(){return this.$PagesManagerMessagingProductPickerStore5};d.getShouldHideProductPicker=function(){return this.$PagesManagerMessagingProductPickerStore6};d.getIsSending=function(){return this.$PagesManagerMessagingProductPickerStore7};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerMessagingProductListRowFluxContainer.react",["FluxContainer","PagesManagerMessagingProductListRow.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductPickerRowActionIcon.react","PagesManagerMessagingProductPickerStore.react","PagesManagerMessagingProductRowRendererUtil","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingProductPickerStore.react")]};c.calculateState=function(a,c){return{isSelected:b("PagesManagerMessagingProductPickerStore.react").getSelectedItems().has(b("nullthrows")(c.item.itemID)),activeView:b("PagesManagerMessagingProductPickerStore.react").getActiveView(),selectedGroupVariant:b("PagesManagerMessagingProductPickerStore.react").getSelectedGroupVariants()}};var d=c.prototype;d.render=function(){var a=this,c=function(){return g.onRowClick(a.props.item,a.state.isSelected,a.state.activeView)};return b("React").jsx(b("PagesManagerMessagingProductListRow.react"),{activeView:this.state.activeView,rowID:this.props.itemID,name:this.props.name,salePrice:this.props.salePrice,variantCount:this.props.variantCount,productGroupID:this.props.productGroupID,productPhotoURI:this.props.productPhotoURI,secondSubtitle:this.$1(),inventoryAndVariantCount:b("PagesManagerMessagingProductRowRendererUtil").InventoryAndVariantCount(this.props.item,this.state.activeView),selectedVariantCount:b("PagesManagerMessagingProductRowRendererUtil").SelectedVariantCount(this.props.item,this.state.selectedGroupVariant,this.state.activeView),isSelected:this.state.isSelected||this.hasSelectedVariant(),onSelectRow:c,actionIcon:b("React").jsx(b("PagesManagerMessagingProductPickerRowActionIcon.react"),{item:this.props.item,isSelected:this.state.isSelected,activeView:this.state.activeView})})};d.hasSelectedVariant=function(){return this.props.productGroupID==null?!1:this.state.selectedGroupVariant.has(this.props.productGroupID)};d.$1=function(){var a=b("PagesManagerMessagingProductRowRendererUtil").VariantValues(this.props.item,this.state.activeView),c=b("PagesManagerMessagingProductRowRendererUtil").InventoryAndVariantCount(this.props.item,this.state.activeView),d=b("PagesManagerMessagingProductRowRendererUtil").SelectedVariantCount(this.props.item,this.state.selectedGroupVariant,this.state.activeView);return(a=(a=a)!=null?a:d)!=null?a:c};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerMessagingProductListRowRelayContainer.react",["PagesManagerMessagingProductListRowFluxContainer.react","PagesManagerMessagingProductPickerFluxUtil","React","RelayModern","nullthrows","PagesManagerMessagingProductListRowRelayContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this)||this}var d=c.prototype;d.render=function(){var a=h.extractFormattedDataFromItem(this.props.item);return b("React").jsx(b("PagesManagerMessagingProductListRowFluxContainer.react"),{inventoryCount:this.props.item.inventory_count,item:a,itemID:b("nullthrows")(this.props.item.id),name:this.props.item.name,productGroupID:(a=this.props.item.group)==null?void 0:a.id,productPhotoURI:(a=this.props.item.primary_listing_photo)==null?void 0:(a=a.image)==null?void 0:a.uri,salePrice:(a=this.props.item.current_product_price)==null?void 0:a.formatted_amount,variantCount:(a=this.props.item.group)==null?void 0:(a=a.product_items_edge)==null?void 0:a.count,variantValues:(a=this.props.item)==null?void 0:(a=a.variant_values)==null?void 0:a.join(String.fromCodePoint(12539))})};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerMessagingProductListRowRelayContainer_item.graphql")})}),null);
__d("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_multi_admin_assignment_update");e.exports=a}),null);
__d("BusinessInboxPostFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_post_folder_update");e.exports=a}),null);
__d("BusinessInboxSwitchFolderClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_switch_folder_click");e.exports=a}),null);
__d("BusinessInboxThreadFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_folder_update");e.exports=a}),null);
__d("PagesManagerInboxLogger",["BusinessInboxMultiAdminAssignmentUpdateFalcoEvent","BusinessInboxPostFolderUpdateFalcoEvent","BusinessInboxSwitchFolderClickFalcoEvent","BusinessInboxThreadFolderUpdateFalcoEvent","CurrentUser","PagesManagerInboxTypedLogger","PagesMessagingInboxActionsTypedLogger","PagesMessagingPerfTypedLogger","TimeSliceInteraction","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({ERROR_GRAPH_QL:null,ERROR_JS:null,INITIAL_DATA_LOADED:null,INITIAL_LIST_RENDERED:null,INITIAL_LOAD:null,ITEM_DETAILS_LOADED:null,ITEM_LOADED:null,START_LOADING_ITEM_DETAILS:null,START_LOADING_ITEM:null,BROADCAST_MESSAGE_FORMAT:null,ITEM_STATUS_CHANGED:null,ITEM_STATUS_CHANGED_THREAD:null,ITEM_STATUS_CHANGED_HEADER:null,FOLDER_CHANGE_CLICKED:null,PLATFORM_CHANGE_TAB_CLICKED:null,SEND_COMMENT:null,SEND_MESSAGE:null,SEARCH_CLICKED:null,CONTENT_SEARCH_CLICKED:null,CREATE_BROADCAST_BUTTON_RENDERED:null,CREATE_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_CONFIRM_BUTTON_CLICKED:null,BROADCAST_HISTORY_ROW_CLICK:null,AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED:null,AUTOMATION_ENABLED:null,AUTOMATION_DISABLED:null,AUTOMATED_RESPONSES_SAVE_CLICK:null}),h,i,j=!0,k,l={init:function(a){h=a,i=Date.now(),l.create(g.INITIAL_LOAD).setScreenHeight(screen.height).setScreenWidth(screen.width).log()},logInitialListRendered:function(a,c){if(!j)return;j=!1;l.create(g.INITIAL_LIST_RENDERED).setTimeSinceLoad(Date.now()-i).setPlatform(a).log();b("TimeSliceInteraction").informOnPage(g.INITIAL_LIST_RENDERED)},create:function(a){return new(b("PagesManagerInboxTypedLogger"))().setEventName(a).setPageID(h).setHref(window.location.href)},logErrorJS:function(a,b){l.create(g.ERROR_JS).setMessage(a.message).setStackTrace(a.stack).setModuleName(b).log()},logErrorGraphQL:function(a){l.create(g.ERROR_GRAPH_QL).setMessage(a.message).setStackTrace(a.stack).log()},startLoadingItem:function(a){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setPageCommItemID(a).log()},itemInitialDataLoaded:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("initial data loaded");l.create(g.INITIAL_DATA_LOADED).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingItemDetails:function(a,b){if(!k||k.commItemID!==a)return;k.platform=b;k.isCached=!1;k.interaction.inform("loading details");l.create(g.START_LOADING_ITEM_DETAILS).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},itemDetailsLoaded:function(a,b){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");l.create(g.ITEM_DETAILS_LOADED).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingThread:function(a,c){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setThreadToken(a).setPlatform(c).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_start").log()},threadDetailsLoaded:function(a,c){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");var d=Date.now()-k.startTimestamp;l.create(g.ITEM_DETAILS_LOADED).setThreadToken(a).setPlatform(c).setLoadTime(d).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_end").setPerfTime(d).log();k=null},itemRendered:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("item rendered");k.interaction.finish();l.create(g.ITEM_LOADED).setIsCached(k.isCached).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).setPlatform(k.platform).setTraceID(k.interaction.getTraceID()).log();k=null},logBroadcastMessageFormat:function(a){l.create(g.BROADCAST_MESSAGE_FORMAT).setBroadcastMessageFormat(a).log()},getFolderEventLoggingData:function(a,c,d){__p&&__p();var e="unknown",f="facebook";switch(a){case"FACEBOOK":case"GROUP":e="facebook";break;case"MESSENGER":e="messenger";break;case"INSTAGRAM":e="instagram";f="instagram";break;case"INSTAGRAM_DIRECT":e="instagram_direct";f="instagram";break;case"WEC":case"ALL":e="unified_threads";f="unknown";break}return{event_location:"unknown",page_id:h,ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f,client_timestamp_ms:Date.now(),inbox_platform:e,thread_id:null,consumer_id:null,referrer:window.location.href,event_data:{source_folder:c,target_folder:d}}},itemStatusChanged:function(a,b,c,d){d=d||null;l.create(g.ITEM_STATUS_CHANGED).setPageCommItemID(a).setPageCommItemStatus(c).setPlatform(b).setPageCommSearchType(d).log()},itemStatusChangedInThread:function(a,c,d,e,f){var h=this;f=f||null;l.create(g.ITEM_STATUS_CHANGED_THREAD).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).setPageCommSearchType(f).log();b("BusinessInboxThreadFolderUpdateFalcoEvent").log(function(){return h.getFolderEventLoggingData(c,d,e)})},itemStatusChangedInHeader:function(a,c,d,e){var f=this;l.create(g.ITEM_STATUS_CHANGED_HEADER).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).log();b("BusinessInboxPostFolderUpdateFalcoEvent").log(function(){return f.getFolderEventLoggingData(c,d,e)})},logFolderChangeClick:function(a,b){l.create(g.FOLDER_CHANGE_CLICKED).setFolder(b).setPlatform(a).log()},logFolderSwitchClick:function(a,c,d){var e=this;b("BusinessInboxSwitchFolderClickFalcoEvent").log(function(){return e.getFolderEventLoggingData(a,c,d)})},logPlatformChangedClicked:function(a,b){l.create(g.PLATFORM_CHANGE_TAB_CLICKED).setPlatform(a).setViewMode(b).log()},logSendComment:function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_comment").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).log(),l.create(g.SEND_COMMENT).setPlatform(a).log()},logMarkAsUnread:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("mark_as_unread").addToExtraData("page_id",c).log()},logAdminAssignmentAction:function(a,c,d){var e={logged_in_user_id:b("CurrentUser").getID(),page_id:a,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown",event_data:{action:c,tag:d}};b("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent").log(function(){return e})},logCommentReaction:function(a,c,d,e,f){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("reaction").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).addToExtraData("reaction_type",f).log()},logSendMessage:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_message").setPlatform(a).addToExtraData("page_id",c).addToExtraData("enter_to_send_enabled",d.toString()).log(),l.create(g.SEND_MESSAGE).setPlatform(a).log()},logReceiveMessage:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("receive_message").setPlatform(a).addToExtraData("page_id",c).log()},logSearchClick:function(a,b){l.create(g.SEARCH_CLICKED).setPageCommSearch(a).setPlatform(b).log()},logContentSearchClicked:function(a,b){l.create(g.CONTENT_SEARCH_CLICKED).setPageCommSearchType(a).setPageCommSearch(b).log()},logBroadcastButtonRendered:function(){l.create(g.CREATE_BROADCAST_BUTTON_RENDERED).log()},logBroadcastButtonClicked:function(){l.create(g.CREATE_BROADCAST_BUTTON_CLICKED).log()},logBroadcastSendButtonClicked:function(a){l.create(g.SEND_BROADCAST_BUTTON_CLICKED).setBroadcastAudience(a).log()},logBroadcastConfirmationButtonClicked:function(){l.create(g.SEND_BROADCAST_CONFIRM_BUTTON_CLICKED).log()},logBroadcastHistoryRowClicked:function(){l.create(g.BROADCAST_HISTORY_ROW_CLICK).log()},logAutomatedResponsesRendered:function(){l.create(g.AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED).log()},logAutomatedResponsesEnabled:function(a){l.create(g.AUTOMATION_ENABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesDisabled:function(a){l.create(g.AUTOMATION_DISABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesSaveClicked:function(a,b){l.create(g.AUTOMATED_RESPONSES_SAVE_CLICK).setAutomatedResponseTriggerType(a).setHadError(b).log()}};e.exports=l}),null);
__d("PagesManagerMessagingProductRowRendererUtil",["fbt","ErrorBoundary.react","FDSText.react","PagesManagerInboxLogger","PagesManagerMessagingProductListRowFluxContainer.react","PagesManagerMessagingProductListRowRelayContainer.react","PagesManagerMessagingProductPickerFluxUtil","React","formatNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes;e.exports={PagesManagerMessagingProductRowRelayRenderer:function(a){return function(c,d,e){return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerMessagingProductListRowRelayContainer.react"),{item:b("nullthrows")(a[c])})})}},PagesManagerMessagingProductRowFormattedRenderer:function(a){return function(c,d,e){d=b("nullthrows")(a[c]);return b("React").jsx(b("PagesManagerMessagingProductListRowFluxContainer.react"),{inventoryCount:d.inventoryCount,item:d,itemID:d.itemID,name:d.name,productGroupID:d.productGroupID,productPhotoURI:d.productPhotoURI,salePrice:d.salePrice,variantCount:d.variantCount,variantValues:d.variantValues})}},InventoryAndVariantCount:function(a,c){var d=this.VariantInventoryFbt(a.inventoryCount),e=this.VariantsCountFbt(a.variantCount),f=d!=null&&e!=null?String.fromCodePoint(12539):null;switch(c){case h.REVIEW_AND_SEND:case h.PRODUCT_GROUP_VARIANTS:return b("React").jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"placeholder",children:d});case h.PRODUCT_LIST:return b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{display:"inline",size:"body2",color:a.inventoryCount!=0?"secondary":"negative",children:b("React").jsx("span",{children:d})}),b("React").jsxs(b("FDSText.react"),{display:"inline",size:"body2",color:"secondary",children:[b("React").jsx("span",{children:f}),b("React").jsx("span",{children:e})]})]})}},SelectedVariantCount:function(a,c,d){if(d!=h.PRODUCT_LIST)return null;if(!a.hasOtherVariants)return null;d=c.get(b("nullthrows")(a.productGroupID));c=d!=null?g._({"*":"{number} variants selected","_1":"1 variant selected"},[g._plural(d,"number",b("formatNumber")(d))]):null;return c==null?null:b("React").jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"blueLink",children:c})},VariantValues:function(a,c){if(c===h.PRODUCT_LIST)return null;if(!a.hasOtherVariants)return null;return a.variantValues===null?null:b("React").jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"secondary",children:a.variantValues})},VariantInventoryFbt:function(a){var b=null;a!=null&&(b=a>0?g._("{variant inventory} in stock",[g._param("variant inventory",a)]):g._("Out of stock"));return b},VariantsCountFbt:function(a){if(a!=null&&a>1)return g._("{variants count} variants",[g._param("variants count",a)]);else return null}}}),null);
__d("SUIPagesManagerSpinnerUniform",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={activeColor:"#4080ff",backgroundColor:"#e2e9f9",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.4)",sizes:{large:{border:4,diameter:72},small:{border:2,diameter:36}}};e.exports=a}),null);
__d("SUIPagesManagerTheme",["SUIPagesManagerSpinnerUniform","SUITheme"],(function(a,b,c,d,e,f){"use strict";a=new(b("SUITheme"))({id:"pages_manager",components:{SUISpinner:b("SUIPagesManagerSpinnerUniform")}});e.exports=a}),null);
__d("PagesManagerMessagingNoProductListView.react",["ix","cx","fbt","FDSText.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c;return(c=b("React")).jsxs(b("Layout.react"),{className:"_8ozz",children:[c.jsx(b("LayoutColumn.react"),{className:"_8ozx",children:c.jsx(k,{searchTerm:a.searchTerm})}),c.jsx(b("LayoutFillColumn.react"),{className:"_8ozy",children:c.jsx(b("FDSText.react"),{display:"truncate",size:"body1",color:"primary",children:c.jsx(j,{searchTerm:a.searchTerm})})})]})}function j(a){return a.searchTerm==""?i._("No products listed"):i._("No results found")}function k(a){return a.searchTerm==""?b("React").jsx(b("Image.react"),{src:g("514262")}):b("React").jsx(b("Image.react"),{src:g("515648")})}e.exports=a}),null);
__d("PagesManagerMessagingProductList.react",["PagesManagerInboxListSpinner.react","PagesSelectableSimpleList.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesSelectableSimpleList.react"),{autoFcous:!0,canLoadMoreRows:this.props.canLoadMoreRows,height:this.props.height,loadingIndicator:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:this.props.onLoadMoreRows,rowCount:this.props.rowCount,rowHeight:80,rowKeyGetter:function(a){return"productList"+a},rowRenderer:this.props.rowRenderer,showHeader:!1})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingProductListSectionTitle.react",["cx","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsx("div",{className:"_8sws",children:b("React").jsx("div",{className:"_8swt",children:b("React").jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"header4",weight:"bold",children:a.title})})})}e.exports=a}),null);
__d("PagesManagerMessagingProductListRelayContainer.react",["cx","fbt","PagesManagerMessagingNoProductListView.react","PagesManagerMessagingProductList.react","PagesManagerMessagingProductListSectionTitle.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductRowRendererUtil","React","RelayModern","PagesManagerMessagingProductListRelayContainer_page.graphql","PagesManagerMessagingProductListRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,l=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowRelayRenderer;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$1=function(){c.props.relay.loadMore(20)};return c}var d=c.prototype;d.render=function(){var a;a=(a=this.props.page.page_catalog_products)==null?void 0:a.edges;if(a===void 0||a.length===0)return b("React").jsx(b("PagesManagerMessagingNoProductListView.react"),{searchTerm:this.props.searchTerm});a=a.map(function(a){return a.node});return b("React").jsxs("div",{className:"_8swr",children:[this.props.searchTerm===""?b("React").jsx(b("PagesManagerMessagingProductListSectionTitle.react"),{title:h._("All")}):null,b("React").jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:this.props.relay.hasMore(),height:k.productListHeight-k.searchBarHeight,onLoadMoreRows:this.$1,rowCount:a.length,rowRenderer:l(a)})]})};return c}(b("React").PureComponent);e.exports=a(c,{page:i!==void 0?i:i=b("PagesManagerMessagingProductListRelayContainer_page.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.page)!=null?a.page_catalog_products:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){var d=b.count;b=b.cursor;a=a.page.id;return{pageID:a,count:d,cursor:b,search_term:c.search_term}},query:j!==void 0?j:j=b("PagesManagerMessagingProductListRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerMessagingRecentProductListRelayContainer.react",["cx","fbt","PagesManagerMessagingProductList.react","PagesManagerMessagingProductListSectionTitle.react","PagesManagerMessagingProductRowRendererUtil","React","RelayModern","emptyFunction","PagesManagerMessagingRecentProductListRelayContainer_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowRelayRenderer;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.page.recent_sent_products;return a===void 0||a.length===0?null:b("React").jsxs("div",{className:"_8swr",children:[b("React").jsx(b("PagesManagerMessagingProductListSectionTitle.react"),{title:h._("Recent")}),b("React").jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:!1,height:a.length*80,onLoadMoreRows:b("emptyFunction"),rowCount:a.length,rowRenderer:j(a.concat())})]})};return c}(b("React").PureComponent);e.exports=a(c,{page:i!==void 0?i:i=b("PagesManagerMessagingRecentProductListRelayContainer_page.graphql")})}),null);
__d("PagesManagerMessagingRecentProductsSection.react",["PagesManagerInboxQueryRenderer.react","PagesManagerMessagingRecentProductListRelayContainer.react","React","RelayFBEnvironment","graphql","PagesManagerMessagingRecentProductsSectionQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("PagesManagerMessagingRecentProductsSectionQuery.graphql"),variables:{pageID:this.props.pageID},render:function(a){var c=a.error;a=a.props;if(a&&!c)return b("React").jsx(b("PagesManagerMessagingRecentProductListRelayContainer.react"),{page:a.page});else return null}})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerMessagingProductBrowser.react",["cx","fbt","ix","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesManagerInboxListSpinner.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingProductListRelayContainer.react","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingRecentProductsSection.react","React","RelayFBEnvironment","ScrollableArea.react","XUICloseButton.react","XUITextInput.react","graphql","PagesManagerMessagingProductBrowserQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs(b("ScrollableArea.react"),{height:k.productListHeight,shadow:!1,style:{border:"none"},children:[b("React").jsx(m,{funcProps:this.props}),this.props.searchTerm===""?b("React").jsx(b("PagesManagerMessagingRecentProductsSection.react"),{pageID:this.props.pageID}):null,b("React").jsx(l,{funcProps:this.props})]})};return c}(b("React").Component);function l(a){var c=a.funcProps.searchTerm;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{environment:b("RelayFBEnvironment"),query:j!==void 0?j:j=b("PagesManagerMessagingProductBrowserQuery.graphql"),variables:{pageID:a.funcProps.pageID,search_term:a.funcProps.searchTerm},render:function(a){var d=a.error;a=a.props;if(a&&!d)return b("React").jsx(b("PagesManagerMessagingProductListRelayContainer.react"),{page:a.page,searchTerm:c});else return b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})}})}function m(a){var c;return(c=b("React")).jsxs(b("Layout.react"),{className:"_8j7_",children:[c.jsx(b("LayoutColumn.react"),{className:"_8nl7",children:c.jsx(b("Image.react"),{src:i("27278")})}),c.jsx(b("LayoutFillColumn.react"),{className:"_8nl1",children:c.jsx(b("XUITextInput.react"),{"aria-label":h._("Search"),autoFocus:!0,className:"_8j80",value:a.funcProps.searchTerm,onChange:n,placeholder:h._("Search"),role:"searchbox",height:"short"})}),c.jsx(b("LayoutColumn.react"),{className:"_8nl2",children:c.jsx(b("XUICloseButton.react"),{className:a.funcProps.searchTerm.length===0?"hidden_elem":"",onClick:b("PagesManagerMessagingProductPickerAction").clearSearchTerm,size:"small"})})]})}function n(a){b("PagesManagerMessagingProductPickerAction").updateSearchTerm(a.currentTarget.value)}e.exports=a}),null);
__d("PagesManagerMessagingProductGroupVariantsRelayContainer.react",["PagesManagerMessagingProductList.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductRowRendererUtil","React","RelayModern","PagesManagerMessagingProductGroupVariantsRelayContainer_product_group.graphql","PagesManagerMessagingProductGroupVariantsRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,j=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowRelayRenderer;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$1=function(){c.props.relay.loadMore(20)};return c}var d=c.prototype;d.render=function(){var a;a=(a=this.props.product_group.product_items_edge)==null?void 0:a.edges;if(a==null)return null;a=a.map(function(a){return a.node});return b("React").jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:this.props.relay.hasMore(),height:i.productListHeight,onLoadMoreRows:this.$1,rowCount:a.length,rowRenderer:j(a)})};return c}(b("React").PureComponent);e.exports=a(c,{product_group:g!==void 0?g:g=b("PagesManagerMessagingProductGroupVariantsRelayContainer_product_group.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.product_group)!=null?a.product_items_edge:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;a=a.product_group.id;return{productGroupID:a,count:c,cursor:b}},query:h!==void 0?h:h=b("PagesManagerMessagingProductGroupVariantsRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerMessagingProductGroupVariants.react",["PagesManagerInboxListSpinner.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingProductGroupVariantsRelayContainer.react","React","RelayFBEnvironment","graphql","PagesManagerMessagingProductGroupVariantsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("PagesManagerMessagingProductGroupVariantsQuery.graphql"),variables:{productGroupID:this.props.viewingProductGroupID},render:function(a){var c=a.error;a=a.props;if(a&&!c)return b("React").jsx(b("PagesManagerMessagingProductGroupVariantsRelayContainer.react"),{product_group:a.node});else return b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})}})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerMessagingProductItemsReview.react",["ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerMessagingProductList.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductRowRendererUtil","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,h=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowFormattedRenderer;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:!1,height:g.productListHeight,onLoadMoreRows:b("emptyFunction"),rowCount:this.props.selectedItems.length,rowRenderer:h(this.props.selectedItems)})})};return c}(b("React").Component);e.exports=a}),null);
__d("PageCommSendProductMutation",["RelayFBEnvironment","RelayModern","PageCommSendProductMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommSendProductMutation.graphql");function a(a,c){var d={page_comm_send_product_mutation:{viewer:{actor:{id:a.actor_id}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,product_ids:a.product_ids,recipient_id:a.recipient_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerMessagingProductPickerFooter.react",["cx","fbt","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PageCommSendProductMutation","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","React","ShimButton.react","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes;function a(a){return b("React").jsxs(b("Layout.react"),{className:"_8m80 _8nl0",children:[b("React").jsx(b("LayoutColumn.react"),{className:"_8m82",children:h._("{number of selected items}\/3 products selected",[h._param("number of selected items",a.selectedItemsCount)])}),b("React").jsx(b("LayoutFillColumn.react"),{className:"_8m82",children:a.selectedItemsCount>0?b("React").jsx(j,{}):null}),b("React").jsx(b("LayoutColumn.react"),{className:"_8m81",children:b("React").jsx(k,{funcProps:a})}),b("React").jsx(b("LayoutColumn.react"),{className:"_8m81",children:b("React").jsx(l,{funcProps:a})})]})}function j(){return b("React").jsx(b("ShimButton.react"),{onClick:b("PagesManagerMessagingProductPickerAction").clearSelected,children:b("React").jsx("div",{className:"_8m83",children:h._("Clear")})})}function k(a){switch(a.funcProps.activeView){case i.PRODUCT_GROUP_VARIANTS:case i.REVIEW_AND_SEND:return null;default:return b("React").jsx(b("LayoutColumn.react"),{className:"mlm",children:b("React").jsx(b("XUIButton.react"),{label:h._("Cancel"),onClick:b("PagesManagerMessagingProductPickerAction").closeProductPicker})})}}function l(a){switch(a.funcProps.activeView){case i.PRODUCT_GROUP_VARIANTS:case i.PRODUCT_LIST:return b("React").jsx(b("XUIButton.react"),{label:h._("Next"),onClick:b("PagesManagerMessagingProductPickerAction").reviewItems,disabled:a.funcProps.selectedItemsCount===0,use:"confirm"});case i.REVIEW_AND_SEND:return b("React").jsx(b("XUIButton.react"),{label:h._("Send"),onClick:function(){return m(a)},disabled:a.funcProps.isSending||a.funcProps.selectedItemsCount===0,use:"confirm"})}}function m(a){var c=a.funcProps.selectedItemsID;if(c==null)return;b("PagesManagerMessagingProductPickerAction").setIsSending();b("PageCommSendProductMutation").commit({actor_id:a.funcProps.pageID,product_ids:c,recipient_id:a.funcProps.recipientID},{onSuccess:function(a){b("PagesManagerMessagingProductPickerAction").closeProductPicker()},onFailure:function(){b("PagesManagerMessagingProductPickerAction").closeProductPicker()}})}e.exports=a}),null);
__d("PagesManagerMessagingProductPickerHeader.react",["ix","cx","fbt","FDSText.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","React","asset","formatNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes;function a(a){return b("React").jsx(k,{funcProps:a})}function k(a){return b("React").jsxs(b("Layout.react"),{className:"_8m7z _8nl0",children:[a.funcProps.activeView!=j.PRODUCT_LIST?b("React").jsx(b("LayoutColumn.react"),{className:"_8m7-",children:b("React").jsx(b("Image.react"),{src:g("676468"),onClick:function(){return b("PagesManagerMessagingProductPickerAction").viewAllProducts()},role:"button"})}):null,b("React").jsx(b("LayoutFillColumn.react"),{className:"_8m7_",children:b("React").jsx(l,{funcProps:a.funcProps})})]})}function l(a){var c=null;switch(a.funcProps.activeView){case j.PRODUCT_LIST:c=i._("Select Products");break;case j.PRODUCT_GROUP_VARIANTS:c=i._("Select Variants");break;case j.REVIEW_AND_SEND:c=i._({"*":"{number} Products Selected","_1":"1 Product Selected"},[i._plural(a.funcProps.selectedItemsCount,"number",b("formatNumber")(a.funcProps.selectedItemsCount))])}return b("React").jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:c})}e.exports=a}),null);
__d("PagesManagerMessagingProductPickerFluxContainer.react",["cx","FluxContainer","PagesManagerMessagingProductBrowser.react","PagesManagerMessagingProductGroupVariants.react","PagesManagerMessagingProductItemsReview.react","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductPickerFooter.react","PagesManagerMessagingProductPickerHeader.react","PagesManagerMessagingProductPickerStore.react","React","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingProductPickerStore.react")]};c.calculateState=function(a,c){b("PagesManagerMessagingProductPickerStore.react").getShouldHideProductPicker()&&c.closePopoverHanlder();return{activeView:b("PagesManagerMessagingProductPickerStore.react").getActiveView(),searchTerm:b("PagesManagerMessagingProductPickerStore.react").getSearchTerm(),viewingProductGroupID:b("PagesManagerMessagingProductPickerStore.react").getViewingProductGroupID(),selectedItemsCount:b("PagesManagerMessagingProductPickerStore.react").getSelectedItems().size,selectedItems:b("PagesManagerMessagingProductPickerStore.react").getSelectedItems(),isSending:b("PagesManagerMessagingProductPickerStore.react").getIsSending()}};var d=c.prototype;d.componentWillUnmount=function(){b("PagesManagerMessagingProductPickerAction").resetStore()};d.render=function(){return b("React").jsxs("div",{children:[this.$1(),this.$2(),this.$3()]})};d.$1=function(){return b("React").jsx(b("PagesManagerMessagingProductPickerHeader.react"),{activeView:this.state.activeView,selectedItemsCount:this.state.selectedItemsCount})};d.$3=function(){return b("React").jsx(b("PagesManagerMessagingProductPickerFooter.react"),{isSending:this.state.isSending,pageID:this.props.pageID,selectedItemsID:Array.from(this.state.selectedItems.keys()),activeView:this.state.activeView,recipientID:this.props.recipientID,selectedItemsCount:this.state.selectedItemsCount})};d.$2=function(){var a=null;switch(this.state.activeView){case h.PRODUCT_GROUP_VARIANTS:a=b("React").jsx(b("PagesManagerMessagingProductGroupVariants.react"),{viewingProductGroupID:b("nullthrows")(this.state.viewingProductGroupID)});break;case h.REVIEW_AND_SEND:a=b("React").jsx(b("PagesManagerMessagingProductItemsReview.react"),{selectedItems:Array.from(this.state.selectedItems.values())});break;default:a=b("React").jsx(b("PagesManagerMessagingProductBrowser.react"),{pageID:this.props.pageID,searchTerm:this.state.searchTerm})}return b("React").jsx("div",{className:"_8mf- _8nl0",children:a})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxQEUtils",["qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){var a;return(a=b("qex")._("1166058"))!=null?a:"CONTROL"};a=function(){return g()!=="CONTROL"};c=function(){return g()==="COMMENT_RANKING"||g()==="BOTH_RANKING"};d=function(){return g()==="MESSENGER_RANKING"||g()==="BOTH_RANKING"};e.exports={shouldShowCommentRanking:c,shouldShowMessengerRanking:d,shouldShowNewDesign:a}}),null);
__d("MediaManagerInboxUtils",["MediaManagerInboxQEUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){return a!==null&&a!==void 0?a:0};c=function(){return b("MediaManagerInboxQEUtils").shouldShowNewDesign()?"inbox_plus":"inbox"};var g=function(a){switch(a){case"FACEBOOK":return b("MediaManagerInboxQEUtils").shouldShowCommentRanking()?[b("PageCommItemFolder").PRIORITY]:[];case"MESSENGER":return b("MediaManagerInboxQEUtils").shouldShowMessengerRanking()?[b("PageCommItemFolder").PRIORITY]:[];default:return[]}};d=function(a,c){if(!g(a).includes(b("PageCommItemFolder").PRIORITY))return!1;var d=!0;c!=null&&c[a]!=null&&(d=c[a]>0);return d};f={FormatInitialCount:a,InboxTabType:c,MediaManagerInboxSpecificFolders:g,ShouldPriorityAsDefault:d};e.exports=f}),null);
__d("PagesInboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_inbox_impression");e.exports=a}),null);
__d("PagesManagerMessagingLogger",["invariant","PageCommItemFolder","PagesEventObserver","PagesInboxImpressionFalcoEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h="MESSENGER",i="inbox",j=":";a={logMessagesSectionViewEvent:function(a,c,d){c=c||i;var e;c.indexOf(":")&&(e=c.split(j),c=e[e.length-1]);b("PagesEventObserver").notify("view_messages",a,{section:d||h,subsection:c})},logPageViewFolderEventForInbox:function(a,c,d){__p&&__p();var e="";switch(c){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:e="messages_view_inbox";break;case b("PageCommItemFolder").DONE:e="messages_view_archived";break;case b("PageCommItemFolder").SPAM:e="messages_view_spam";break;default:g(0,6258)}b("PagesEventObserver").notify(e,a,{source:d});e==="messages_view_inbox"&&b("PagesInboxImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:a,referrer:d,event_data:{num_threads_viewed:null}}})}};e.exports=a}),null);
__d("PagesManagerMessagingNavigationUnitKey",["MercuryFilters.bs","MessagingTag"],(function(a,b,c,d,e,f){"use strict";c={FILTERS:{ALL:b("MercuryFilters.bs").all,UNREAD:b("MercuryFilters.bs").unread,FLAGGED:"flag",PRIORITY:"important"},FOLDERS:{INBOX:(a=b("MessagingTag")).INBOX,ARCHIVED:a.ACTION_ARCHIVED,PAGE_BACKGROUND:a.PAGE_BACKGROUND,SPAM:a.OTHER}};e.exports=c}),null);
__d("PagesManagerInboxProductPickerButton.react",["cx","fbt","ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxProductPickerNuxContainer.react","PagesManagerMessagingProductPickerFluxContainer.react","PagesMessagingInboxActionsTypedLogger","React","SUIBusinessTheme","SUIPopoverLayer.react","Tooltip","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showPopover:!1},d.handleClickOutside=function(a){a=a.target;d.$2&&a instanceof Node&&!d.$2.contains(a)&&d.setState({showPopover:!1})},d.$3=function(){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("product_picker_button_clicked").setPlatform("MESSENGER").log(),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX").business_inbox_product_picker_nux),d.$4()},d.$5=function(a){d.$1=a},d.$6=function(a){a!=null&&(d.$2=a)},d.$7=function(){return d.$1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)};d.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)};d.$4=function(){this.setState(function(a){return{showPopover:!a.showPopover}})};d.$8=function(){var a=this;return this.state.showPopover?b("React").jsx(b("SUIPopoverLayer.react"),{contextRef:this.$7,theme:b("SUIBusinessTheme"),margin:"_4jnw",position:"above",alignment:"center",content:b("React").jsx("div",{ref:this.$6,className:"_8j7-",children:b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerMessagingProductPickerFluxContainer.react"),{pageID:this.props.pageID,closePopoverHanlder:function(){return a.setState({showPopover:!1})},recipientID:this.props.recipientID})})})}):null};d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx("div",babelHelpers["extends"]({className:"_8iix",onClick:this.$3,ref:this.$5,role:"button",tabIndex:"0"},b("Tooltip").propsFor(h._("Send products")))),this.$7!=null?b("React").jsx(b("PagesManagerInboxProductPickerNuxContainer.react"),{contextRef:this.$7}):null,this.state.showPopover?this.$8():null]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("EventPlanStrings",["fbt","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=" \xb7 ";a={getStartPlanFBT:function(){return g._("Start Plan")},getLoadingPlanFBT:function(){return g._("Loading...")},getDisplayDateAndTimeFBT:function(a,c){var d=b("formatDate")(a,"g:iA"),e=d.length-5;d.substring(e,e+3)===":00"&&(d=d.substring(0,e).concat(d.substring(e+3)));e=g._("{reminder_date} at {reminder_time}",[g._param("reminder_date",b("formatDate")(a,"D M j")),g._param("reminder_time",d)]);if(c)return g._("{reminder_date_and_time}{middot_separator_for_time_and_name}{reminder_name}",[g._param("reminder_date_and_time",e),g._param("middot_separator_for_time_and_name",h),g._param("reminder_name",c)]);else return e},getMultiEventsSummary:function(a){return g._("{event_count} Upcoming Reminders",[g._param("event_count",a)])},getNextEventTime:function(a){return g._("Next: {next_reminder_date_and_time}",[g._param("next_reminder_date_and_time",this.getDisplayDateAndTimeFBT(a))])},getSubtitle:function(a,b,c){a=g._({"*":"{number} Going","_1":"1 Going"},[g._plural(a,"number")]);b?c?c=g._("{reminder_location_name}{middot_separator_for_location_and_going_members}{going_member_count}",[g._param("reminder_location_name",b),g._param("middot_separator_for_location_and_going_members",h),g._param("going_member_count",a)]):c=b:c=a;return c},getViewEventFBT:function(){return g._("View Event")},getRSVPContext:function(a){return g._({"*":"{number} Going","_1":"1 Going"},[g._plural(a,"number")])},getAssociatedEventRSVPContext:function(a,b){return g._("{going_member_count} Going {middot_separator_for_going_and_interested_members}{interested_member_count} Interested",[g._param("going_member_count",a),g._param("middot_separator_for_going_and_interested_members",h),g._param("interested_member_count",b)])},getAssociatedEventRSVPContextAsSubtitle:function(a,b){return g._("Public Event {middot_separator_for_event_name_and_going_members}{going_member_count} Going {middot_separator_for_going_and_interested_members}{interested_member_count} Interested",[g._param("middot_separator_for_event_name_and_going_members",h),g._param("going_member_count",a),g._param("middot_separator_for_going_and_interested_members",h),g._param("interested_member_count",b)])}};e.exports=a}),null);
__d("PagesCommerceBuyerNUXDialog.react",["cx","fbt","ix","Image.react","LayerFadeOnHide","LayerFadeOnShow","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=400,k="K PLUS",l=i("276000");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_COMMERCE_BUYER_NUX),d.props.onConfirm()},d.$3=function(a){a||d.$2()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return h._("OK")};d.$4=function(){return b("React").jsx("div",{className:"_1lc0",children:b("React").jsx(b("XUIButton.react"),{className:"_1lcd",label:this.$1(),size:"xxlarge",use:"confirm",onClick:this.$2})})};d.$5=function(){var a;return(a=b("React")).jsxs("ul",{className:"_1lce",children:[a.jsxs("li",{className:"_1lcf",children:[a.jsx(b("Image.react"),{className:"_1_2f",src:i("275996")}),a.jsx(b("XUIText.react"),{className:"_1_2g",size:"header3",children:h._("Pay with {k_plus} or your credit or debit card.",[h._param("k_plus",k)])})]}),a.jsxs("li",{className:"_1lcf",children:[a.jsx(b("Image.react"),{className:"_1_2f",src:i("275998")}),a.jsx(b("XUIText.react"),{className:"_1_2g",size:"header3",children:h._("Payments are protected and private.")})]}),a.jsxs("li",{className:"_1lcf",children:[a.jsx(b("Image.react"),{className:"_1_2f",src:i("275997")}),a.jsx(b("XUIText.react"),{className:"_1_2g",size:"header3",children:h._("FREE! No extra fees or charges.")})]})]})};d.render=function(){return!this.props.isShown?null:b("React").jsx(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},onToggle:this.$3,shown:this.props.isShown,width:this.props.width||j,children:b("React").jsxs(b("XUIDialogBody.react"),{className:"_52jv",children:[b("React").jsx(b("Image.react"),{className:"_1lcg",src:l}),b("React").jsx("div",{className:"_1lci",children:h._("Instant, secure payments on Messenger.")}),this.$5(),this.$4()]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ServicesAppointmentBadgeSubscription",["BaseGraphQLSubscription","relay-runtime","ServicesAppointmentBadgeSubscription.graphql"],(function(a,b,c,d,e,f){__p&&__p();var g;b("relay-runtime").graphql;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/page_id_"+a.page_id+"_user_id_"+a.user_id};d.getQuery=function(){return g!==void 0?g:g=b("ServicesAppointmentBadgeSubscription.graphql")};d.getQueryParameters=function(a){return{input:babelHelpers["extends"]({},a)}};d.getSubscriptionCallName=function(){return"services_appointment_badge_subscribe"};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("IGMessageConnectionStatusTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({RUNNING:"",NETWORK_ERROR:""})}),null);
__d("IGMessageDataDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("IGMessageDataMutateActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({FORCE_FETCH:"",CREATING:"",CREATE:"",UPDATING:"",UPDATE:"",DELETING:"",DELETE:""})}),null);
__d("InstagramMessageThreadItemWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2595554300462774"};b.getQueryID=function(){return"325943938338406"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadItemsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2581139891978691"};b.getQueryID=function(){return"548707749023766"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramBusinessMessageInboxQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2562177080536219"};b.getQueryID=function(){return"398982634310744"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2742565699100943"};b.getQueryID=function(){return"1199894503543494"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("IGMessageDataMutateAction",["invariant","IGMessageDataDispatcher","IGMessageDataMutateActionTypes","IGMessageInboxStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={INBOX:"INBOX",THREAD:"THREAD",ITEM:"ITEM"},i="TODO";a={forceFetchInbox:function(a,c,d,e,f,j,k){var l;d===void 0&&(d=i);k===void 0&&(k=!1);l=(l=c)!=null?l:1;l>=1||g(0,11872);b("IGMessageDataDispatcher").dispatch({request:{type:h.INBOX,inboxID:a,limit:c,folder:d,is_follow_up:e,is_unread:f,assigned_admin_id:j,fetch_from_user:k},type:b("IGMessageDataMutateActionTypes").FORCE_FETCH})},forceFetchThread:function(a,c,d,e){e===void 0&&(e=!1);d=(d=d)!=null?d:1;d>=1||g(0,11872);b("IGMessageDataDispatcher").dispatch({request:{type:h.THREAD,inboxID:a,token:c,limit:d,fetch_from_user:e},type:b("IGMessageDataMutateActionTypes").FORCE_FETCH})},forceFetchThreadItem:function(a,c,d){b("IGMessageDataDispatcher").dispatch({request:{type:h.ITEM,inboxID:a,token:c,limit:d},type:b("IGMessageDataMutateActionTypes").FORCE_FETCH})},markThreadAsDeleting:function(a,c){b("IGMessageDataDispatcher").dispatch({request:{type:h.THREAD,inboxID:a,token:c},type:b("IGMessageDataMutateActionTypes").DELETING})},markThreadItemAsDeleting:function(a,c){b("IGMessageDataDispatcher").dispatch({request:{type:h.ITEM,inboxID:a,token:c},type:b("IGMessageDataMutateActionTypes").DELETING})},deleteThread:function(a,c){b("IGMessageDataDispatcher").dispatch({request:{type:h.THREAD,inboxID:a,token:c},type:b("IGMessageDataMutateActionTypes").DELETE})},deleteThreadItem:function(a,c,d){b("IGMessageDataDispatcher").dispatch({request:{type:h.ITEM,inboxID:a,token:d},type:b("IGMessageDataMutateActionTypes").DELETE,extraData:{threadToken:c}})},markThreadItemAsCreating:function(a,c,d){b("IGMessageDataDispatcher").dispatch({request:{type:h.ITEM,inboxID:a},type:b("IGMessageDataMutateActionTypes").CREATING,payload:{item:d},extraData:{threadToken:c}})},createThread:function(a,c){b("IGMessageDataDispatcher").dispatch({request:{type:h.THREAD,inboxID:a},type:b("IGMessageDataMutateActionTypes").CREATE,payload:{thread:c}})},createThreadItem:function(a,c,d){b("IGMessageDataDispatcher").dispatch({request:{type:h.ITEM,inboxID:a},type:b("IGMessageDataMutateActionTypes").CREATE,payload:{item:d},extraData:{threadToken:c}})},updateInbox:function(a,c,d){d===void 0&&(d=!1),b("IGMessageDataDispatcher").dispatch({request:{type:h.INBOX,inboxID:a,fetch_from_user:d},type:b("IGMessageDataMutateActionTypes").UPDATE,payload:{inbox:c}})},updateThread:function(a,c,d,e){e===void 0&&(e=!1),b("IGMessageDataDispatcher").dispatch({request:{type:h.THREAD,inboxID:a,token:c,fetch_from_user:e},type:b("IGMessageDataMutateActionTypes").UPDATE,payload:{thread:d}})},updateThreadItem:function(a,c,d,e){b("IGMessageDataDispatcher").dispatch({request:{type:h.ITEM,inboxID:a,token:d},type:b("IGMessageDataMutateActionTypes").UPDATE,payload:{item:e},extraData:{threadToken:c}})},markThreadAsSeen:function(a,c,d,e,f){var g=b("IGMessageInboxStore").getThread(a,c).getValue(),h=f===null||f===void 0?b("IGMessageInboxStore").getInboxIGID():f;g=(((f=g)!=null?f.last_seen_at:f)||[]).filter(function(a){return a.user_id!==h});g.push({item_id:d,timestamp:e,user_id:h});this.updateThread(a,c,{last_seen_at:g})},markRavenAsSeen:function(a,c,d,e){var f=b("IGMessageInboxStore").getThread(a,c).getValue(),g=b("IGMessageInboxStore").getInboxIGID();f=(((f=f)!=null?f.last_seen_at:f)||[]).filter(function(a){return a.user_id!==g});f.push({item_id:d,timestamp:e,user_id:g});this.updateThread(a,c,{last_seen_at:f})},updateThreadFollowUpStatus:function(a,b,c){this.updateThread(a,b,{is_follow_up:c})},updateThreadReadStatus:function(a,b,c){this.updateThread(a,b,{is_read:c})},updateThreadAdminStatus:function(a,b,c,d,e){this.updateThread(a,b,{assigned_admin:{id:c,name:d,profile_picture:{uri:e}}})},likeThreadItem:function(a,c,d,e){__p&&__p();var f,g=b("IGMessageInboxStore").getThreadItem(a,d).getValue(),h=b("IGMessageInboxStore").getInboxIGID(),i=b("IGMessageInboxStore").getInboxProfilePic();f=((f=g)!=null?(f=f.ig_reaction)!=null?f.likes:f:f)||[];if(f.find(function(a){return a.instagram_user_id===h}))return;f=f.filter(function(a){return a.instagram_user_id!==h});f.push({instagram_user_id:h,profile_picture:{uri:i}});e={time_stamp:e,ig_reaction:{likes_count:(((i=g)!=null?(i=i.ig_reaction)!=null?i.likes_count:i:i)||0)+1,likes:f}};(e.time_stamp===null||e.time_stamp===void 0||e.time_stamp==="")&&delete e.time_stamp;this.updateThreadItem(a,c,d,e)},unlikeThreadItem:function(a,c,d){__p&&__p();var e,f=b("IGMessageInboxStore").getThreadItem(a,d).getValue(),g=b("IGMessageInboxStore").getInboxIGID();e=((e=f)!=null?(e=e.ig_reaction)!=null?e.likes:e:e)||[];if(!e.find(function(a){return a.instagram_user_id===g}))return;e=e.filter(function(a){return a.instagram_user_id!==g});f=(((f=f)!=null?(f=f.ig_reaction)!=null?f.likes_count:f:f)||0)-1;f<0&&(f=0);this.updateThreadItem(a,c,d,{ig_reaction:{likes_count:f,likes:e}})}};e.exports=a}),null);
__d("IGMessageConnectionStatusStore",["FluxMapStore","IGMessageConnectionStatusTypes","IGMessageDataDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,b){return a.set(b.token,{status:b.type})};d.getStatus=function(a){a=this.get(a);return!a?b("IGMessageConnectionStatusTypes").RUNNING:a.status};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("IGMessageDataDispatcher"))}),null);
__d("PagesInstagramDirectMessageBlockUserMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageBlockUserMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageBlockUserMutation.graphql");function a(a,c,d,e,f){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",user_id:d}},onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageDeleteThreadMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageDeleteThreadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageDeleteThreadMutation.graphql");function a(a,c,d,e){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests"}},onCompleted:d,onError:e})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageMarkAsSeenMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageMarkAsSeenMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageMarkAsSeenMutation.graphql");function a(a,c,d,e,f,g){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",item_id:e,client_context:d}},onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageMarkRavenAsSeenMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageMarkRavenAsSeenMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageMarkRavenAsSeenMutation.graphql");function a(a,c,d,e,f,g){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",item_id:e,client_context:d}},onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageReactionMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageReactionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageReactionMutation.graphql");function a(a,c,d,e,f,g,j,k,l){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",reaction_type:f,reaction_status:g,target_item_type:j,item_id:e,client_context:d}},onCompleted:k,onError:l})}e.exports={commit:a}}),null);
__d("XInstagramDirectMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_inbox/instagram_direct/send/",{request_user_id:{type:"FBID"},client_thread_id:{type:"String"},offline_threading_id:{type:"String"},source:{type:"String"},action_type:{type:"Enum",enumType:1}})}),null);
__d("IGMessageServerRequests",["AsyncRequest","AsyncUploadRequest","IGMessageMarkThreadMutation","IGMessageThreadAdminAssignmentMutation","PagesInstagramDirectMessageBlockUserMutation","PagesInstagramDirectMessageDeleteThreadMutation","PagesInstagramDirectMessageMarkAsSeenMutation","PagesInstagramDirectMessageMarkRavenAsSeenMutation","PagesInstagramDirectMessageReactionMutation","XInstagramDirectMessagingSendController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.sendNewMessage=function(a,c,d,e){__p&&__p();var f=b("XInstagramDirectMessagingSendController").getURIBuilder().getURI();a=this.__prepareSendPayload(c,a);if(c.photo){c=new(b("AsyncUploadRequest"))(f).setData(a).setFiles({photo:c.photo}).setAllowCrossPageTransition(!0);var g=[c.subscribe("success",function(a,b){d(b.getResponse())}),c.subscribe("failure",function(a,b){e(b.getResponse())}),c.subscribe("complete",function(a,b){while(g.length)g.pop().unsubscribe()})];c.send()}else new(b("AsyncRequest"))(f).setData(a).setAllowCrossPageTransition(!0).setErrorHandler(function(a){e(a)}).setHandler(function(a){d(a)}).send()};c.likeThreadItem=function(a,c,d,e){var f=c.token.split(":");b("PagesInstagramDirectMessageReactionMutation").commit(f[3],a,c.uuid,f[4],"like","created",c.itemType.toLowerCase(),d,e)};c.unlikeThreadItem=function(a,c,d,e){var f=c.token.split(":");b("PagesInstagramDirectMessageReactionMutation").commit(f[3],a,c.uuid,f[4],"like","deleted",c.itemType.toLowerCase(),d,e)};c.markThreadAsSeen=function(a,c,d,e){b("PagesInstagramDirectMessageMarkAsSeenMutation").commit(c.threadToken,a,c.uuid,c.itemToken,d,e)};c.markRavenAsSeen=function(a,c,d,e){b("PagesInstagramDirectMessageMarkRavenAsSeenMutation").commit(c.threadToken,a,c.uuid,c.itemToken,d,e)};c.deleteThread=function(a,c,d,e){b("PagesInstagramDirectMessageDeleteThreadMutation").commit(c.threadID,a,d,e)};c.blockUser=function(a,c,d,e){b("PagesInstagramDirectMessageBlockUserMutation").commit(c.thread_id,a,c.user_id,d,e)};c.updateThreadStatus=function(a,c,d,e){b("IGMessageMarkThreadMutation").commit(a,c.threadID,c.filterStatus,c.followUpStatus,c.unreadStatus,d,e)};c.updateThreadAdminStatus=function(a,c,d,e){b("IGMessageThreadAdminAssignmentMutation").commit(a,c.threadID,c.adminID,d,e)};c.__prepareSendPayload=function(a,b){return{request_user_id:b,body:a.body,client_thread_id:a.thread_id,offline_threading_id:a.offline_threading_id,source:a.source,thread_fbid:a.thread_fbid,action_type:a.messageType,image_id:a.image_id}};return a}();e.exports=a}),null);
__d("IGMessageServerActions",["IGMessageConnectionStatusStore","IGMessageConnectionStatusTypes","IGMessageDataDispatcher","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerRequests","PagesCommsInboxTypedLogger","PagesManagerAction","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a,this.$2=new Map(),this.__serverRequests=new(b("IGMessageServerRequests"))()}var c=a.prototype;c.clearAllPendingActions=function(){this.$2=new Map()};c.getAllPendingActions=function(){return this.$2};c.getPendingActionsNumber=function(a){a=this.$2.get(a);return a?a.length:0};c.send=function(a){__p&&__p();var c=this;if(a.thread_id===null||a.thread_id===void 0)return;var d;a.photo!=null||a.image_id!=null?d="MEDIA":a.body!==""?d="TEXT":d="LIKE";new(b("PagesCommsInboxTypedLogger"))().setFunnel("page_send_to_user").setCustomerID(a.thread_id).setMessageID(a.offline_threading_id).setEvent("tapped_send").setClientTime(b("IGMessageInboxStore").getNowTimestamp()).setMessagingPlatform("instagram_direct").setPageID(this.$1).log();b("IGMessageDataMutateAction").markThreadItemAsCreating(this.$1,b("nullthrows")(a.thread_id),{ig_thread_item_media:null,token:null,time_stamp:b("IGMessageInboxStore").getNowTimestamp(),ig_item_type:d,sender_id:b("IGMessageInboxStore").getInboxIGID(),client_context:a.offline_threading_id,text:a.body,item_id:null,ig_reaction:null,raven_media:null,share:null,profileshare:null,ig_placeholder:null,action_log:null,link_source:null,animated_media:null,voice_media:null});var e=b("nullthrows")(a.thread_id),f=b("nullthrows")(a.offline_threading_id);this.$4(f,function(){});this.$4(e,function(){return c.__serverRequests.sendNewMessage(c.$1,a,function(a){c.$5(e);a=b("nullthrows")((a=a)!=null?(a=a.payload)!=null?a.item_token:a:a);c.$2.set(a,c.$2.get(f)||[]);c.$2["delete"](f);c.$5(a)},function(a){c.$6(e)})})};c.likeThreadItem=function(a,c,d){var e=this;b("IGMessageDataMutateAction").likeThreadItem(this.$1,"",a);var f=b("IGMessageInboxStore").getItemType(this.$1,a)||"";this.$4(a,function(a){return e.__serverRequests.likeThreadItem(e.$1,{token:a,itemType:f,timestamp:d,uuid:c},function(b){return e.$5(a)},function(b){return e.$6(a)})})};c.unlikeThreadItem=function(a,c,d){var e=this;b("IGMessageDataMutateAction").unlikeThreadItem(this.$1,"",a);var f=b("IGMessageInboxStore").getItemType(this.$1,a)||"";this.$4(a,function(a){return e.__serverRequests.unlikeThreadItem(e.$1,{token:a,itemType:f,timestamp:d,uuid:c},function(b){return e.$5(a)},function(b){return e.$6(a)})})};c.markThreadAsSeen=function(a,c,d,e){c=c.split(":");b("IGMessageDataMutateAction").markThreadAsSeen(this.$1,a,c[c.length-1],e);this.__serverRequests.markThreadAsSeen(this.$1,{threadToken:a,itemToken:c[c.length-1],timestamp:e,uuid:d},function(){},function(){})};c.markRavenAsSeen=function(a,c,d,e){var f=this;b("IGMessageDataMutateAction").markThreadAsSeen(this.$1,a,c,e);this.$4(c,function(b){return f.__serverRequests.markRavenAsSeen(f.$1,{threadToken:a,itemToken:c,timestamp:e,uuid:d},function(a){return f.$5(b)},function(a){return f.$6(b)})})};c.deleteThread=function(a){var c=this;this.$4(a,function(d){return c.__serverRequests.deleteThread(c.$1,{threadID:a},function(a){c.$5(d),b("PagesManagerAction").clearViewListItem()},function(a){return c.$6(d)})})};c.blockUser=function(a,b){var c=this;this.$4(a,function(d){return c.__serverRequests.blockUser(c.$1,{thread_id:a,user_id:b},function(a){return c.$5(d)},function(a){return c.$6(d)})})};c.updateThreadStatus=function(a,b,c,d){var e=this;this.$4(a,function(f){return e.__serverRequests.updateThreadStatus(e.$1,{threadID:a,filterStatus:b,followUpStatus:c,unreadStatus:d},function(a){return e.$5(f)},function(a){return e.$6(f)})})};c.updateThreadAdminStatus=function(a,b){var c=this;this.$4(a,function(d){return c.__serverRequests.updateThreadAdminStatus(c.$1,{threadID:a,adminID:b},function(a){return c.$5(d)},function(a){return c.$6(d)})})};c.restartAllPendingActions=function(){var a=this;this.$2.forEach(function(b,c){return a.restartPendingActions(c)})};c.restartPendingActions=function(a){b("IGMessageDataDispatcher").dispatch({token:a,type:b("IGMessageConnectionStatusTypes").RUNNING}),this.$7(a)};c.$4=function(a,c){var d=this.$2.get(a);d||this.$2.set(a,[]);b("nullthrows")(this.$2.get(a)).push({action:c,isRunning:!1});this.$7(a)};c.$7=function(a){var c=this.$2.get(a);if(!c||c.length===0||c[0].isRunning)return;if(b("IGMessageConnectionStatusStore").getStatus(a)!==b("IGMessageConnectionStatusTypes").RUNNING)return;c[0].isRunning=!0;c[0].action(a)};c.$5=function(a){b("nullthrows")(this.$2.get(a)).shift(),this.$7(a)};c.$6=function(a){b("nullthrows")(this.$2.get(a))[0].isRunning=!1,b("IGMessageDataDispatcher").dispatch({token:a,type:b("IGMessageConnectionStatusTypes").NETWORK_ERROR})};a.$8=function(){var a=this.$3;if(!a){this.$3=new Map();return this.$3}return a};a.getForFBID=function(b){var c=this.$8(),d=c.get(b);d||(d=new a(b),c.set(b,d));return d};return a}();e.exports=a}),null);
__d("MediaManagerInboxLogUtils",["MediaManagerFbPagePickerStore","MediaManagerInboxUtils","MediaManagerTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MediaManagerInboxUtils").InboxTabType;function h(a,c){c=c;c==null&&(c=new(b("MediaManagerTypedLogger"))());c=c.setEvent(a).setEventSource("inbox_tab").setSelectedSinglePageID(b("MediaManagerFbPagePickerStore").selectedSinglePageID()).setSelectedTab(g());c.log()}function a(a,c,d,e){var f=new(b("MediaManagerTypedLogger"))();c!==null&&(f=f.setPlatformRowID(String(c)));d!=null&&(f=f.setInboxPlatform(d));e!=null&&(f=f.setEventData(e));h(a,f)}function c(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"MESSAGE";case"FACEBOOK":case"INSTAGRAM":return"COMMENT";default:return null}}function d(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"THREAD";case"FACEBOOK":case"INSTAGRAM":return"POST";default:return null}}e.exports={getMediaManagerNotificationType:c,getMediaManagerPlatformRowType:d,mediaManagerInboxLoggingEvent:a}}),null);
__d("MediaManagerInboxContext.react",["FacebookAppIDs","MediaManagerInboxLogUtils","PageCommItemActionType","PageCommItemStatus","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxLogUtils").getMediaManagerNotificationType,h=b("MediaManagerInboxLogUtils").getMediaManagerPlatformRowType,i=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent,j=(a={},a[(c=b("PageCommItemStatus")).DELETED]="mark_deleted",a[c.DONE]="mark_done",a[c.FOLLOW_UP]="mark_follow_up",a[c.TODO]="mark_todo",a[c.SPAM]="mark_spam",a),k=(d={},d[b("PageCommItemActionType").MARK_READ]="mark_read",d[b("PageCommItemActionType").MARK_UNREAD]="mark_unread",d);f={appID:b("FacebookAppIDs").MEDIA_MANAGER,logClickPlatform:function(a,b){i("click_platform",null,a,{filter:b})},logClickRow:function(a,b){i("click_row",a,b)},logMarkReadStatusActions:function(a,b,c,d,e){i(k[d],a,b,{filter:c,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:e!=null?e.toString():""})},logMarkStatusActions:function(a,b,c,d,e){i(j[e],a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowImpression:function(a,b,c,d){i("row_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowPreviewImpression:function(a,b,c,d){i("row_preview_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logSendMessageToTargetUser:function(a,b,c,d){i("send_message_to_target_user",a,b,{filter:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logSendStickerToTargetUser:function(a,b,c,d,e){i("send_sticker_to_target_user",a,b,{filter:e,inbox_messenger_send_sticker_id:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})}};a=b("React").createContext({appID:null,logClickPlatform:c=b("emptyFunction"),logClickRow:c,logMarkReadStatusActions:c,logMarkStatusActions:c,logRowImpression:c,logRowPreviewImpression:c,logSendMessageToTargetUser:c,logSendStickerToTargetUser:c});e.exports={MediaManagerInboxContext:a,MediaManagerInboxContextValue:f}}),null);
__d("PageManagerInboxContentSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.searchImpl=function(a,c,d){d||({});if(a){d=new(b("SearchableEntry"))({uniqueID:a,title:a,subtitle:a});c([d],a);return}c([],a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxCustomerSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{title:b.title,subtitle:b.subtitle,uniqueID:b.uniqueID,uri:b.uri})||this;c.$PagesManagerInboxCustomerSearchableEntry1=b.platform;return c}var c=b.prototype;c.getPlatform=function(){return this.$PagesManagerInboxCustomerSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("PagesManagerInboxCometUtil",["cx","fbt","Env","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j={shouldShowCometNewDesign:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),c=!1;if(a==null){var d;c=(d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowCometInboxRedesign)!=null?d:!1}else{c=(a=(d=a.inboxRedesignConfig)==null?void 0:d.shouldShowCometInboxRedesign)!=null?a:!1}return(i||(i=b("Env"))).isCQuick&&c},cometSearchInputHeight:function(){var a;a=(a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowCometInboxRedesign)!=null?a:!1;return(i||(i=b("Env"))).isCQuick&&a?54:0},cometBadgeCountText:function(a,b,c){var d="";a!=null&&(b==="MESSENGER"||b==="INSTAGRAM_DIRECT"?d=h._({"*":"{number} messages","_1":"1 message"},[h._plural(a,"number")]):(b==="FACEBOOK"||b==="INSTAGRAM")&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])));return j.showCometBadgeCountText(d,c)},showCometBadgeCountText:function(a,c){return b("React").jsxs("div",{className:"_8fgz",children:[b("React").jsx("div",{className:"_8fg5"}),b("React").jsx("div",{className:"_8fg6","data-testid":c,children:a})]})}};e.exports=j}),null);
__d("PagesManagerInboxUnifiedThreadlistUtil",["MediaManagerUtils","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a={shouldShowUnifiedThreadlist:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlist)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlist)!=null?c:!1}return a&&!g()},shouldShowUnifiedThreadlistSeparatedTab:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlistSeparatedTab)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlistSeparatedTab)!=null?c:!1}return a&&!g()}};e.exports=a}),null);
__d("PageCommItemStatusUtil",["ix","cssVar","fbt","invariant","PageCommItemActionType","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,m="ARCHIVED",n=(a={},a[(c=b("PageCommItemFolder")).TODO]=i._("Main"),a[c.FOLLOW_UP]=i._("Follow Up"),a[c.DONE]=i._("Done"),a[c.SPAM]=i._("Spam"),a[c.UNREAD]=i._("Unread"),a[c.MESSENGER_THREADS]=i._("Messenger"),a[c.INSTAGRAM_THREADS]=i._("Instagram Direct"),a[c.PRIORITY]=i._("Priority"),a),o={getFolders:function(a){var c;c=[(c=b("PageCommItemFolder")).TODO,c.FOLLOW_UP,c.DONE,c.SPAM];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);return c},getInboxFolders:function(a){a=[b("PageCommItemFolder").TODO,b("PageCommItemFolder").DONE,b("PageCommItemFolder").SPAM];return a},getFilters:function(a){var c=[b("PageCommItemFolder").FOLLOW_UP];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);a=k();var d=l();a&&!d&&c.unshift(b("PageCommItemFolder").MESSENGER_THREADS,b("PageCommItemFolder").INSTAGRAM_THREADS);return c},PageCommItemFolderLabelConfig:n,getLabel:function(a){return n[a]},getToolTipLabel:function(a){__p&&__p();var c=o.getFolderQECheck();if(c)switch(a){case b("PageCommItemFolder").TODO:return i._("Move to Main");case b("PageCommItemFolder").FOLLOW_UP:return i._("Mark as Follow Up");case b("PageCommItemFolder").DONE:return i._("Move to Done");case b("PageCommItemFolder").SPAM:return i._("Move to Spam");default:j(0,1566,a)}switch(a){case b("PageCommItemFolder").TODO:return i._("Move to Main");case b("PageCommItemFolder").FOLLOW_UP:return i._("Mark as follow up");case b("PageCommItemFolder").DONE:return i._("Mark as done");case b("PageCommItemFolder").SPAM:return i._("Mark as spam");default:j(0,1566,a)}},getStarLabel:function(a){switch(a){case b("PageCommItemStatus").FOLLOW_UP:return i._("Mark as Follow Up");case b("PageCommItemStatus").TODO:return i._("Remove from Follow Up");default:j(0,1567,a)}},getColor:function(a,c){__p&&__p();if(c)switch(a){case b("PageCommItemStatus").FOLLOW_UP:return"#000000";case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:case b("PageCommItemStatus").SPAM:return"#000000";case b("PageCommItemStatus").UNREAD:return"#000000";default:j(0,1568,a)}switch(a){case b("PageCommItemStatus").TODO:return"#90949c";case b("PageCommItemStatus").FOLLOW_UP:return"#90949c";case b("PageCommItemStatus").DONE:return"#90949c";case b("PageCommItemStatus").SPAM:return"#90949c";case b("PageCommItemStatus").UNREAD:return"#90949c";default:j(0,1568,a)}},getFolderStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:j(0,1568,status)}},getIGDirectFolder:function(a,c){var d=null;a===b("PageCommItemFolder").SPAM?d=b("PageCommItemFolder").SPAM:a===b("PageCommItemFolder").DONE?d=m:a===b("PageCommItemFolder").TODO&&(c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE)&&(d=b("PageCommItemFolder").TODO);return d},getThreadsManagementStatus:function(a){return this.getIsFilter(a)?b("PageCommItemFolder").TODO:a},getIsFilter:function(a){return a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemFolder").FOLLOW_UP||a===b("PageCommItemFolder").MESSENGER_THREADS||a===b("PageCommItemFolder").INSTAGRAM_THREADS},getActionParam:function(a,c,d,e){d===void 0&&(d=!0);var f=o.getFolderQECheck(),g=a==="INSTAGRAM_DIRECT",h=(a==="FACEBOOK"||a==="MESSENGER"||a==="INSTAGRAM"||a==="INSTAGRAM_DIRECT")&&c!==b("PageCommItemFolder").SPAM,i=e&&(e.is_read===!1||e.unread_count>0);e=e&&(e.comm_status===b("PageCommItemFolder").FOLLOW_UP||e.is_follow_up);var j=c!==b("PageCommItemFolder").DONE&&h,k=c===b("PageCommItemFolder").UNREAD;a=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(g||a==="MESSENGER");return f?{showDone:j,showFollowUp:c!==b("PageCommItemFolder").FOLLOW_UP&&j&&!e,showInbox:c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE,showMarkRead:i!=null?i&&j:k&&j,showMarkUnread:i!=null?!i&&j:!k&&j,showSpam:j,showUnFollowup:e!=null&&j?e:!1,showDelete:d,showMore:a}:{showDone:j&&!g,showFollowUp:c!==b("PageCommItemFolder").FOLLOW_UP&&!e&&!g,showInbox:c!==b("PageCommItemFolder").TODO&&!g,showMarkRead:i!=null?i&&!g:k,showMarkUnread:i!=null?!i&&!g:!k,showSpam:h&&!g,showUnFollowup:(f=e&&!g)!=null?f:!1,showDelete:d,showMore:a}},getUnreadStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemActionType").MARK_UNREAD)return!1;else if((a===b("PageCommItemFolder").TODO||a===b("PageCommItemActionType").MARK_READ)&&c.is_read===!1&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!0;else return null},getFollowUpStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").FOLLOW_UP)return!0;else if(a===b("PageCommItemFolder").TODO&&c.is_follow_up===!0&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!1;else return null},getFolderColor:function(a,b){return o.getColor(o.getFolderStatus(a),b)},getFolderQECheck:function(){var a=b("PagesManagerInboxFilterStore").getActiveType(),c=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),d=!1,e=!1;if(c!=null){var f;d=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewMessengerFolder)&&a==="MESSENGER";e=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewIGDirectFolder)&&a==="INSTAGRAM_DIRECT";c=Boolean((f=c.inboxRedesignConfig)==null?void 0:f.shouldShowNewCommentsFolder)&&(a==="INSTAGRAM"||a==="FACEBOOK")}else d=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMessengerFolder)&&a==="MESSENGER",e=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder)&&a==="INSTAGRAM_DIRECT",c=Boolean(b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewCommentsFolder)&&(a==="INSTAGRAM"||a==="FACEBOOK");return d||e||c},getIGDStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:return b("PageCommItemStatus").TODO}},getFolderImage:function(a,c){__p&&__p();var d;if(c)switch(a){case b("PageCommItemFolder").TODO:d=g("982942");break;case b("PageCommItemFolder").FOLLOW_UP:d=g("982961");break;case b("PageCommItemFolder").DONE:d=g("786413");break;case b("PageCommItemFolder").SPAM:d=g("982949");break;case b("PageCommItemFolder").UNREAD:d=g("982928");break;case b("PageCommItemFolder").MESSENGER_THREADS:d=g("1104734");break;case b("PageCommItemFolder").INSTAGRAM_THREADS:d=g("1104724");break}else switch(a){case b("PageCommItemFolder").TODO:d=g("686001");break;case b("PageCommItemFolder").FOLLOW_UP:d=g("479365");break;case b("PageCommItemFolder").DONE:d=g("124181");break;case b("PageCommItemFolder").SPAM:d=g("585265");break;case b("PageCommItemFolder").UNREAD:d=g("483099");break;case b("PageCommItemFolder").PRIORITY:d=g("880209");break}return d}};e.exports=o}),null);
__d("PagesAdminToolUIActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_CARD_CLICK_ADD_NOTE:"context_card_click_add_note",CONTEXT_CARD_CLICK_CONFIRM_ADD_NOTE:"context_card_click_confirm_add_note",CONTEXT_CARD_CLICK_DELETE_NOTE:"context_card_click_delete_note",CONTEXT_CARD_CLICK_CONFIRM_DELETE_NOTE:"context_card_click_confirm_delete_note",CONTEXT_CARD_CLICK_HISTORY:"context_card_click_history",CONTEXT_CARD_CLICK_PROFILE_LINK:"context_card_click_profile_link",CONTEXT_CARD_CLICK_SHARED_MEDIA:"context_card_click_shared_media",CONTEXT_CARD_LOAD_MORE_SHARED_MEDIA:"context_card_load_more_shared_media",CONTEXT_CARD_LOAD_MORE_NOTES:"context_card_load_more_notes",CONTEXT_CARD_LOAD_MORE_HISTORY:"context_card_load_more_history",CONTEXT_CARD_CLICK_SET_CUSTOM_TAG:"context_card_click_set_custom_tag",CONTEXT_CARD_CLICK_UNSET_CUSTOM_TAG:"context_card_click_unset_custom_tag",TAG_MANAGEMENT_CLICK_DELETE_LINK:"tag_management_click_delete_link",TAG_MANAGEMENT_CLICK_CONFIRM_DELETE:"tag_management_click_confirm_delete",TAG_MANAGEMENT_CLICK_COLOR_SELECTOR:"tag_management_click_color_selector",TAG_MANAGEMENT_CLICK_CHANGE_COLOR:"tag_management_click_change_color",TAG_MANAGEMENT_CLICK_ADD_TAG:"tag_management_click_add_tag",TAG_MANAGEMENT_CLICK_MERGE_TAG:"tag_management_click_merge_tag",MESSAGE_INBOX_SWITCH_FOLDER:"message_inbox_switch_folder",MESSAGE_INBOX_TOGGLE_FILTER_PANEL:"message_inbox_toggle_filter_panel",MESSAGE_INBOX_CLICK_MANAGE_TAGS:"message_inbox_click_manage_tags",MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS:"message_inbox_click_add_search_tags",MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS:"message_inbox_click_remove_search_tags",MESSAGE_INBOX_CLICK_SEARCH_NAMES:"message_inbox_click_search_names",MESSAGE_INBOX_CLICK_SEARCH_MESSAGES:"message_inbox_click_search_messages",MESSAGE_INBOX_CLICK_AWAY_TOGGLE:"message_inbox_click_away_toggle",MESSAGE_INBOX_CLICK_THREAD_BLOCK:"message_inbox_click_thread_block",MESSAGE_INBOX_CLICK_SEND_MESSAGE:"message_inbox_click_send_message",MESSAGE_INBOX_CLICK_MENU_ACTION:"message_inbox_click_menu_action",HOVERCARD_CLICK_EXPAND_FULL_VIEW:"hovercard_click_expand_full_view",HOVERCARD_CLICK_SEND_MESSAGE:"hovercard_click_send_message",HOVERCARD_CLICK_SEE_CONVERSATION:"hovercard_click_see_conversation",HOVERCARD_CLICK_VIEW_PROFILE:"hovercard_click_view_profile"})}),null);
__d("PagesManagerMessagingActionType",["PagesManagerActionType","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({THREAD_LEVEL:{READ_STATUS:"",ARCHIVE_STATUS:"",SPAM_STATUS:"",UPDATE_THREAD:""},SET_SCROLL_HEIGHT:null,SET_APPOINTMENT_BANNER_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_UPDATE:null,SNIPPET_SEARCH_UPDATE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},BAN:{RESET:null,UPDATE:null},CLASSIFIER:{INITIALIZE_STORE:null,CHECK_FOR_INTENT:null,NOTIFY_INTENT_CLASSIFIED:null,THREAD_INTENT_UPDATED:null,VERIFY_INTENT:null}});Object.assign(a,b("PagesManagerActionType"));e.exports=a}),null);
__d("PagesMessagingSearchMode",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ALL:"",NAME_SEARCH:"",KEYWORD_SEARCH:"",MESSAGE_SEARCH:"",NONE:""});e.exports=a}),null);
__d("PagesManagerMessagingThreadlistAction",["MercuryThreadlistConstants","PagesManagerDispatcher","PagesManagerLogger","PagesManagerMessagingActionType","PagesMessagingSearchMode"],(function(a,b,c,d,e,f){__p&&__p();var g={initThreadlist:function(a){this.fetchThreadlist(a,0,b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT)},fetchThreadlist:function(a,c,d){b("PagesManagerDispatcher").dispatch({offset:c,limit:d,pageID:a,type:b("PagesManagerMessagingActionType").LIST.FETCH})},updateThreadlist:function(a){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},updateThreadlistWithDelay:function(a,c){setTimeout(function(){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},c)},changeSearchTerm:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.CHANGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d,searchMode:e})},changeIsSearchingNameStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.NAME_SEARCH_UPDATE,isSearching:a})},changeIsSearchingSnippetStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE,isSearching:a})},loadMoreNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:c,pageID:a,activeFolder:d})},loadMoreSnippetResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:c,pageID:a,activeFolder:d})},resetSearch:function(a){g.changeSearchTerm(a,"","",b("PagesMessagingSearchMode").NONE)},addSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_add_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},removeSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_remove_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},searchNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_NAME_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})},searchMessageResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_MESSAGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})}};e.exports=g}),null);
__d("PageManagerInboxUnifiedCustomerRelaySearchSource",["AbstractRelaySearchSource","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxFilterAction","RelayFBEnvironment","RelayModern","nullthrows","PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;function h(a,c,d){var e=g!==void 0?g:g=b("PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql");return{query:e,variables:{searchTerm:c,count:d,pageID:a,cursor:null}}}function i(a){__p&&__p();a=(a=a)!=null?(a=a.page)!=null?(a=a.page_unified_customer_search)!=null?a.edges:a:a:a;b("PagesManagerInboxFilterAction").setPeopleSearchLoaded();return!a?[]:a.map(function(a){var c,d,e;a=b("nullthrows")(a.node);var f=b("nullthrows")(a.id);e=(e=(e=a)!=null?e.name:e)!=null?e:"";d=(d=(d=a)!=null?(d=d.ig_profile_info)!=null?d.name:d:d)!=null?d:"";c=(c=a)!=null?(c=c.profile_photo_uris)!=null?(c=c[0])!=null?c.uri:c:c:c;var g="FACEBOOK";a.ig_profile_info!==null&&(g="INSTAGRAM");return new(b("PagesManagerInboxCustomerSearchableEntry"))({title:e,subtitle:d,uniqueID:f,uri:c,platform:g})}).filter(function(a){return a!==null})}function j(a,b){return b(a)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){return a.call(this,b("RelayFBEnvironment"),{bootstrapRequests:[],queryRequests:[{gen:function(a){return h(c,a,d)}}],packageFn:i,getAllForEmptyQuery:!0},j)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("PageUserMessageThreadAutoLabelType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOMER:"CUSTOMER",POTENTIAL_CUSTOMER:"POTENTIAL_CUSTOMER",POSITIVE_EXPERIENCE:"POSITIVE_EXPERIENCE",NEGATIVE_EXPERIENCE:"NEGATIVE_EXPERIENCE"})}),null);
__d("PageAutomationTrigger",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POSITIVE_RECOMMENDATION:"positive_recommendation",NEGATIVE_RECOMMENDATION:"negative_recommendation",CRM_REENGAGEMENT:"crm_reengagement",SMART_REPLY_CONTACT:"smart_reply_contact",SMART_REPLY_HOURS:"smart_reply_hours",SMART_REPLY_LOCATION:"smart_reply_location",SMART_REPLY_NEGATIVE_FEEDBACK:"smart_reply_negative_feedback",SMART_REPLY_POSITIVE_FEEDBACK:"smart_reply_positive_feedback",JOB_APPLICATION:"job_application",AWAY_MESSAGE:"away_message",INSTANT_REPLY:"instant_reply",APPOINTMENT_REMINDER:"appointment_reminder",SAVED_REPLY:"saved_reply",MBS_REENGAGEMENT:"mbs_reengagement",BECOME_SUPPORTER:"become_supporter",ICEBREAKER:"icebreaker",AUTOMATED_CHECKOUT:"automated_checkout",ORGANIC_INTAKE_FORM:"organic_intake_form",CUSTOM_QUESTIONS:"custom_questions",APPOINTMENT_FOLLOW_UP:"appointment_follow_up"})}),null);
__d("PagesMessagingInboxActionLogger",["PagesMessagingInboxActionsTypedLogger","SavedResponsesUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={init:function(a){g=a},logConnectInstagramDirectButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("has_comments_connected",a.toString()).setPlatform("INSTAGRAM_DIRECT").setInboxAction("connect_button_click").log()},logConnectInstagramButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("can_connect_igdirect",a.toString()).setPlatform("INSTAGRAM").setInboxAction("connect_button_click").log()},logInitialListRendered:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("inbox_loaded").setPlatform(a).addToExtraData("page_id",c).log()},logSearchButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("search_button_clicked").log()},logPeopleSearchClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("people_search_clicked").setPlatform(a).addToExtraData("search_type",d).addToExtraData("search_term",c).addToExtraData("customer_platform",e).log()},logSearchResultClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction(a).setPlatform(c).addToExtraData("search_type",e).addToExtraData("search_term",d).log()},logSearchResultOpened:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("search_results_clicked").setPlatform(a).addToExtraData("search_type",c).addToExtraData("item_id",d).log()},logDeleteThreadClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("delete_thread").log()},logGroupActions:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction(c).addToExtraData("page_id",g).log()},logApplySavedReply:function(a,c,d,e,f,h){var i=b("SavedResponsesUtils").extraMacrosFromSavedResponse(e);new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_applied").addToExtraData("page_id",g).addToExtraData("search_term",d).addToExtraData("shortcut_match_term",c).addToExtraData("message",e).addToExtraData("shortcut",f).addToExtraData("has_image",h.toString()).addToExtraData("personalizations",i.join(",")).addToExtraData("automation_type","saved_reply").log()},logUpdateSavedReply:function(a,c,d,e,f,h,i){__p&&__p();var j=new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_updated").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply");if(a!==null){var k;k=b("SavedResponsesUtils").extraMacrosFromSavedResponse((k=a)!=null?k:"");j.addToExtraData("prev_message",(a=a)!=null?a:"").addToExtraData("prev_image_id",(a=f)!=null?a:"").addToExtraData("prev_shortcut",(f=d)!=null?f:"").addToExtraData("prev_macro_list",k.join(","))}if(c!==null){d=b("SavedResponsesUtils").extraMacrosFromSavedResponse((a=c)!=null?a:"");j.addToExtraData("new_message",(f=c)!=null?f:"").addToExtraData("new_image_id",(k=h)!=null?k:"").addToExtraData("new_shortcut",(a=e)!=null?a:"").addToExtraData("new_macro_list",d.join(",")).addToExtraData("corresponding_question",(c=i)!=null?c:"")}j.log()},logSavedReplySortClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_sorted").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply").addToExtraData("sorting_key",a).log()},logSavedReplyButtonClicked:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_button_clicked").addToExtraData("page_id",g).addToExtraData("shortcut_match_term",c).log()},logSendButtonClicked:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_button_clicked").setPlatform(a).addToExtraData("shortcut_match_term",c).addToExtraData("page_id",g).addToExtraData("enter_to_send_enabled",d.toString()).log()}};e.exports=a}),null);
__d("PageCustomerSearchViewItem.react",["cx","Image.react","PagesManagerInboxCustomerSearchableEntry","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=32;function i(a){var c=b("React").jsx(b("Image.react"),{className:"_4ul-",height:h,src:a.entry.getURI(),width:h});if(a.entry instanceof b("PagesManagerInboxCustomerSearchableEntry")){a=a.entry.getPlatform();return b("React").jsxs("div",{className:"_7yyd"+(a==="FACEBOOK"?" _5m15":"")+(a==="INSTAGRAM"?" _5m16":""),height:h,width:h,children:[c,b("React").jsx("div",{className:"_5m17",children:b("React").jsx("div",{className:"_5m18"})})]})}return c}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c,d=this.props.entry;return(c=b("React")).jsxs("li",{className:"_7znk","data-testid":"customer_search_row_card",onMouseDown:function(b){return a.props.onSelect(d,b)},children:[c.jsx(i,{entry:d}),c.jsxs("div",{className:"_7zlb",children:[this.props.renderHighlight(d.getTitle()),c.jsx("div",{className:Boolean(d.getSubtitle())?"_7zlc":"",children:d.getSubtitle()})]})]},d.getUniqueID())};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerSearchResultRenderer.react",["ix","cx","fbt","Image.react","PageCustomerSearchViewItem.react","PageCustomLabelsTypeaheadViewItem.react","PagesManagerAction","PagesManagerInboxCometUtil","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerStore","PagesMessagingInboxActionLogger","React","ScrollableArea.react","ShimButton.react","TextSearchUtil","WIGProgressIndicator.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("PagesManagerInboxFilterStore").getActiveType();b("PagesManagerAction").clearViewListItem();b("PagesManagerInboxFilterAction").changeSearchTerm(d.props.queryString.toString());b("PagesManagerInboxFilterAction").changeSearchType("CONTENT");b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0);b("PagesMessagingInboxActionLogger").logSearchResultClicked("content_search_clicked",a,d.props.queryString,"CONTENT")},d.$2=function(a){var c=a;d.props.queryString&&(c=b("TextSearchUtil").getTokens(a.toString(),d.props.queryString.toString()).map(function(a,c){return a.isHighlighted?b("React").jsx("span",{className:"_7znl",children:a.text},c):a.text}));return b("React").jsx("span",{children:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=[],d=[];this.props.entries.map(function(e){e instanceof b("PagesManagerInboxCustomLabelSearchableEntry")?c.push(b("React").jsx(b("PageCustomLabelsTypeaheadViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID())):!!e.getURI()===!0&&d.push(b("React").jsx(b("PageCustomerSearchViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID()))});var e=c.length>0?b("React").jsx("div",{className:"_7zk3","data-testid":"labelsSection_header",children:i._("LABELS")}):null,f=d.length===0&&b("PagesManagerInboxFilterStore").getIsPeopleSearchLoading();f=d.length>0||f?b("React").jsxs("div",{className:"_7zk3","data-testid":"customerSection_header",children:[i._("PEOPLE"),f&&b("React").jsx(b("WIGProgressIndicator.react"),{})]}):null;var h=this.props.queryString.trim().length>2?b("React").jsx(b("ShimButton.react"),{onMouseDown:this.$1,children:b("React").jsxs("div",{className:"_7zl7","data-testid":"contentSearchSection_header",children:[b("React").jsx("div",{className:"_7zl8",children:b("React").jsx(b("Image.react"),{src:g("515638")})}),i._("Search in Messenger conversations")]})}):null,j=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getListNavigationHeight();return b("React").jsx(b("ScrollableArea.react"),{maxHeight:j,children:b("React").jsxs("div",{className:"_7zl9"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8g4e":""),children:[h,b("React").jsx("span",{className:"_7zla"}),f,d,b("React").jsx("span",{className:"_7zla"}),e,c]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderSearchBar.react",["cx","fbt","AbstractTextInput.react","CompositeSearchSource","FacebookAppIDs","FluxContainer","MediaManagerInboxContext.react","MediaManagerInboxQEUtils","PageManagerInboxContentSearchSource","PageManagerInboxCustomLabelSearchSource","PageManagerInboxUnifiedCustomerRelaySearchSource","PagesManagerAction","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxSearchTokenRenderer.react","PagesManagerSearchResultRenderer.react","PagesMessagingInboxActionLogger","React","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=29;function j(a,b){return a.length>b?a.slice(0,b)+"...":a}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a){__p&&__p();var c=b("PagesManagerInboxFilterStore").getActiveType();if(a instanceof b("PagesManagerInboxCustomLabelSearchableEntry"))b("PagesManagerInboxFilterAction").addCustomLabel(a.getData(),d.props.pageID),b("PagesMessagingInboxActionLogger").logSearchResultClicked("label_search_clicked",c,d.state.searchTerm,"LABEL");else if(!!a.getURI()===!0){b("PagesManagerInboxFilterAction").selectCustomer(a.getUniqueID());b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle());b("PagesManagerInboxFilterAction").changeSearchType("CUSTOMER");var e="FACEBOOK";a instanceof b("PagesManagerInboxCustomerSearchableEntry")&&(e=a.getPlatform());b("PagesMessagingInboxActionLogger").logPeopleSearchClicked(c,d.state.searchTerm,"CUSTOMER",e)}else b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle()),b("PagesManagerInboxFilterAction").changeSearchType("CONTENT"),b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0)},d.$5=function(a){a instanceof b("PagesManagerInboxCustomLabelSearchableEntry")&&b("PagesManagerInboxFilterAction").removeCustomLabel(a.getData(),d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){var a;return{searchTerm:(a=b("PagesManagerInboxFilterStore")).getSearchTerm(),activeSearchLabels:a.getCurrentSearchCustomLabels(),pageCustomerID:a.getPageCustomerID(),searchType:a.getSearchType()}};var d=c.prototype;d.$1=function(a){b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"&&b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeSearchTerm(a.target.value)};d.$2=function(){return this.state.searchTerm||this.state.activeSearchLabels&&this.state.activeSearchLabels.length>0?null:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h._("Search Inbox"):h._("Search")};d.$3=function(){var a;if(this.props.labels)return this.props.labels.toArray();a=((a=this.props.labels)!=null?(a=a.custom_tags)!=null?a.edges:a:a)||[];a=a.map(function(a){return a.node});return a};d.$6=function(){var a=this.context&&this.context.appID;return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()||a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.render=function(){var a=b("PagesManagerSearchResultRenderer.react"),c=new(b("PagesManagerAdminSearchSource"))(),d=new(b("CompositeSearchSource"))([new(b("PageManagerInboxUnifiedCustomerRelaySearchSource"))(this.props.pageID,5),b("PageManagerInboxCustomLabelSearchSource").getInstance(this.$3()),new(b("PageManagerInboxContentSearchSource"))()]);c=this.state.searchType==="ADMIN"?c:d;d={useLayer:!0,ViewRenderer:a,TokenRenderer:b("PagesManagerInboxSearchTokenRenderer.react"),maxEntries:200};if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(this.state.pageCustomerID||this.state.searchType==="CONTENT"))return b("React").jsx(b("AbstractTextInput.react"),{className:"_8f1r",onChange:this.$1,placeholder:this.$2(),value:this.state.searchTerm});if(this.state.pageCustomerID)return b("React").jsx("span",{className:"_22os",children:j(this.state.searchTerm,i)});return this.state.searchType==="CONTENT"?b("React").jsx(b("AbstractTextInput.react"),{className:this.$6()?"_8f1r":"_2dua",onChange:this.$1,placeholder:this.$2(),value:this.state.searchTerm}):b("React").jsx(b("XUITokenizer.react"),{className:this.$6()?"_8f1r":"_2dua",context:this.props.context,entries:this.state.activeSearchLabels,focusedOnInit:!0,hideViewWithEntries:!1,maxEntries:5,onAddEntryAttempt:this.$4,onChange:this.$1,onEnterWithoutSelection:this.$1,onQueryStringChange:this.$1,onRemoveEntryAttempt:this.$5,placeholder:this.$2(),presenter:d,searchSource:c,showEntriesOnFocus:!0,tokenClassName:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8h-z":"_22op"})};return c}(b("React").PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c)}),null);
__d("PagesManagerInboxCometSearchInput.react",["cx","AbstractTextInput.react","MediaManagerUtils","PagesManagerInboxListHeaderSearchBar.react","React","XUICloseButton.react","immutable","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.focusInput=function(){c.refs.inputField.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{children:b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_8ekb"+(this.props.isFocused||!!this.props.value?" _8ek6":"")+(this.props.searchActive?" _8ek7":"")+(b("MediaManagerUtils").isMediaManagerApp()?" _8wr5":"")),role:"search",children:[this.props.searchActive?b("React").jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.props.context,labels:this.props.allLabels,pageID:this.props.pageID,value:this.props.value}):b("React").jsx(b("AbstractTextInput.react"),{className:"_8ekc",onBlur:this.props.onBlur,onChange:this.props.onChange,onClick:this.props.onClick,onEnter:this.props.onEnter,onFocus:this.props.onFocus,placeholder:this.props.placeholder,value:this.props.value}),b("React").jsx(b("XUICloseButton.react"),{className:(this.props.searchActive?"":"hidden_elem")+" _8ekd",onMouseDown:this.props.onClear,size:"large"})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","IGMessageDataMutateAction","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAction","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxUnifiedThreadlistUtil","URI","ads-lib-urllib","getUniqueValuesForStringArray","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,k=1,l=1440;a=function(a,c,d,e,f){d!==a&&b("PagesManagerInboxFilterAction").changeFolder(e,f!=null?f:b("PageCommItemFolder").TODO,a),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxFilterAction").changeType(e,a),b("PagesManagerInboxAction").setNavMode(c)};c=function(a,c,d,e){b("PagesManagerInboxFilterAction").changeActiveUTLFolder(a),d!==a&&b("PagesManagerInboxFilterAction").changeFolder(e,b("PageCommItemFolder").TODO,a),a!=="ALL"?b("PagesManagerInboxFilterAction").changePlatform(a,e):b("PagesManagerInboxFilterAction").changeType(e,"MESSENGER"),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxAction").setNavMode(c)};d=function a(b){var c=b;Array.isArray(b)?c=b.map(a):b===Object(b)&&(c={},Object.keys(b).forEach(function(d){return c[d]=a(b[d])}));return c};var m=function(a,c,d,e,f,g,j,k){__p&&__p();var l={mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:k.errorText,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]},m=!1;a=a.trim();a||(l.welcomeTextError=k.welcomeTextError,m=!0);if(c&&c.length>0){var n=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaLabelError:a:a:a,o=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaURLError:a:a:a,p=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[1])!=null?a.ctaURLError:a:a:a;c.forEach(function(a,c){var d=null,e=null,f=a.content&&a.content.trim();!f&&n&&(d=n,m=!0);f=a.url;!f?o&&(e=o,m=!0):a.type==="button"&&(!b("ads-lib-urllib").isUrl(f)||!(h||(h=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(f)))&&p&&(e=p,m=!0);a={buttonNumber:c,ctaLabelError:d,ctaURLError:e};l.ctaErrors.push(a)})}if(e==="image")if(!d)l.mediaError=k.mediaError,l.imageTitleError=k.imageTitleError,m=!0;else{a=d.title&&d.title.trim();(d.type!=="image"||!d.url)&&(l.mediaError=k.mediaError,m=!0);!a&&((c=k)!=null?c.imageTitleError:c)&&(l.imageTitleError=k.imageTitleError,m=!0)}e==="video"&&(!d||!d.url||d.type!=="video")&&(l.mediaError=k.mediaError,m=!0);if(f){f.introMessage.trim()||(l.questionnaireWelcomeTextError=k.questionnaireWelcomeTextError,m=!0);f.thankYouMessage.trim()||(l.questionnaireThanksTextError=k.questionnaireThanksTextError,m=!0);(!g||!g.trim())&&(l.questionnaireStopQuestionsError=k.questionnaireStopQuestionsError,m=!0);(!j||!j.trim())&&(l.questionnaireReminderError=k.questionnaireReminderError,m=!0);a=!1;f.questionMessages.forEach(function(b,c){__p&&__p();b.message.trim()&&(a=!0);if(b.answerType===i.MULTIPLE_CHOICE){b=b.answers.filter(function(a){return a.trim().length});if(b.length<2){c={questionNumber:c,error:(b=k.questionnaireErrors[1])==null?void 0:b.error};l.questionnaireErrors.push(c);m=!0}}});if(!a){e={questionNumber:0,error:(c=k.questionnaireErrors[0])==null?void 0:c.error};l.questionnaireErrors.push(e);m=!0}}if(!m)return null;l.errorText=k.errorText;return l};f=function(a,c){__p&&__p();var d=null,e=a.reengagementMessages;for(var f=0;f<e.length;f++){var h=e[f];d=m(h.messageText,h.ctas,h.attachment,h.attachmentType,null,null,null,c);d===null&&(h.triggerTimeMin>l||h.triggerTimeMin<k)&&(d=n(g._("Message must include a valid send time.")));if(d!==null)break}h=a.reengagementRules;c=h.mainRules.concat(h.andRules).concat(h.notRules);f=b("getUniqueValuesForStringArray")(c);d===null&&(h.mainRules.length<1||!b("shallowArrayEqual")(c,f))&&(d=n(g._("Rule must include valid events.")));return d};var n=function(a){return{mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:a,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]}},o=function(a,c,d){a!==b("PageCommItemFolder").INSTAGRAM_THREADS&&a!==b("PageCommItemFolder").MESSENGER_THREADS&&(c==="INSTAGRAM_DIRECT"||j())&&b("IGMessageDataMutateAction").forceFetchInbox(d,20,b("PageCommItemFolder").TODO,!1,!1,null,!1)};e.exports={changeInboxTab:a,changeSelectedUTLFolder:c,clone:d,getErrorSpecsForComposer:m,getErrorSpecsForReengagement:f,setDefaultIGDirectFolder:o}}),null);
__d("PagesManagerInboxListLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[];for(var c=0;c<this.props.count;c++)a.push(this.$1(c));return b("React").jsx("div",{style:{height:this.props.height},children:a})};d.$1=function(a){var c;return(c=b("React")).jsx("div",{className:"_2dqm",children:c.jsxs("div",{className:"_2iwq _2dqn",children:[c.jsx("div",{className:"_2iwr"}),c.jsx("div",{className:"_2iws"}),c.jsx("div",{className:"_2iwt"}),c.jsx("div",{className:"_2iwu"}),c.jsx("div",{className:"_2iww"}),c.jsx("div",{className:"_2iwx"})]})},"rowPlaceholder"+a)};return c}(b("React").PureComponent);c.defaultProps={count:a};e.exports=c}),null);
__d("CreatorStudioInboxMessengerRankedUsersActionTypes",["PagesManagerActionType","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:""});c=babelHelpers["extends"]({},a,b("PagesManagerActionType"));e.exports=c}),null);
__d("CreatorStudioInboxMessengerRankedUsersAction",["CreatorStudioInboxMessengerRankedUsersActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={fetchCreatorStudioInboxMessengerRankedUsersData:function(){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA})},setCreatorStudioInboxMessengerRankedUsersData:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a,data:c})},refreshCreatorStudioInboxMessengerRankedUsersData:function(a){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a})},deleteCreatorStudioInboxMessengerRankedUser:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,pageID:a,userID:c})},setCreatorStudioInboxMessengerRankedUsersError:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR,pageID:a,error:c})}};e.exports=a}),null);
__d("XMessagingSetPreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/preferences/",{send_on_enter:{type:"Bool",defaultValue:!1}})}),null);
__d("PagesContentEditorAttachment.react",["ix","cx","fbt","FDSButton.react","FDSSpinner.react","FDSText.react","FileInput.react","Image.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","XUICard.react","XUIError.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=80;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;if(this.props.attachmentType===null)return b("React").jsx(b("Link.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrj":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-aw"),onClick:this.props.onAddAttachmentLinkPressed,children:this.props.videoDisabled===!0?i._("+ Add Photo"):i._("+ Add an attachment")});var c=this.props.errors&&this.props.errors.mediaError;return b("React").jsxs(b("XUICard.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-b2"),children:[b("React").jsx(b("Image.react"),{onClick:this.props.onClosePressed,src:this.props.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:this.props.isInboxCombinedCustomQuestionTest===!0?{position:"absolute",top:12,right:17,cursor:"pointer"}:{position:"absolute",top:12,right:12}}),b("React").jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:this.props.attachmentType==="image"?i._("Image"):i._("Video")}),b("React").jsx(k,{attachmentType:this.props.attachmentType,disabled:this.props.disabled===!0,isLoading:this.props.isLoading,onSelectAttachmentType:this.props.onSelectAttachmentType,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1}),b("React").jsxs("div",{className:"_6-b3",children:[b("React").jsx(b("XUIError.react"),{xuiError:c,children:this.props.media&&this.props.media.type===this.props.attachmentType?b("React").jsx(b("Image.react"),{className:"_6-b4",src:this.props.media&&this.props.media.url}):b("React").jsx("div",{className:"_6-b4",children:b("React").jsx(b("Image.react"),{className:"_6-b5",src:this.props.attachmentType==="image"?g("481807"):g("493176")})})}),b("React").jsx(l,{attachmentType:this.props.attachmentType,currentMedia:this.props.media,disabled:this.props.disabled===!0,hasSizeError:this.props.hasSizeError,isLoading:this.props.isLoading,onImageUpload:this.props.onImageUpload,onVideoUpload:this.props.onVideoUpload})]}),this.props.onImageTitleChange&&this.props.attachmentType==="image"?b("React").jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Title")}),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:b("React").jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:this.props.errors&&this.props.errors.imageTitleError,maxLength:j,onChange:this.props.onImageTitleChange,placeholder:i._("Enter a title"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.title})})]}):null,this.props.onImageSubtitleChange&&this.props.attachmentType==="image"?b("React").jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Subtitle (Optional)")}),b("React").jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:b("React").jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:null,maxLength:j,onChange:this.props.onImageSubtitleChange,placeholder:i._("Enter a subtitle to provide more information"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.subtitle})})]}):null]})};return c}(b("React").PureComponent);function k(a){return b("React").jsxs("div",{className:"_6-b6",children:[b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:a.attachmentType==="image"?g("504181"):g("481807")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Image"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("image")},size:"large",use:a.attachmentType==="image"?"primary":"default"}),a.videoDisabled?null:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:a.attachmentType==="video"?g("495229"):g("493176")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Video"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("video")},size:"large",use:a.attachmentType==="video"?"primary":"default"})]})}function l(a){var c,d,e,f,g;a.attachmentType==="image"?(c=".png,.jpg,.jpeg",g=a.onImageUpload,d=a.currentMedia&&a.currentMedia.type==="image"?i._("Change Image"):i._("Choose Image"),e=i._("Images must be no more than 25 MB."),f=a.hasSizeError?i._("Choose an image smaller than 25 MB."):null):(c="video/*",g=a.onVideoUpload,d=a.currentMedia&&a.currentMedia.type==="video"&&a.currentMedia.url!=null?i._("Change Video"):i._("Choose Video"),e=i._("Videos must be no more than 25 MB."),f=a.hasSizeError?i._("Choose a video smaller than 25 MB."):null);return b("React").jsx(m,{disabled:a.disabled,accept:c,description:e,errorText:f,isLoading:a.isLoading,label:d,onUpload:g})}function m(a){var c=a.disabled||a.isLoading,d=b("React").jsx(b("FDSButton.react"),{isDisabled:c,href:{url:"#"},label:a.label,margin:"_3-95",use:"default"});return b("React").jsxs("div",{className:"_6-b7",children:[b("React").jsxs("span",{children:[b("React").jsx(b("XUIError.react"),{xuiError:a.errorText,children:b("React").jsx("div",{className:"_6-b8",children:c?d:b("React").jsx(b("FileInput.react"),{accept:a.accept,name:"file",onChange:a.onUpload,children:d})})}),a.isLoading?b("React").jsx(b("FDSSpinner.react"),{margin:"_3-99"}):null]}),b("React").jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:a.description})]})}e.exports=a}),null);
__d("PagesContentEditorCTASection.react",["ix","cx","fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","LeftRight.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=80,k=3,l=function(a){__p&&__p();var c=i._("Button Label"),d=i._("Add an action you want people to take"),e=a.cta?a.cta.content:"",f=a.cta?a.cta.type:"button",h="";a.cta&&(h=a.cta.url);var k=i._("Button #{cta_index}",[i._param("cta_index",a.index+1)]),l=function(b){a.onCTATitleChange(a.index,b)},m=function(b){a.onCTAURLChange(a.index,b)},n=function(b){b&&a.onCTATypeChange(a.index,b)},o=function(){a.onRemoveCTA(a.index)};o=b("React").jsx(b("Image.react"),{onClick:o,src:a.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:a.isInboxCombinedCustomQuestionTest===!0?{position:"relative",right:5,cursor:"pointer"}:null});var p=i._("Action"),q=f==="postback"?i._("Bot Payload"):i._("Website URL"),r=f==="postback"?i._("Optional: This will be sent back to your webhook."):i._("Add a URL");return b("React").jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9w"),children:[b("React").jsxs(b("LeftRight.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hro":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9x"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrp":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9y"),children:k}),b("React").jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"":"_6-aw",children:o})]}),b("React").jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:c}),b("React").jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaLabelError:null,maxLength:j,onChange:l,placeholder:d,theme:b("SUIBusinessTheme"),value:e})]}),Boolean(a.showCTATypes)&&b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:p}),b("React").jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrn":"",children:b("React").jsxs(b("FDSDropdownSelector.react"),{onChange:n,value:f,children:[b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:"button",children:i._("Open a website")}),b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:"postback",children:i._("Send a postback")})]})})]}),b("React").jsxs("div",{className:(Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrl":"")+(Boolean(a.isInboxCombinedCustomQuestionTest)?"":" _6-ax"),children:[b("React").jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:q}),b("React").jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaURLError:null,onChange:m,placeholder:r,theme:b("SUIBusinessTheme"),value:h})]})]},a.index)};function a(a){var c=a.ctas,d=c&&c.length?c.map(function(d,e){var f=null;a.errors&&(f=a.errors.ctaErrors.find(function(a){return a&&a.buttonNumber===e}));return b("React").jsx(l,{cta:d,ctaCount:c.length,disabled:a.disabled,errors:f,index:e,isInboxCombinedCustomQuestionTest:a.isInboxCombinedCustomQuestionTest,onCTATitleChange:a.onCTATitleChange,onCTATypeChange:a.onCTATypeChange,onCTAURLChange:a.onCTAURLChange,onRemoveCTA:a.onRemoveCTA,showCTATypes:a.showCTATypes},e)}):null,e=null;(!a.ctas||a.ctas.length<k)&&(e=b("React").jsx(b("Link.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hrq":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-az"),onClick:a.onAddCTA,children:!a.ctas||a.ctas.length===0?i._("+ Add a button"):i._("+ Add another button")}));return b("React").jsxs("div",{children:[d,e]})}e.exports=a}),null);
__d("PagesContentEditorConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Type a message...").toString();b=Object.freeze({QUESTIONNAIRE_WELCOME_MESSAGE:"questionnaireWelcomeMessage",QUESTIONNAIRE_THANK_YOU_MESSAGE:"questionnaireThankYouMessage",QUESTIONNAIRE_REMINDER_MESSAGE:"questionnaireReminderMessage",QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:"questionnaireStopQuestionsMessage",QUESTIONNAIRE_SUMMARY_MESSAGE:"questionnaireSummaryMessage",QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:"questionnaireDisqualificationMessage"});e.exports={PagesContentEditorMessageComposerSpecialTypes:b,DEFAULT_MESSAGE:a}}),null);
__d("IcebreakerComposerSectionCard.react",["ix","cx","fbt","AdsUEditorAdgroupMessengerFAQContentIceBreaker.react","CustomQuestionsRichResponseComposer.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSText.react","Image.react","PagesManagerComposerSectionCard.react","PagesManagerInboxFAQConstants","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","React","ShimButton.react","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUITextInput.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("PagesManagerInboxFAQConstants").FAQ_EDITOR_CARD_DESCRIPTION;a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=c.props.icebreakers[a];return a.saved_response},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){return this.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length};d.render=function(){__p&&__p();var a=this,c="icebreaker_preview";b("PagesReplyComposerActions").getActionsByKey(c).initializeStoreWithConfig({composerKey:c,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:""});b("PagesReplyComposerDispatcher").getByKey(c).explicitlyRegisterStore(b("PagesReplyComposerStore").getByKey(c));var d=b("PagesReplyComposerStore").getByKey("MessengerJSONPreview").getState();c=this.props.icebreakers.map(function(c,e){c=b("React").jsx("div",{className:"_89o1",children:b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:a.props.isInboxCombinedCustomQuestionTest?b("React").jsx(b("CustomQuestionsRichResponseComposer.react"),{composerState:d,icebreaker:c,index:e,numCustomQuestionsInMenu:a.$2(),numIcebreakers:a.props.icebreakers.length,onIceBreakerChange:a.props.onCustomQuestionRichMessageChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showRemove:a.props.icebreakers.length>a.props.minIcebreakers}):b("React").jsx(b("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react"),{composerState:d,errorSpec:null,getResponseText:a.$1,index:e,isNamesARTest:!0,onIceBreakerChange:a.props.onIceBreakerChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showQPCIcebreakersDisclaimer:a.props.showQPCIcebreakersDisclaimer,showRemove:a.props.icebreakers.length>a.props.minIcebreakers,value:{title:c.custom_question,response:c.saved_response}})})},"question"+e);return c});var e=i._("+ Add a Question");e=!this.props.icebreakers||!this.props.disableAddRow?b("React").jsx(b("ShimButton.react"),{className:"_89f2"+(this.props.isInboxCombinedCustomQuestionTest?" _8jmh":""),onClick:this.props.onAddRow,children:e}):null;var f=this.props.showQPCIcebreakersDisclaimer?b("React").jsxs("div",{className:"_3-8- _79x_",children:[b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"body2",weight:"bold",children:i._("Question #1")}),b("React").jsx(b("SUITextInput.react"),{disabled:!0,theme:b("SUIBusinessTheme"),value:"I'm a new customer. How can I find out more about your business?"}),b("React").jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",margin:"_3-8y",children:[b("React").jsx(b("FDSGuidanceCardHeader.react"),{children:i._("Questions for Potential Customers")}),b("React").jsx(b("FDSGuidanceCardContent.react"),{children:b("React").jsxs(b("FDSGuidanceCardContentText.react"),{children:[i._("This question is needed to start your questions for potential customers. When this question is selected, your questions for potential customers will begin in Messenger."),i._("To remove this question, turn off questions for potential customers.")]})})]})]}):null;f=b("React").jsxs("div",{className:"_6_oc",children:[f,c,e]});return b("React").jsx(b("PagesManagerComposerSectionCard.react"),{body:f,header:i._("Questions and Responses"),isCollapsible:!1,leftIcon:b("React").jsx("div",{className:"_6as2 _6as8",children:b("React").jsx(b("Image.react"),{src:g("561662")})}),subtitle:this.props.isInboxCombinedCustomQuestionTest?j:i._("Suggest questions for people to tap, then set up automated responses to those questions. People will only see 2 to 4 questions, depending on how many you write. If you add more than 4, the questions shown will be selected randomly.")})};return c}(a);e.exports=c}),null);
__d("IcebreakerFreeTextEditor.react",["IcebreakerComposerSectionCard.react","PagesMarketingAutomationActions","PagesMarketingAutomationContentView.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers;a=b("React").PureComponent;var h=100,i=2,j=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.icebreakers.length<h){var a=d.props.icebreakers.concat([{custom_question:"",saved_response:"",response_ctas:[],should_show_in_menu:d.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length<j}]);b("PagesMarketingAutomationActions").updateIcebreakers(a)}},d.$2=function(a){var c=d.props.icebreakers.filter(function(b,c){return c!==a});b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(c));b("PagesMarketingAutomationActions").updateIcebreakers(c)},d.$3=function(a,c,e){__p&&__p();var f=d.props.icebreakers,h=f.map(function(b,d){if(d===a)if(e==="title"){return{custom_question:(d=c)!=null?d:"",saved_response:(d=b.saved_response)!=null?d:"",response_ctas:[]}}else{return{custom_question:(d=b.custom_question)!=null?d:"",saved_response:(d=c)!=null?d:"",response_ctas:[]}}else return b});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="title"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},d.$4=function(a,c,e){__p&&__p();var f=d.props.icebreakers,h=f.map(function(b,d){__p&&__p();var f;f={custom_question:b.custom_question,saved_response:b.saved_response,response_ctas:(f=b.response_ctas)!=null?f:[],response_media_attachment:(f=b.response_media_attachment)!=null?f:null,should_show_in_menu:(f=b.should_show_in_menu)!=null?f:!1};if(d===a)if(e==="custom_question"){f.custom_question=typeof c==="string"?c:(d=b.custom_question)!=null?d:""}else if(e==="saved_response"){f.saved_response=typeof c==="string"?c:(d=b.saved_response)!=null?d:""}else if(e==="response_ctas"){f.response_ctas=c instanceof Array?c:(d=b.response_ctas)!=null?d:[]}else if(e==="response_media_attachment"){f.response_media_attachment=typeof c!=="boolean"&&typeof c!=="string"&&!(c instanceof Array)?c:(d=b.response_media_attachment)!=null?d:null}else{f.should_show_in_menu=typeof c==="boolean"?c:(d=b.should_show_in_menu)!=null?d:!1}return f});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="custom_question"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.icebreakers,c=Boolean(this.props.isInboxCombinedCustomQuestionTest);a=b("React").jsx(b("IcebreakerComposerSectionCard.react"),{disableAddRow:a.length>=h,disableSave:a.length<i,icebreakers:a,isInboxCombinedCustomQuestionTest:c,minIcebreakers:i,onAddRow:this.$1,onCustomQuestionRichMessageChange:c?this.$4:b("emptyFunction"),onDeleteIcebreaker:this.$2,onIceBreakerChange:c?b("emptyFunction"):this.$3,pageID:this.props.pageID,showQPCIcebreakersDisclaimer:this.props.showQPCIcebreakersDisclaimer});return a};return c}(a);e.exports=c}),null);
__d("PagesAutomatedQuestionnairePrivacyPolicyItem.react",["cx","fbt","FDSText.react","PagesMarketingAutomationUtils","React","SUIBusinessTheme","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onInputChange=function(a){c.props.onQuestionnairePrivacyPolicyURLChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=this.props.questionnairePrivacyPolicyURL,d=b("PagesMarketingAutomationUtils").getQuestionnairePrivacyPolicyURLError(c);return(a=b("React")).jsxs("div",{className:"_3-8- _6_oc",children:[a.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Privacy Policy URL")}),a.jsx("div",{className:"_3-8n",children:a.jsx(b("SUITextInput.react"),{errorMessage:d,onChange:this.onInputChange,placeholder:(a=this.props.placeHolder)!=null?a:"https://www.yourprivacypolicy.com/",theme:b("SUIBusinessTheme"),value:c})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesAutomatedResponsesAwayScheduleDetail.react",["cx","fbt","DateTime","FDSText.react","FluxContainer","PagesMarketingAutomationStore","PagesTimeRangeEditorTypes","PagesTimeRangeEditorUtilities","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesTimeRangeEditorTypes").DAY_OF_WEEK_TO_STRING,j=86400;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c){return{awayTimeZone:b("PagesMarketingAutomationStore").getAwayTimeZone(),awayTimeRanges:b("PagesMarketingAutomationStore").getAwayTimeRanges()}};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};var d=c.prototype;d.$1=function(a){return a==null?null:a.replace("_"," ")};d.render=function(){__p&&__p();var a=this;if(!this.props.isShown)return null;var c=b("React").jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x",size:"body1",children:h._("You can manually make your Page away in Inbox or schedule times for your Page to be away each week.")});if(this.state.awayTimeRanges&&!this.state.awayTimeRanges.isEmpty()){var d=[],e=function(c){__p&&__p();var e=b("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(c,a.state.awayTimeRanges);e=e.map(function(d,e){if(a.state.awayTimeZone===null)return null;var f=b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone);if(f===-1)return null;f=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.from===j?d.from-1:d.from);d=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.to===j?d.to-1:d.to);return d.equals(f)?null:b("React").jsxs("div",{className:"_7nhj",children:[f.format("g:iA")," - ",d.format("g:iA")]},"index"+e+"_w"+c)}).filter(function(a){return a!==null});d.push(b("React").jsxs("div",{className:"_7nhk",children:[b("React").jsxs("div",{children:[i[c],": "]}),b("React").jsx("div",{children:e.size>0?e:h._("None")})]},"weekday"+c))};for(var f=0;f<7;f++)e(f);c=b("React").jsxs("div",{children:[b("React").jsxs(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-95",size:"body2",children:[h._("Time zone:")," ",this.$1(this.state.awayTimeZone)]}),d]})}return b("React").jsxs("div",{className:"_20nr",children:[b("React").jsx(b("FDSText.react"),{display:"block",margin:"_3-95 _3-8y",size:"header3",weight:"bold",children:h._("Schedule")}),c]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesAutomatedResponsesAwayTimeRangeEditorRoot.react",["PagesMarketingAutomationActions","PagesMarketingAutomationStore","PagesTimeRangeEditor.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("PagesMarketingAutomationActions").updateAwayTimeRange(a)};d.$2=function(a){b("PagesMarketingAutomationActions").updateAwayTimeZone(a)};d.render=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone(),c=b("PagesMarketingAutomationStore").getAwayTimeRanges();return a!=null&&c!=null?b("React").jsx(b("PagesTimeRangeEditor.react"),{initialTimeRanges:c,initialTimezoneName:a,onTimeRangesChanged:this.$1,onTimezoneChanged:this.$2}):b("React").jsx("div",{})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationContentUtils",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","PagesManagerInboxFAQConstants","PagesManagerInboxStore","PagesMarketingAutomationStore","URI","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesManagerInboxFAQConstants").FAQ_EDIT_VIEW_INTRO,l=b("PagesManagerInboxFAQConstants").FAQ_TIMING_NOTE,m=b("PagesManagerInboxFAQConstants").FAQ_TIMING_WHEN;function a(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"instant_reply":return h._("Instant Reply");case"away_message":return h._("Away Message");case"become_supporter":return h._("New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Checkout Info Inquiry");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return h._("Reminders");case"appointment_follow_up":return h._("Follow-up Messages");default:return""}}function c(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("Send a message after someone publicly shares that they recommend your Page.");case"negative_recommendation":return h._("Send a message after someone publicly shares that they don't recommend your Page.");case"job_application":return h._("Respond to someone who applied for a job you posted.");case"smart_reply_positive_feedback":return h._("Respond to a message containing positive feedback about your business.");case"smart_reply_negative_feedback":return h._("Respond to a message containing negative feedback about your business.");case"smart_reply_contact":return h._("Respond to a message asking for contact information.");case"smart_reply_location":return h._("Respond to a message asking about the location of your business.");case"smart_reply_hours":return h._("Respond to a message asking about your business hours.");case"instant_reply":return d?h._("Respond to the first message someone sends {pageName} in Messenger or on Instagram.",[h._param("pageName",c)]):h._("Respond to the first message someone sends your Page.");case"away_message":return d?h._("When away messages are on, {pageName} is away and sends away messages. You can manually make {page name} away in Inbox or schedule times to be away each week.",[h._param("pageName",c),h._param("page name",c)]):h._("When away messages are on, your Page is away and sends away messages. You can manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"become_supporter":return h._("Send an automatic message to new supporters. You can customize the message to thank them for their support, highlight benefits and more.");case"icebreaker":return h._("Suggest questions for people to tap so it's easier for them to start a conversation. Then set up automated responses to those questions.");case"custom_questions":return k;case"automated_checkout":return h._("Inquire about checkout information through a set of predefined questions.");case"mbs_reengagement":return h._("Re-engage customers with automatic notifications based on rules you set.");case"organic_intake_form":return h._("Ask a sequence of questions to see if people are potential customers. These questions can help qualify your leads.");case"appointment_reminder":return h._("Send customers an automatic reminder via Messenger or text message (SMS) the day before their appointment.");case"appointment_follow_up":return h._("Automatically send customers a message after their appointment to encourage them to book again.");default:return""}}function d(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"negative_recommendation":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"job_application":return h._("You can customize your message to thank them for their interest or let them know when to expect a response.");case"smart_reply_positive_feedback":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"smart_reply_negative_feedback":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"smart_reply_contact":return h._("You can customize your message to include additional contact information, such as a WhatsApp number or an Instagram link.");case"smart_reply_location":return h._("You can customize your message to include additional information about your location, such as options for parking or public transportation.");case"smart_reply_hours":return h._("You can customize your message to include additional information, such as upcoming holiday hours.");case"instant_reply":return d?h._("You can customize your message to say hello, give them more information about {pageName} or let them know when to expect a response.",[h._param("pageName",c)]):h._("You can customize your message to say hello, give them more information about your Page or let them know when to expect a response.");case"away_message":return h._("You can customize your message to let people know how long you'll be away and when you'll respond.");case"become_supporter":return h._("You can customize your message to thank them for their support or let them know what you provide.");case"automated_checkout":return h._("You can customize your messages for automated checkout.");case"mbs_reengagement":return h._("You can customize your messages.");case"organic_intake_form":return h._("You can customize your questions depending on the information you need.");default:return""}}function f(a,b){__p&&__p();switch(a){case"positive_recommendation":return h._("Edit Message: Page Recommended");case"negative_recommendation":return h._("Edit Message: Page Not Recommended");case"job_application":return h._("Edit Message: Application Received");case"smart_reply_positive_feedback":return h._("Edit Message: Positive Feedback");case"smart_reply_negative_feedback":return h._("Edit Message: Negative Feedback");case"smart_reply_contact":return h._("Edit Message: Contact Information");case"smart_reply_location":return h._("Edit Message: Location");case"smart_reply_hours":return h._("Edit Message: Hours");case"instant_reply":return h._("Edit Message: Instant Reply");case"away_message":return h._("Edit: Away Message");case"become_supporter":return h._("Edit: New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Edit: Frequently Asked Questions");case"saved_reply":return b!=="0"?h._("Edit Saved Reply"):h._("Create Saved Reply");default:return""}}function n(a,b){__p&&__p();switch(a){case"positive_recommendation":return h._("Sent 10 minutes after someone publicly shares that they recommend {pageName}",[h._param("pageName",b)]);case"negative_recommendation":return h._("Sent 10 minutes after someone publicly shares that they don't recommend {pageName}",[h._param("pageName",b)]);case"job_application":case"smart_reply_contact":case"smart_reply_location":case"smart_reply_hours":return h._("Sent instantly");case"smart_reply_positive_feedback":return h._("Sent 10 minutes after someone gives positive feedback");case"smart_reply_negative_feedback":return h._("Sent 10 minutes after someone gives negative feedback");case"instant_reply":case"away_message":return h._("Sent instantly");case"custom_questions":return m;case"become_supporter":return h._("Sent to people 10 minutes after they become a supporter");case"icebreaker":return h._("Frequently asked questions are shown when someone taps a button to send your page a message.");case"automated_checkout":return h._("When your customer decides to buy a product.");case"mbs_reengagement":return h._("Customize the timing of each follow-up message.");case"organic_intake_form":return h._("Sent instantly to people who contact your Page for the first time.");case"appointment_reminder":return h._("Sent the day before a confirmed appointment");case"appointment_follow_up":return h._("Choose when you want to send a follow-up message");default:return""}}function o(a,c){__p&&__p();var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"smart_reply_contact":return h._("Note: People who ask about contact information only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_location":return h._("Note: People who ask about the location of your business only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_hours":return h._("Note: People who ask about business hours only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"away_message":return h._("Away messages send when you manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"instant_reply":return d?h._("Note: If {pageName} is away and has instant replies turned on, people will receive an away message instead of an instant reply.",[h._param("pageName",c)]):h._("Note: If your Page is away and has instant replies turned on, people will receive an away message instead of an instant reply.");case"icebreaker":return h._("Automated responses are sent instantly after someone taps or types a question.");case"automated_checkout":return h._("Note: These messages and questions will be sent in sequence, however you can change the order of questions or add new ones.");case"mbs_reengagement":return h._("Note: You can connect rules with existing app events. Then add conditions to determine when these messages are sent.");case"organic_intake_form":return h._("You can stop these questions at any time in the conversation.");case"custom_questions":return l;default:return null}}function p(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Hi, thanks for recommending us! We're glad you had a great experience.");case"negative_recommendation":return h._("Hi, we're sorry you had a bad experience. Please let us know how we can improve.");case"job_application":return h._("Hi! We've received your application and appreciate your interest in working for us.");case"smart_reply_positive_feedback":return h._("We're glad you had a positive experience!");case"smart_reply_negative_feedback":return h._("We're sorry you had a negative experience.");case"smart_reply_contact":return A();case"smart_reply_location":return B();case"smart_reply_hours":return C();case"instant_reply":return h._("Hi, thanks for contacting us. We've received your message and appreciate you reaching out.");case"away_message":return h._("Thanks for your message. We're away and can't respond right now. We appreciate you reaching out.");case"become_supporter":return h._("{firstname}, thank you for becoming a supporter. None of this is possible without you!",[h._param("firstname","{{user_first_name}}")]);case"icebreaker":case"custom_questions":return h._("Default icebreaker question.");case"automated_checkout":return h._("It's awesome to hear that you're interested in purchasing this item from us! We will need a few details about you.");case"organic_intake_form":return"Default intro message";case"mbs_reengagement":return"Default intro message";case"appointment_reminder":return h._("We're looking forward to your appointment.");case"appointment_follow_up":return h._("Hi {firstname}, we'd love to have you back for another appointment.",[h._param("firstname","{{user_first_name}}")]);default:return""}}function q(a){switch(a){case"positive_recommendation":case"negative_recommendation":return{id:0,url:this.getDefaultImage(a),type:"image",class_name:"EntBusinessMessageWithItems"};default:return null}}function r(a,c){switch(a){case"smart_reply_hours":return[{content:h._("See Hours"),url:new(i||(i=b("URI")))("https://www.facebook.com/"+c+"/about").toString(),type:"button"}];case"smart_reply_contact":return b("PagesMarketingAutomationStore").getWebsite()?[{content:h._("Visit Website"),url:b("PagesMarketingAutomationStore").getWebsite(),type:"button"}]:[];case"smart_reply_location":return b("PagesMarketingAutomationStore").getAddress()?[{content:h._("Get Directions"),url:s(c),type:"button"}]:[];default:return[]}}function s(a){a=b("PagesMarketingAutomationStore").getAddress();return a!==null&&a!==void 0?b("PagesMarketingAutomationStore").getDirectionsURI():""}function t(a,b){switch(a){case"positive_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);case"negative_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);default:return""}}function u(a){switch(a){case"positive_recommendation":return h._("Sent after your Page is publicly recommended");case"negative_recommendation":return h._("Sent after your Page is publicly not recommended");default:return""}}function v(a){__p&&__p();switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"away_message":return h._("Away Message");case"instant_reply":return h._("Instant Reply");case"become_supporter":return h._("New Supporter Welcome Message");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Buyer Information");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return h._("Reminders");case"appointment_follow_up":return h._("Follow-up Messages");default:return""}}function w(a,b,c,d){__p&&__p();switch(a){case"POSITIVE_RECOMMENDATION":return"positive_recommendation";case"NEGATIVE_RECOMMENDATION":return"negative_recommendation";case"JOB_APPLICATION":return b===!1?null:"job_application";case"SMART_REPLY_POSITIVE_FEEDBACK":return c===!1?null:"smart_reply_positive_feedback";case"SMART_REPLY_NEGATIVE_FEEDBACK":return c===!1?null:"smart_reply_negative_feedback";case"SMART_REPLY_CONTACT":return d===!1?null:"smart_reply_contact";case"SMART_REPLY_LOCATION":return d===!1?null:"smart_reply_location";case"SMART_REPLY_HOURS":return d===!1?null:"smart_reply_hours";case"CUSTOM_QUESTIONS":return"custom_questions";default:return null}}function x(a){switch(a){case"IMAGE":return"image";case"VIDEO":return"video";default:return null}}function y(a){switch(a){case"BUTTON":return"button";case"POSTBACK":return"postback";default:return null}}function z(a){switch(a){case"positive_recommendation":return"/images/pages/inbox/goodratingautomation.png";case"negative_recommendation":return"/images/pages/inbox/badratingautomation.png";default:return null}}function A(){return b("PagesMarketingAutomationStore").getPhoneNumber()?h._("We can be reached at {phoneNumber}. You can also visit us online.",[h._param("phoneNumber",b("PagesMarketingAutomationStore").getPhoneNumber())]):""}function B(){return b("PagesMarketingAutomationStore").getAddress()?h._("We're located at {address}",[h._param("address",b("PagesMarketingAutomationStore").getAddress())]):""}function C(){__p&&__p();if(b("PagesMarketingAutomationStore").getIsAlwaysOpen())return h._("We're always open.");else if(b("PagesMarketingAutomationStore").getIsPermanentlyClosed())return h._("We're permanently closed.");else if(b("PagesMarketingAutomationStore").getHours().length>0)switch(b("PagesMarketingAutomationStore").getHours().length){case 7:return h._("We're open seven days a week.");default:var a=I(b("PagesMarketingAutomationStore").getHours());return h._("We're open {days}",[h._param("days",a)])}else return h._("We have no hours available on our Page.")}function D(){return{introMessage:h._("Thanks for your interest. We just need a few details to create your order.").toString(),questionMessages:[{answers:[h._("Cash on Delivery").toString(),h._("Bank Transfer").toString()],message:h._("How would you like to pay?").toString(),answerType:j.MULTIPLE_CHOICE,prefillType:"NONE",replyType:"QUICK_REPLIES"},{answers:[],message:h._("What's your shipping address?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's the recipient's full name?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's your phone number?").toString(),answerType:"PHONE",prefillType:"PHONE",replyType:"QUICK_REPLIES"}],thankYouMessage:h._("Thanks for answering our questions. We will process your order.").toString()}}function E(){return{reminderMessage:h._("Almost there! Please finish answering our questions.").toString(),summaryMessage:h._("Please review your answer summary below. Confirm that these details are correct to place your order.").toString(),disqualificationMessage:h._("Thanks for your interest, but it doesn't look like we're a good fit at this time.").toString(),stopQuestionsMessage:h._("You've paused our automated questions. Let us know how we can help.").toString()}}function F(){return{reengagementMessages:[{triggerTimeMin:0,messageText:h._("You only have a few questions left to answer. Finish now.").toString(),ctas:[],attachment:null,attachmentType:null}],reengagementRules:{mainRules:[""],andRules:[],notRules:[]}}}function G(a){__p&&__p();switch(a){case"positive_recommendation":return g("544926");case"negative_recommendation":return g("673528");case"job_application":case"smart_reply_contact":return g("551571");case"smart_reply_negative_feedback":return g("676769");case"smart_reply_positive_feedback":return g("676776");case"smart_reply_location":return g("540480");case"smart_reply_hours":return g("508066");case"become_supporter":return g("793861");default:return null}}function H(a){__p&&__p();switch(a){case"common_responses":return h._("Respond to Common Questions");case"job_application":return h._("Communicate About Jobs");case"feedback":return h._("Respond to Feedback");case"greet_customers":return h._("Greet Customers");case"supporter_only":return h._("Supporter Messaging");case"frequently_asked_questions":return h._("Share Info About Your Page");case"checkout_request":return h._("Respond to Checkout Request");case"reengagement":return h._("Follow Up with Customers");case"appointment_messaging":return h._("Communicate About Appointments");default:return""}}function I(a){if(a.length===0)return"";else if(a.length===1)return a.join();var b=a.length,c=a.slice(0,b-1);return h._("{days_of_week} and {last_day}.",[h._param("days_of_week",c.join(", ")),h._param("last_day",a[b-1])])}function J(a){switch(a){case"smart_reply_contact":return h._("Your Page doesn't have enough contact information listed to use a default message. Create your own message or add more contact information to turn this on.");case"smart_reply_location":return h._("Your Page doesn't have an address listed, so you can't use a default message for this automated response. Create your own message or add an address to turn this on.");case"smart_reply_hours":return h._("Your Page doesn't have business hours listed, so you can't use a default message for this automated response. Create your own message or add hours to turn this on.");default:return null}}function K(a){switch(a){case"APP_EVENT":return h._("App Event");case"IS":return h._("Is");case"IS_NOT":return h._("Is Not");default:return""}}function L(a,c){a=(a=a)!=null?a:!1;var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse,e=c==="away_message";c=c==="instant_reply";return d&&a&&(e||c)}function M(a,b){switch(a){case"away_message":return h._("Choose where {pageName} can be away and send away messages.",[h._param("pageName",b)]);case"instant_reply":return h._("Choose where {pageName} sends instant replies.",[h._param("pageName",b)]);default:return""}}function N(a,b){return a==null?!1:a.some(function(a){if(a===b)return!0})}function O(a){switch(a){case"icebreaker":case"custom_questions":return h._("Your Page's custom questions were created using an API. Editing has been disabled through inbox.");default:return null}}function P(a){switch(a){case"PLATFORMS":return h._("Save Changes Without Platform?");case"AWAY_TIME":return h._("Save Away Schedule Changes?");case"CUSTOM_QUESTIONS":return h._("Replace persistent menu?");default:return""}}function Q(a){switch(a){case"PLATFORMS":return h._("Your changes will be saved, but the message won't send because no platforms have been selected. To start sending this message, you must select at least one platform.");case"AWAY_TIME":return h._("Changes to your away schedule will cause your Page will be away after changes are saved. You can make your Page available at any time in Inbox.");case"CUSTOM_QUESTIONS":return h._("You've already used an API to create a persistent menu. Adding this question will replace the current options in your persistent menu.");default:return""}}e.exports={getContentForDetailViewTitle:a,getContentForDetailViewDescription:c,getContentForDetailViewGeneralDescription:d,getContentForEditHeader:f,getContentForReengagement:K,getDefaultCheckoutStepMessages:E,getDefaultContent:p,getDefaultContentForAutomatedCheckoutMessages:D,getDefaultAttachment:q,getDefaultImage:z,getDefaultCTAs:r,getDefaultIconForAutoResponse:G,getDefaultReengagementMessages:F,getSidebarDescription:u,getSidebarTitle:v,getTimingContent:n,getPlacementContent:M,getTimingNote:o,getAdminGhostText:t,convertStringToAttachmentType:x,convertStringToButtonType:y,getTriggerType:w,getTitleForCategory:H,getContentForNotice:J,getShouldShowIGDirectAutomatedResponse:L,getPlatformStatus:N,getContentForDisabledEditButtonNotice:O,getContentForModalTitle:P,getContentForModalDetail:Q}}),null);
__d("PagesMarketingAutomationContentView.react",["FluxContainer","PageAutomationTrigger","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationDetailView.react","PagesMarketingAutomationDispatcher","PagesMarketingAutomationEditView.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesTimeRangeEditorUtilities","React","RelayFBEnvironment","RelayModern","ServicesEventsLogger","WebFunnelLogger","promiseDone","PagesMarketingAutomationContentViewQuery.graphql","PagesMarketingAutomationContentViewAwayInfoQuery.graphql","PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIcebreakerQuery.graphql","PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql","PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k,l,m,n=(a=b("PagesMarketingAutomationContentUtils")).convertStringToAttachmentType,o=a.convertStringToButtonType,p=a.getDefaultCheckoutStepMessages,q=a.getDefaultContentForAutomatedCheckoutMessages,r=a.getDefaultReengagementMessages,s=b("RelayModern").fetchQuery;b("RelayModern").graphql;var t=4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.setupDefaultAutomation=function(a){__p&&__p();var c=b("PagesMarketingAutomationStore").getAutomationType();if(c!==null&&c!==void 0){var d=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(c);a=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(c,a);b("PagesMarketingAutomationActions").updateState(b("PagesMarketingAutomationContentUtils").getDefaultContent(c).toString(),q(),r(),d,a,d?"image":null,c);b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&c==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);if(c==="automated_checkout"){a=p();(d=b("PagesMarketingAutomationActions")).updateQuestionnaireReminderMessage(a.reminderMessage);d.updateQuestionnaireSummaryMessage(a.summaryMessage);d.updateQuestionnaireDisqualificationMessage(a.disqualificationMessage);d.updateQuestionnaireStopQuestionsMessage(a.stopQuestionsMessage)}}};c.fetchAndStoreAutomationData=function(){__p&&__p();var a=b("PagesMarketingAutomationStore").getAutomationID();if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),g!==void 0?g:g=b("PagesMarketingAutomationContentViewQuery.graphql"),{automationID:a}),function(a){__p&&__p();var c,d,e,f,g,h;h=(h=a)!=null?(h=h.node)!=null?h.text:h:h;g=(g=a)!=null?(g=g.node)!=null?g.platforms:g:g;f=(f=a)!=null?(f=f.node)!=null?(f=f.automated_message_attachment)!=null?f.url:f:f:f;e=(e=a)!=null?(e=e.node)!=null?(e=e.automated_message_attachment)!=null?e.id:e:e:e;var i=null;if(e){var j;i=(j=a)!=null?(j=j.node)!=null?(j=j.automated_message_attachment)!=null?j.type:j:j:j;i=i?n(i):null}j=(j=a)!=null?(j=j.node)!=null?j.ctas:j:j;var k=[];j&&j.forEach(function(a){k.push({content:a.content,url:a.url,type:"button"})});j=(j=a)!=null?(j=j.node)!=null?j.trigger_type:j:j;j=j?b("PageAutomationTrigger")[j]:null;if(!h||!j)return;d=(d=a)!=null?(d=d.node)!=null?d.automated_checkout_steps:d:d;var l=null;d&&d.intro_message!==""&&d.question_messages.length>0&&d.question_messages[0]!==""&&d.thank_you_message!==""?l={introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message}:l=q();c=(c=a)!=null?(c=c.node)!=null?c.reengagement_events_data:c:c;var m=null;c&&c.reengagement_messages.length>0&&c.reengagement_rules_values.logical_or_rules.length>0?m=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataOutput(c):m=r();a=(c=a)!=null?(c=c.node)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;a&&b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(a);b("PagesMarketingAutomationActions").updateState(h,l,m,e?{id:e,url:f,type:i,class_name:"EntBusinessMessageWithItems"}:null,k,i,j,g);if(d==null?void 0:d.reminder_message){b("PagesMarketingAutomationActions").updateQuestionnaireReminderMessage((c=d==null?void 0:d.reminder_message)!=null?c:"")}if(d==null?void 0:d.privacy_url){b("PagesMarketingAutomationActions").updateQuestionnairePrivacyPolicyURL((a=d==null?void 0:d.privacy_url)!=null?a:"")}if(d==null?void 0:d.stop_question_message){b("PagesMarketingAutomationActions").updateQuestionnaireStopQuestionsMessage((h=d==null?void 0:d.stop_question_message)!=null?h:"")}if(d==null?void 0:d.summary_message){b("PagesMarketingAutomationActions").updateQuestionnaireSummaryMessage((l=d==null?void 0:d.summary_message)!=null?l:"")}b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&j==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);j==="automated_checkout"&&b("PagesMarketingAutomationActions").storeState()})};c.fetchAndStoreAwayInfo=function(a){if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesMarketingAutomationContentViewAwayInfoQuery.graphql"),{pageID:a}),function(a){var c=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a.page.away_time_range);b("PagesMarketingAutomationActions").updateAwayTimeZone(a.page.away_time_zone);b("PagesMarketingAutomationActions").updateAwayTimeRange(c)})};c.fetchAndStoreIsCurrentMenuSetByAPI=function(a){b("promiseDone")(s(b("RelayFBEnvironment"),i!==void 0?i:i=b("PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql"),{pageID:a}),function(a){a=Boolean((a=a)!=null?(a=a.page_messenger_is_persistent_menu_set_by_api_query)!=null?a.is_menu_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentMenuSetByAPI(a)})};c.fetchAndStoreIsCurrentIcebreakersSetByAPI=function(){b("promiseDone")(s(b("RelayFBEnvironment"),j!==void 0?j:j=b("PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql"),{}),function(a){a=Boolean((a=a)!=null?(a=a.page_inbox_icebreakers_is_set_by_api_query)!=null?a.is_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentIcebreakersSetByAPI(a)})};c.fetchAndStoreIcebreakers=function(a){__p&&__p();var c=this;if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),k!==void 0?k:k=b("PagesMarketingAutomationContentViewIcebreakerQuery.graphql"),{pageID:a}),function(a){__p&&__p();var d;d=(d=a)!=null?d.page_inbox_icebreakers_query:d;if(d!=null){d=d.map(function(a){var b,c=a.response_media_attachment;c&&(c={id:Number(c.id),url:c.url,type:n(c.type),class_name:c.class_name});var d=a.response_ctas;d&&(d=d.map(function(a){return{content:a.content,url:a.url,type:o(a.type)}}));return{custom_question:(b=a.custom_question)!=null?b:"",saved_response:(b=a.saved_response)!=null?b:"",response_ctas:(b=d)!=null?b:[],response_media_attachment:(d=c)!=null?d:null,should_show_in_menu:(b=a.should_show_in_menu)!=null?b:!1}});b("PagesMarketingAutomationActions").updateIcebreakers(d);d=c.shuffleDemoIcebreakers(d);b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(d);b("PagesMarketingAutomationActions").updateShowQPCIcebreakersDisclaimer(!!(a==null?void 0:(d=a.page)==null?void 0:(a=d.services_vertical_info)==null?void 0:a.show_qpc_icebreakers_disclaimer))}})};c.fetchAndStoreIntakeFormInfo=function(a){__p&&__p();var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),l!==void 0?l:l=b("PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql"),{pageID:a,automationID:c}),function(a){var c,d;c=(c=a)!=null?(c=c.node)!=null?c.organic_intake_form_steps:c:c;d=a==null?void 0:(d=a.services_intake_form_predefined_questionnaire)==null?void 0:d.predefined_questions;c&&c.intro_message!==""&&c.question_messages.length>0&&c.question_messages[0]!==""&&c.thank_you_message!==""?b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:c.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(c.question_messages),thankYouMessage:c.thank_you_message}):d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message});d=(c=a)!=null?(c=c.node)!=null?(c=c.organic_intake_form_step_list)!=null?c.id:c:c:c;d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormStepListID(d);b("PagesMarketingAutomationActions").storeIntakeFormInfo((a==null?void 0:(c=a.page)==null?void 0:(d=c.services_vertical_info)==null?void 0:d.eligible_for_intake_form)||!1,a==null?void 0:(c=a.page)==null?void 0:(d=c.services_vertical_info)==null?void 0:d.qpc_consumer_flow,(a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.stop_question_message)||"",(a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.reminder_message)||"",(a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.privacy_url)||"")})};c.fetchAndStoreFollowUpMessageInfo=function(a){var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),m!==void 0?m:m=b("PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"),{pageID:a}),function(a){a=(a=(a=a.page)==null?void 0:a.services_follow_up_message_setting)!=null?a:{};b("PagesMarketingAutomationActions").storeFollowUpMessageInfo(a==null?void 0:a.message_content,a==null?void 0:a.schedule_in_seconds)})};c.shuffleDemoIcebreakers=function(a){var b=[];for(var c=0;c<a.length;c++)a[c].custom_question.trim()!==""&&b.push(c);c=Math.min(t,b.length);return b.slice(0,c)};c.fetchAndStoreAutomationSpecificInfo=function(a,b){a==="away_message"?c.fetchAndStoreAwayInfo(b):a==="icebreaker"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="custom_questions"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentMenuSetByAPI(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="organic_intake_form"?(this.logIntakeFormEvent("services_organic_intake_form_setup_impression",b),c.fetchAndStoreIntakeFormInfo(b)):a==="appointment_follow_up"&&c.fetchAndStoreFollowUpMessageInfo(b)};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a,d){b("PagesMarketingAutomationStore").getAutomationID()!=null&&((!a||a.automationID==null||a.automationID!==b("PagesMarketingAutomationStore").getAutomationID())&&(c.fetchAndStoreAutomationSpecificInfo(b("PagesMarketingAutomationStore").getAutomationType(),d.pageID),b("PagesMarketingAutomationStore").getIsDefaultAutomation()?c.setupDefaultAutomation(d.pageID):c.fetchAndStoreAutomationData()));a=b("PagesMarketingAutomationStore").getAutomationType();return{welcomeText:b("PagesMarketingAutomationStore").getWelcomeText(),automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),organicIntakeFormMessages:b("PagesMarketingAutomationStore").getOrganicIntakeFormMessages(),isWelcomeTextIntialized:b("PagesMarketingAutomationStore").getIsWelcomeTextIntialized(),automationID:b("PagesMarketingAutomationStore").getAutomationID(),attachmentType:b("PagesMarketingAutomationStore").getAttachmentType(),media:b("PagesMarketingAutomationStore").getMedia(),errors:b("PagesMarketingAutomationStore").getErrors(),automationType:a,isEditMode:b("PagesMarketingAutomationStore").getIsEditMode(),ctas:b("PagesMarketingAutomationStore").getCTAs(),isEnabled:a==="away_message"?b("PagesMarketingAutomationStore").getIsCurrentlyAway():b("PagesMarketingAutomationStore").getIsEnabled(),isSendDisabled:b("PagesMarketingAutomationStore").getIsSendDisabled(),hasComposerBeenEdited:b("PagesMarketingAutomationStore").getHasComposerBeenEdited(),icebreakers:b("PagesMarketingAutomationStore").getIcebreakers(),initialSelectedSavedReply:b("PagesMarketingAutomationStore").getInitialSelectedSavedReply(),demoIcebreakerIndices:b("PagesMarketingAutomationStore").getDemoIcebreakerIndices(),reengagementData:b("PagesMarketingAutomationStore").getReengagementData(),isEligibleForIntakeForm:b("PagesMarketingAutomationStore").getIsEligibleForIntakeForm(),questionnaireDisqualificationMessage:b("PagesMarketingAutomationStore").getState().questionnaireDisqualificationMessage,questionnaireStopQuestionsMessage:b("PagesMarketingAutomationStore").getState().questionnaireStopQuestionsMessage,questionnaireSummaryMessage:b("PagesMarketingAutomationStore").getState().questionnaireSummaryMessage,questionnaireReminderMessage:b("PagesMarketingAutomationStore").getState().questionnaireReminderMessage,questionnairePrivacyPolicyURL:b("PagesMarketingAutomationStore").getState().questionnairePrivacyPolicyURL,followUpMessageData:b("PagesMarketingAutomationStore").getState().followUpMessageData,enabledPlatforms:b("PagesMarketingAutomationStore").getEnabledPlatforms(),qpcConsumerFlow:b("PagesMarketingAutomationStore").getState().qpcConsumerFlow,selectedSavedReply:b("PagesMarketingAutomationStore").getselectedSavedReply(),shouldShowAdvancedOptions:b("PagesMarketingAutomationStore").getShouldShowAdvancedOptions(),showQPCIcebreakersDisclaimer:b("PagesMarketingAutomationStore").getState().showQPCIcebreakersDisclaimer}};c.logIntakeFormEvent=function(a,c){var d=b("PagesMarketingAutomationStore").getServicesReferrerData(),e=d.referrer;d=d.referrerSurface;b("ServicesEventsLogger").log(c,a,{referrerUIComponent:e,referrerUISurface:d})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(){var a=d.state.automationID;if(a==null)return;b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);b("PagesMarketingAutomationActions").updateIsWelcomeTextInitialized(!1);new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("edit_message_click").setActionTag(a).setSessionKey(d.props.pageID).log()};b("PagesMarketingAutomationDispatcher").explicitlyRegisterStores([b("PagesMarketingAutomationStore")]);return d}var d=c.prototype;d.$1=function(){var a=this.state.icebreakers;return this.state.demoIcebreakerIndices.map(function(b){return a[b]})};d.$3=function(){b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!1)};d.render=function(){var a=this.state.automationType;if(!a||this.state.automationID==null)return b("React").jsx("div",{});return this.state.isEditMode||a==="automated_checkout"?b("React").jsx(b("PagesMarketingAutomationEditView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationID:this.state.automationID,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,errors:this.state.errors,followUpMessageData:this.state.followUpMessageData,hasComposerBeenEdited:this.state.hasComposerBeenEdited,height:this.props.height,icebreakers:this.state.icebreakers,initialSelectedSavedReply:this.state.initialSelectedSavedReply,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isSendDisabled:this.state.isSendDisabled,isWelcomeTextIntialized:this.state.isWelcomeTextIntialized,media:this.state.media,onBack:this.$3,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,qpcConsumerFlow:this.state.qpcConsumerFlow,questionnaireDisqualificationMessage:this.state.questionnaireDisqualificationMessage,questionnairePrivacyPolicyURL:this.state.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.state.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.state.questionnaireStopQuestionsMessage,questionnaireSummaryMessage:this.state.questionnaireSummaryMessage,reengagementData:this.state.reengagementData,selectedSavedReply:this.state.selectedSavedReply,shouldShowAdvancedOptions:this.state.shouldShowAdvancedOptions,showQPCIcebreakersDisclaimer:this.state.showQPCIcebreakersDisclaimer,welcomeText:this.state.welcomeText}):b("React").jsx(b("PagesMarketingAutomationDetailView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,followUpMessageData:this.state.followUpMessageData,height:this.props.height,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isEnabled:this.state.isEnabled,media:this.state.media,menuItems:this.state.icebreakers&&this.state.icebreakers.filter(function(a){return a.custom_question.length>0&&Boolean(a.should_show_in_menu)})||[],onEdit:this.$2,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.state.reengagementData.reengagementMessages,showQPCIcebreakersDisclaimer:this.state.showQPCIcebreakersDisclaimer,welcomeText:this.state.welcomeText})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesMarketingAutomationContentViewInfoCard.react",["cx","FDSText.react","PagesAutomatedResponsesAwayScheduleDetail.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.showPageSchedule===!0?b("React").jsx(b("PagesAutomatedResponsesAwayScheduleDetail.react"),{isShown:!!a.showPageSchedule}):b("React").jsxs("div",{className:"_23gl",children:[b("React").jsx("div",{className:"_3-95",children:b("React").jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:a.title})}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_452x",children:b("React").jsx(b("FDSText.react"),{size:"body1",children:a.body})}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.note})]})]})}e.exports=a}),null);
__d("PagesMessengerCustomQuestionsPreview.react",["FDSButton.react","FlexLayout.react","MessengerMenuPreview.react","PagesManagerInboxFAQConstants","PagesMessengerPreview.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_MENU,h=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_QUESTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={previewType:"icebreaker"},c.$1=function(){c.setState({previewType:"icebreaker"})},c.$2=function(){c.setState({previewType:"menu"})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){switch(this.state.previewType){case"icebreaker":return b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:null,automationType:"icebreaker",ctas:[],icebreakers:this.props.icebreakers,media:null,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.text});case"menu":return b("React").jsx(b("MessengerMenuPreview.react"),{menuItems:this.props.menuItems,pageID:this.props.pageID,pageName:this.props.pageName})}};d.render=function(){var a;return(a=b("React")).jsxs(b("FlexLayout.react"),{align:"center",direction:"vertical",children:[this.$3(),a.jsxs(b("FlexLayout.react"),{children:[a.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="icebreaker",label:h,onClick:this.$1,roundedCorners:["topLeft","bottomLeft"]}),a.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="menu",label:g,onClick:this.$2,roundedCorners:["topRight","bottomRight"]})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationDetailView.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentViewInfoCard.react","PagesMarketingAutomationEnableDisplay.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesMessengerCustomQuestionsPreview.react","PagesMessengerPreview.react","PagesMessengerReengagementPreview.react","React","SUIBusinessTheme","SUINotice.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=(a=b("PagesMarketingAutomationContentUtils")).getAdminGhostText,k=a.getContentForDetailViewDescription,l=a.getContentForDetailViewGeneralDescription,m=a.getContentForDetailViewTitle,n=a.getContentForDisabledEditButtonNotice,o=a.getContentForNotice,p=a.getTimingContent,q=a.getTimingNote,r=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply,s=b("PagesMarketingAutomationUtils").shouldShowEditButton,t=b("PagesMarketingAutomationUtils").shouldShowNotice;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return a==="appointment_reminder"};d.$2=function(a){if(this.$1(a))return null;var c=a==="away_message"||"icebreaker"?i._("Edit"):i._("Edit Message");a=s(a);if(a)return b("React").jsx("div",{className:"_6a0n",children:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490984")}),label:c,onClick:this.props.onEdit,size:"large",use:"primary"})});else return b("React").jsx("div",{className:"_2pio",style:{visibility:"visible"},children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:b("React").jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:n(this.props.automationType)})})})};d.$3=function(){return b("React").jsxs("div",{className:"_6a0o",children:[b("React").jsx("div",{className:"_2pio",style:{visibility:t(this.props.automationType,b("PagesMarketingAutomationStore").getIsDefaultAutomation())?"visible":"hidden"},children:b("React").jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:b("React").jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:o(this.props.automationType)})})}),b("React").jsx("div",{className:"_2pin",children:b("React").jsx(b("FDSText.react"),{size:"header2",children:m(this.props.automationType)})}),b("React").jsx(b("PagesMarketingAutomationEnableDisplay.react"),{automationType:this.props.automationType,enabledPlatforms:this.props.enabledPlatforms,isEnabled:this.props.isEnabled}),b("React").jsx("div",{className:"_2pip",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:k(this.props.automationType,this.props.pageName)})}),b("React").jsx("div",{className:"_452x",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:l(this.props.automationType,this.props.pageName)})}),b("React").jsxs("div",{className:"_2phb",children:[b("React").jsx(b("PagesMarketingAutomationContentViewInfoCard.react"),{body:p(this.props.automationType,this.props.pageName),note:q(this.props.automationType,this.props.pageName),showPageSchedule:this.props.automationType==="away_message",title:i._("Timing")},"title"),this.$2(this.props.automationType)]})]})};d.render=function(){var a,c=this.props.welcomeText;switch(this.props.automationType){case"automated_checkout":c=this.props.automatedCheckoutMessages.introMessage;break;case"appointment_follow_up":c=(a=(a=this.props.followUpMessageData)==null?void 0:a.messageContent)!=null?a:c;break}return b("React").jsxs("div",{className:"_6a0p",style:{height:this.props.height},children:[b("React").jsx("div",{className:"_2f4x",children:this.$3()}),b("React").jsx("div",{className:"_2f4z",children:this.props.automationType==="mbs_reengagement"?b("React").jsx(b("PagesMessengerReengagementPreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.props.reengagementMessages}):this.props.automationType==="custom_questions"?b("React").jsx(b("PagesMessengerCustomQuestionsPreview.react"),{icebreakers:(a=this.props.demoIcebreakers)!=null?a:[],menuItems:(a=this.props.menuItems)!=null?a:[],pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.welcomeText}):b("React").jsx(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,automationType:this.props.automationType,ctas:this.props.ctas,ghostText:j(this.props.automationType,this.props.pageName),ghostTextLocation:r(this.props.automationType)?"bottom":"top",icebreakers:this.props.demoIcebreakers,media:this.props.media,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,questionnaireMessages:this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm?this.props.organicIntakeFormMessages:null,showQPCIcebreakersDisclaimer:this.props.showQPCIcebreakersDisclaimer,text:c})})]})};return c}(b("React").PureComponent);e.exports=c}),null);
__d("ServicesFollowUpMessageSettingsUtils",["ServicesDurationUnit"],(function(a,b,c,d,e,f){"use strict";c=[(a=b("ServicesDurationUnit")).HOURS,a.DAYS,a.WEEKS,a.MONTHS];e.exports={FOLLOW_UP_MESSAGE_DURATION_UNITS:c}}),null);
__d("PageUpdateCustomIcebreakersMutation",["RelayFBEnvironment","RelayModern","PageUpdateCustomIcebreakersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageUpdateCustomIcebreakersMutation.graphql");function a(a,c){var d=a.data.icebreaker_question_answer_pairs.map(function(a){return{custom_question:a.custom_question,saved_response:a.saved_response}});d={page_update_question_answer_pairs:{icebreaker_question_answer_pairs:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesAutomatedQuestionnaireMessageItem.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationMessageComposer.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isEditing:!0},c.$1=function(){c.setState({isEditing:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs(b("React").Fragment,{children:[this.props.title!=null&&this.props.description!=null&&b("React").jsxs("div",{className:"_3-8- _6_oc",children:[b("React").jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:this.props.title}),b("React").jsx("br",{}),b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:this.props.description})]}),this.state.isEditing?b("React").jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:this.props.automationID,ctas:null,errors:this.props.errors,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:!0,media:null,onMessageChange:this.props.onIntroMessageChange,pageID:this.props.pageID,showPersonalization:!1,showTimeSection:!1,specialType:this.props.specialType,welcomeText:this.props.content}):b("React").jsxs("div",{className:"_3-8x _2pi4 _2pi9 _8ej0 _6_oc",children:[b("React").jsxs("div",{className:"_2pit _8eix",children:['"',this.props.content,'"']}),b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("490346")}),label:i._("Edit"),onClick:this.$1,size:"medium"})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationCheckoutQuestionComposer.react",["cx","AdsMessengerPartialAutomatedCreationTypes","MessengerDestinationPartialAutomatedCreationNUXSectionQuestions.react","PagesMarketingAutomationActions","React","emptySet"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={focusedIndex:0},d.$1=function(a){d.setState({focusedIndex:a})},d.$2=function(a){a=a.map(function(a){var b=a.answers?a.answers.map(function(a){return a.value}):[];return{answers:b,answerType:(b=a.answerType)!=null?b:i.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"}});b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:a,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){return a.map(function(a){return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:a.answers.map(function(a){return{fieldID:"",value:a,nextStep:h.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}})};d.render=function(){return b("React").jsx("div",{className:"_6_oc",children:b("React").jsx(b("MessengerDestinationPartialAutomatedCreationNUXSectionQuestions.react"),{account:null,focusedIndex:this.state.focusedIndex,isEmojiTest:!1,isSkipToEnabled:!1,onAddQuestion:this.props.onAddQuestion,onQuestionItemChange:this.props.onQuestionMessageChange,onRemoveQuestion:this.props.onRemoveQuestion,onSetQuestions:this.$2,pageID:this.props.pageID,questionItems:this.$3(this.props.automatedCheckoutMessages.questionMessages),sectionValidationErrors:b("emptySet"),setFocusedIndex:this.$1,showError:this.props.showError,showRichFormat:!1})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ServicesFollowUpMessageSettingMutation",["RelayFBEnvironment","RelayModern","ServicesFollowUpMessageSettingMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("ServicesFollowUpMessageSettingMutation.graphql");function a(a){var c=a.input;a=a.onCompleted;h(b("RelayFBEnvironment"),{mutation:i,onCompleted:a,variables:{input:c}})}e.exports={commitMutationFollowUpMessage:a}}),null);
__d("ServicesQPCFlow",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ICEBREAKERS:"icebreakers",OPT_OUT:"opt_out",NONE:"none"})}),null);
__d("PageAutomationTriggerCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREET_CUSTOMERS:"greet_customers",FREQUENTLY_ASKED_QUESTIONS:"frequently_asked_questions",COMMON_RESPONSES:"common_responses",CHECKOUT_REQUEST:"checkout_request",FEEDBACK:"feedback",JOB_APPLICATION:"job_application",REENGAGEMENT:"reengagement",SUPPORTER_ONLY:"supporter_only",APPOINTMENT_MESSAGING:"appointment_messaging"})}),null);
__d("XPagesDirectionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/get_address/",{page_id:{type:"Int",required:!0}})}),null);
__d("XPagesMessengerPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messenger_preview/",{json:{type:"String",required:!0},page_id:{type:"Int",required:!0},automated_checkout_data:{type:"String"}})}),null);
__d("PagesManagerInboxAutomationToastContainer.react",["cx","fbt","FDSGuidanceToast.react","FDSGuidanceToastButton.react","FDSGuidanceToastCloseButton.react","FluxContainer","MercuryIDs","MessengerState.bs","PageCommItemFolder","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesMarketingAutomationActions","PagesMarketingAutomationStore","React","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.state.recentAutomationThreadFBID){var a=b("MercuryIDs").getThreadIDFromUserID(d.state.recentAutomationThreadFBID),c=b("MessengerState.bs").getThreadMetaNow(d.props.pageID,a);b("PagesManagerInboxLogger").itemStatusChanged(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO);b("PagesManagerInboxLogger").itemStatusChangedInHeader(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO,d.props.commItemFolder);var e=b("PagesManagerInboxStore").getConfig().platformConfigs[d.props.activeType];b("PagesManagerMessagesInterface").changeThreadFolderToInbox(d.props.pageID,a,b("nullthrows")(d.state.recentAutomationThreadFBID),b("nullthrows")(c.comm_status),e.isBackgroundFolderEnabled);b("PagesManagerMessagingThreadlistAction").updateThreadlist(d.props.pageID)}d.$1()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a){return{recentAutomationThreadFBID:b("PagesMarketingAutomationStore").getRecentAutomationThreadFBID(),shouldShowToast:b("PagesMarketingAutomationStore").getShouldShowAutomationToast()}};var d=c.prototype;d.$1=function(){b("PagesMarketingAutomationActions").updateShouldShowAutomationToast(!1)};d.render=function(){return this.state.shouldShowToast&&this.props.selectedCustomerID===this.state.recentAutomationThreadFBID?b("React").jsx("div",{className:"_8qfj",children:b("React").jsx(b("FDSGuidanceToast.react"),{callToActionButton:b("React").jsx(b("FDSGuidanceToastButton.react"),{label:"Undo",onClick:this.$2}),closeButton:b("React").jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:this.$1}),content:h._("Conversation moved to Done folder"),type:"success"})}):null};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxMercuryUtil",["PagesManagerInboxFilterStore"],(function(a,b,c,d,e,f){"use strict";a={shouldUseMercury:function(){return b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"||b("PagesManagerInboxFilterStore").getActiveType()==="WEC"||b("PagesManagerInboxFilterStore").getActiveType()==="INSTAGRAM_DIRECT"},shouldUseMercuryForFollowUp:function(){return b("PagesManagerInboxFilterStore").getActiveType()!=="MESSENGER"?!1:!0}};e.exports=a}),null);
__d("PagesManagerInboxBanToastContainer.react",["ix","cx","fbt","CenteredContainer.react","FluxContainer","Image.react","Layout.react","PagesManagerInboxListAction","PagesManagerInboxListStore","React","ReactTransitionGroup","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=500,m=1e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxListStore")]};c.calculateState=function(){return{isBanned:b("PagesManagerInboxListStore").getIsUserBanned(),userName:b("PagesManagerInboxListStore").getUserName()}};var d=c.prototype;d.render=function(){var a=this.state.userName?b("React").jsx(n,{isBanned:this.state.isBanned,userName:this.state.userName},this.state.userName):null;return b("React").jsx(b("ReactTransitionGroup"),{children:a})};return c}(b("React").PureComponent);var n=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={shouldHide:!1},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidMount=function(){var a=this;setTimeout(function(){a.state.shouldHide||b("PagesManagerInboxListAction").removeBanNotice()},m)};d.componentWillLeave=function(a){this.setState({shouldHide:!0},function(){setTimeout(a,l)})};d.$1=function(){if(this.props.isBanned)return i._("{name} has been banned from this Page.",[i._param("name",this.props.userName)]);else return i._("Ban has been removed")};d.render=function(){return b("React").jsx("div",{className:"_9e3"+(this.state.shouldHide?" _9e5":""),children:b("React").jsx(b("XUICard.react"),{className:"_6zj7",children:b("React").jsxs(b("Layout.react"),{className:"_9ee",children:[b("React").jsx(j,{className:"_9ef",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("Image.react"),{src:g("691343")})})}),b("React").jsx(k,{className:"_9ef _9eh",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$1()})})]})})})};return a}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBulkActionsNotice.react",["cssVar","cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","ReactCSSTransitionGroup","XUICard.react","joinClasses","productsAssertExhausted","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useEffect,j=b("React").useState,k=1e4,l=3e3;function a(a){var c=a.actionType,d=a.message,e=a.onNoticeHide;a=j(!0);var f=a[0],g=a[1];a=c?m(c):"";i(function(){var a=c!==null&&Boolean(d);a&&(g(!1),b("setTimeout")(function(){g(!0),e()},k))},[c,d,e]);return b("React").jsx(b("ReactCSSTransitionGroup"),{transitionEnterTimeout:l,transitionLeaveTimeout:l,transitionName:{enter:"_8iog",enterActive:"_8iou",leave:"_8iot",leaveActive:"_8iov"},children:!f&&b("React").jsx("div",{className:"_8j2a",children:b("React").jsx(b("XUICard.react"),{className:"_8j2b",style:{backgroundColor:"#90949c"},children:b("React").jsxs(b("Layout.react"),{className:"_8j2f",children:[b("React").jsx(b("LayoutColumn.react"),{className:"_8j2g",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx("div",{className:b("joinClasses")("_8ip0",a)})})}),b("React").jsx(b("LayoutFillColumn.react"),{className:"_8j2g _8j2h",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:d})})]})})})})}function m(a){__p&&__p();switch(a){case"DONE":return"_8j2i";case"FOLLOW_UP":return"_8j2j";case"INBOX":return"_8j2k";case"MARK_UNREAD":return"_8j5m";case"SPAM":return"_8j2l";case"DELETE":return"_8j2m";case"ASSIGN_ADMIN":return"_8jdm";case"REPLY":return"_8iof";case"LABEL":return"_8ip1";default:b("productsAssertExhausted")(a)}return""}e.exports=a}),null);
__d("PagesManagerInboxBulkActionsNoticeContainer.react",["FluxContainer","PagesManagerAction","PagesManagerInboxBulkActionsNotice.react","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(){return{lastBulkActionResult:b("PagesManagerStore").getLastBulkActionResult()}};var d=c.prototype;d.render=function(){var a;a=(a=this.state.lastBulkActionResult)!=null?a:{};var c=a.actionType;a=a.message;return b("React").jsx(b("PagesManagerInboxBulkActionsNotice.react"),{actionType:c,message:a,onNoticeHide:b("PagesManagerAction").removeLastBulkActionResult})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageCommItemStatusEditMutation",["PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemStatusEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemStatusEditMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.actor_id);if(!d)return;a.ids.forEach(function(e){__p&&__p();var f=c.get(e);if(!f)return;f.setValue(a.status,"comm_status");var g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.oldValue,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});g&&h.deleteNode(g,e);g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.status,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){e=h.createEdge(c,g,f,"PageCommItemsEdge");h.insertEdgeAfter(g,e)}})},e=function(){a.isViewing&&b("PagesManagerAction").clearViewListItem(),c&&c.onSuccess()};a.isUndo||b("PagesManagerInboxListAction").itemFolderChange(a.ids,a.status,a.oldValue);return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:a.isUndo?void 0:d,updater:d,variables:{input:{actor_id:a.actor_id,ids:a.ids,reminder_time:a.reminderTime,status:a.status}},onCompleted:e,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxFolderChangeNotice.react",["ix","cx","fbt","invariant","CenteredContainer.react","Image.react","Layout.react","Link.react","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxMercuryUtil","React","ReactTransitionGroup","XUICard.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=500,n=1e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.mutatedItem;a=a?b("React").jsx(o,{mutatedItem:a,onUndoClick:this.props.onUndoClick,removeMutation:this.props.removeMutation},"mutatedItem"+a.id+a.newFolder):null;return b("React").jsx(b("ReactTransitionGroup"),{children:a})};return c}(b("React").PureComponent);var o=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a;a=c.call(this)||this;a.$1=function(){a.props.onUndoClick&&a.props.onUndoClick(a.props.mutatedItem)};a.state={shouldHide:!1};return a}var d=a.prototype;d.componentDidMount=function(){var a=this;window.setTimeout(function(){a.state.shouldHide||a.props.removeMutation(a.props.mutatedItem)},n)};d.render=function(){var a=this.props.mutatedItem.newFolder,c=null;this.props.onUndoClick&&(c=b("React").jsx(k,{className:"_9ef",children:b("React").jsx(b("Link.react"),{className:"_9ei",onClick:this.$1,children:b("React").jsx(b("CenteredContainer.react"),{className:"_9ej",fullHeight:!0,horizontal:!1,vertical:!0,children:i._("Undo")})})}));return b("React").jsx("div",{className:"_9e3"+(this.state.shouldHide?" _9e5":""),children:b("React").jsx(b("XUICard.react"),{className:"_9e6",style:{backgroundColor:b("PageCommItemStatusUtil").getColor(a)},children:b("React").jsxs(b("Layout.react"),{className:"_9ee",children:[b("React").jsx(k,{className:"_9ef",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$2()})}),b("React").jsx(l,{className:"_9ef _9eh",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$3()})}),c]})})})};d.componentWillLeave=function(a){this.setState({shouldHide:!0},function(){window.setTimeout(a,m)})};d.$2=function(){__p&&__p();var a;switch(this.props.mutatedItem.newFolder){case b("PageCommItemStatus").TODO:a=g("115680");break;case b("PageCommItemStatus").FOLLOW_UP:a=g("26062");break;case b("PageCommItemStatus").DONE:a=g("114571");break;case b("PageCommItemStatus").SPAM:a=g("115608");break}return!a?null:b("React").jsx(b("Image.react"),{src:a})};d.$3=function(){switch(this.props.mutatedItem.newFolder){case b("PageCommItemStatus").DONE:return i._("Moved to Done folder");case b("PageCommItemStatus").FOLLOW_UP:return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?i._("Marked as Follow Up"):i._("Item moved to Follow Up");case b("PageCommItemStatus").TODO:return this.props.mutatedItem.oldFolder===b("PageCommItemStatus").FOLLOW_UP?i._("Removed from Follow Up"):i._("Moved to Main folder");case b("PageCommItemStatus").SPAM:return i._("Moved to Spam folder");default:j(0,4240,this.props.mutatedItem.newFolder)}};return a}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFolderChangeNoticeContainer.react",["FluxContainer","PageCommItemStatusEditMutation","PagesManagerInboxFolderChangeNotice.react","PagesManagerInboxListAction","PagesManagerInboxListStore","PagesManagerInboxMercuryUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PageCommItemStatusEditMutation").commit({actor_id:d.props.pageID,ids:[a.id],isUndo:!0,isViewing:a.id===d.state.viewingItem,oldValue:a.newFolder,status:a.oldFolder}),d.$2(a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerStore")]};c.calculateState=function(){return{mutatedItem:b("PagesManagerInboxListStore").getLastMutatedItem(),viewingItem:b("PagesManagerStore").getViewingListItem()}};var d=c.prototype;d.render=function(){var a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?null:this.$1;return b("React").jsx(b("PagesManagerInboxFolderChangeNotice.react"),{mutatedItem:this.state.mutatedItem,onUndoClick:a,removeMutation:this.$2})};d.$2=function(a){b("PagesManagerInboxListAction").removeMutatedItem([a.id])};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BulkActionsContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({showBulkSelection:!1,selectedThreads:[]});e.exports=a}),null);
__d("MediaManagerInboxFBCommsActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};c=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};d=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,pageID:a,messagesObject:c})};f=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,pageID:a,error:c})};var h=function(a,c,d){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN,pageID:a,message:c,clickedTime:d})},i=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT,pageID:a})},j=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_FINISHED,pageID:a,badgeCount:c})},k=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_ERROR,pageID:a,error:c})},l=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_DECREMENT_BADGE_COUNT,pageID:a})};e.exports={loadFBCommsMessages:a,loadMoreFBCommsMessages:c,loadFBCommsMessagesFinished:d,loadFBCommsMessagesError:f,setFBCommsMessageSeen:h,loadFBCommsBadgeCount:i,loadFBCommsBadgeCountFinished:j,loadFBCommsBadgeCountError:k,decrementFBCommsBadgeCount:l}}),null);
__d("MediaManagerFBCommsStore",["FluxLoadObjectStore","MediaManagerActionTypes","MediaManagerInboxFBCommsActions","PagesManagerDispatcher","RelayFBEnvironment","RelayModern","immutable","promiseDone","MediaManagerFBCommsStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MediaManagerActionTypes").MediaManagerActionTypes,i=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesError,j=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesFinished,k=b("RelayModern").fetchQuery;b("RelayModern").graphql;var l=g!==void 0?g:g=b("MediaManagerFBCommsStoreQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,h.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN]};d.reduce=function(a,b){__p&&__p();var c;switch(b.type){case h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES:c=(c=a.get(b.pageID))==null?void 0:c.getValue();(c==null||c.hasNextPage)&&this.__load(b.pageID);return a;case h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED:return this.__handleOne(a,b.pageID,b.messagesObject);case h.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR:return this.__handleOne(a,b.pageID,b.error);case h.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN:c=a.get(b.pageID);if(c.hasValue()){c=c.getValue();if(c!=null){var d=c.messages;d=d.find(function(a){return a.node.id===b.message.node.id});d.node.clickedTime=b.clickedTime;return this.__handleOne(a,b.pageID,c)}}return a;default:return a}};d.__load=function(a){__p&&__p();var c=this.get(a).getValue(),d=c!=null?c.endCursor:null;b("promiseDone")(k(b("RelayFBEnvironment"),l,{page_id:String(a),after:d}),function(d){__p&&__p();var e;e=(e=d.viewer)==null?void 0:(e=e.inbox_fb_comms_rows)==null?void 0:e.nodes;var f={endCursor:null,hasNextPage:!1,messages:b("immutable").List()};if(e!=null){var g;g=(g=d.viewer)==null?void 0:(g=g.inbox_fb_comms_rows)==null?void 0:(g=g.page_info)==null?void 0:g.end_cursor;d=(d=(d=d.viewer)==null?void 0:(d=d.inbox_fb_comms_rows)==null?void 0:(d=d.page_info)==null?void 0:d.has_next_page)!=null?d:!1;e=e.reduce(function(b,c){c=c.content;var d=c==null?void 0:c.id,a=c==null?void 0:c.page_id,e=c==null?void 0:c.tip_name,f=c==null?void 0:c.title,g=c==null?void 0:c.body,h=c==null?void 0:c.button_label,i=c==null?void 0:c.button_uri,j=c==null?void 0:c.validation_timestamp;c=c==null?void 0:c.clicked_timestamp;if(d==null||e==null||f==null||g==null||h==null||i==null||j==null)return b;b.push({node:{id:d,pageID:a,tipName:e,title:f,body:g,cta:{label:h,action:i},validationTime:j,clickedTime:c,productType:"MONETIZATION"}});return b},[]);f={endCursor:g,hasNextPage:d,messages:c!=null?c.messages.concat(e):b("immutable").List(e)}}j(a,f)},function(b){i(a,b)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("MediaManagerInboxPriorityTabStore",["FluxReduceStore","ImmutableRecordWithV4Types","MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=b("MediaManagerActionTypes").MediaManagerActionTypes,h=a({onViewingItemPriorityType:"NONE"});c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return h()};c.reduce=function(a,b){switch(b.type){case g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM:return a.set("onViewingItemPriorityType",b.priorityType);default:return a}};c.getOnViewingPriorityRowType=function(){return this.getState().get("onViewingItemPriorityType")};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerDispatcher"))}),null);
__d("MediaManagerInboxCustomTabUtils",["MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerUtils").isMediaManagerApp;a=function(a){return(a==="MEDIA_MANAGER_PRIORITY"||a==="MEDIA_MANAGER_FB_COMMS")&&g()};c=function(a){var b=a.row_type;switch(b){case"TOP_MESSAGES":return a.top_message_content.top_message_thread_id;case"TOP_COMMENTS":return a.top_comment_content.id;default:return""}};d=function(a){var b=a==null?void 0:a.row_type;switch(b){case"TOP_MESSAGES":return a==null?void 0:(b=a.top_message_content)==null?void 0:b.top_message_thread_id;case"TOP_COMMENTS":return a==null?void 0:(b=a.top_comment_content)==null?void 0:(b=b.parent_item)==null?void 0:b.id;case"TOP_FB_COMMS":return a==null?void 0:(b=a.content)==null?void 0:b.id;default:return null}};f=function(a){a=a==null?void 0:a.row_type;return a};var h=function(){return b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType()==="TOP_MESSAGES"},i=function(a){switch(a){case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return"ALL";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:return"TOP_COMMENTS";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:return"TOP_MESSAGES";default:return"ALL"}};e.exports={shouldRenderMessengerPreviewHeader:h,shouldShowMediaManagerCustomTab:a,getPriorityTabGraphQLFilter:i,getPriorityRowKey:c,getPriorityTabItemID:d,getPriorityTabItemRowType:f}}),null);
__d("MediaManagerInboxListRowIconConfig",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";b=(a={},a.TOP_FAN={name:"TOP_FAN",iconAsset:g("1148120")},a.VERIFIED_ACCOUNT={name:"VERIFIED_ACCOUNT",iconAsset:g("510733")},a);e.exports=b}),null);
__d("CreatorStudioInboxMessengerRankedUsersDataTypes",["ImmutableRecordWithV4Types","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({rankedUsers:[]}),h=function(a){a=a.rankedUsers;return g({rankedUsers:a})};c=function(a){a=a==null?void 0:(a=a.messenger_ranked_users)==null?void 0:a.edges;if(a==null)return h({rankedUsers:b("immutable").List()});a=b("filterNulls")(a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}));return h({rankedUsers:b("immutable").List(a)})};e.exports={createCreatorStudioInboxMessengerRankedUsersData:h,createCreatorStudioInboxMessengerRankedUsersDataFromRawData:c}}),null);
__d("CreatorStudioInboxMessengerRankedUsersStore",["CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersActionTypes","CreatorStudioInboxMessengerRankedUsersDataTypes","FluxLoadObjectStore","MercuryIDs","MessengerState.re","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","immutable","promiseDone","setImmediate","CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersData,i=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersDataFromRawData,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.getRankedUserMercuryThreadPayloadList=function(a){var c=this.getRankedUserIDs(a),d=[];c.forEach(function(c){c=b("MercuryIDs").getThreadIDFromUserID(c);c=b("MessengerState.re").getThreadMetaNow(a,c);c&&d.push(c)});return d};d.getRankedUserMercuryThreadPayloadListForAdmin=function(a,c){a=this.getRankedUserMercuryThreadPayloadList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c!=null&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getRankedUserIDs=function(a){a=this.get(a);a=a.getValue();var b=[];a&&(b=a.rankedUsers.toArray());return b};d.isLoading=function(){return this.__isLoading};d.__getActionTypes=function(){var a;return[this.getActionTypeStartLoad(),(a=b("CreatorStudioInboxMessengerRankedUsersActionTypes")).FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR]};d.reduce=function(a,c){__p&&__p();var d=this;switch(c.type){case b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.data);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;b("setImmediate")(function(){d.__load(c.pageID)});return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:var e=this.get(c.pageID);e=e.getValue();var f=[];if(e){e=e.rankedUsers.toArray();f=e.filter(function(a){return a!==c.userID})}e=h({rankedUsers:b("immutable").List(f)});return this.__handleOne(a,c.pageID,e);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.error);case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:f=c.activeFolderFilter===b("PageCommItemFolder").PRIORITY&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER";e=c.activeTypeFilter==="MESSENGER"&&b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").PRIORITY;(f||e)&&b("setImmediate")(function(){d.__load(c.pageID)});return a;default:return a}};d.__load=function(a){__p&&__p();b("CreatorStudioInboxMessengerRankedUsersAction").fetchCreatorStudioInboxMessengerRankedUsersData();if(a==null){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,new Error("Null ID"));return}b("promiseDone")(l(a),function(c){try{c=i(c);b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersData(a,c)}catch(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)}},function(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;function l(a){a={pageID:a};return j(b("RelayFBEnvironment"),k,a)}e.exports=new a()}),null);
__d("PageCommItemReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemReadEditMutation.graphql");function a(a,c){var d=a.ids.map(function(a){return{id:a,is_read:!0}});d={page_comm_item_mark_as_read:{page_comm_items:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemUnreadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemUnreadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemUnreadEditMutation.graphql");function a(a,c){var d=function(){var b=a.ids.map(function(a){return{id:a,is_read:!1}});return{page_comm_item_mark_as_unread:{page_comm_items:b}}}();return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxListRowAction.react",["cx","Link.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxMercuryUtil","React","Tooltip"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=2e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){this.props.onStatusChange.call(this.props.onStatusChange,a)};d.render=function(){var a=this;return b("React").jsxs("div",{className:this.props.className,onClick:function(a){return a.stopPropagation()},role:"grid",tabIndex:-1,children:[this.props.actionParam.showDone?b("React").jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").DONE)},children:b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").DONE),"right"),{className:"_4ocz _2x0y","data-tooltip-delay":h,children:b("React").jsx("div",{className:"_18am"})}))}):null,this.props.actionParam.showInbox?b("React").jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").TODO)},children:b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").TODO),"right"),{className:"_4ocz","data-tooltip-delay":h,children:b("React").jsx("div",{className:"_2x0z"})}))}):null,this.$2()]})};d.$2=function(){var a=this,c=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),d=c?b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP):b("PageCommItemStatusUtil").getLabel(b("PageCommItemStatus").FOLLOW_UP);if(!this.props.actionParam.showFollowUp)return null;d=b("React").jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").FOLLOW_UP)},children:b("React").jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(d,"right"),{className:"_4ocz"+(c?" _63kh":""),"data-tooltip-delay":h,children:b("React").jsx("div",{className:"_63ki"})}))});return d};return c}(b("React").Component);e.exports=a}),null);
__d("PageCommItemTypeUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isUserCreated:function(a){switch(a){case"FB_MESSAGE":case"FB_REVIEW":case"FB_USER_POST":case"FB_GROUP_POST":case"FB_RECOMMENDATION":case"IG_MESSAGE":return!0}return!1},toPageCommPlatform:function(a){switch(a){case"FB_MESSAGE":return"MESSENGER";case"INSTAGRAM_POST":return"INSTAGRAM";case"WEC_MESSAGE":return"WEC";default:return"FACEBOOK"}}};e.exports=a}),null);
__d("PagesManagerInboxMessageActionContainer.react",["FluxContainer","IGMessageDataMutateAction","IGMessageServerActions","MediaManagerInboxContext.react","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PageCommItemTypeUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","emptyFunction","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){__p&&__p();b("PagesManagerInboxLogger").itemStatusChanged(d.props.item.id,d.props.item.comm_type,a);b("PagesManagerInboxLogger").itemStatusChangedInThread(d.props.item.id,d.props.item.comm_type,a,d.state.commItemFolder);c=d.props.item.thread_id;var e=d.props.item.thread_fbid,f=null;d.props.commPlatform==="WEC"&&(f=b("PagesManagerInboxStore").getMailboxID(d.props.commPlatform));d.props.item.thread_id===void 0&&(c=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id)),e=d.props.item.target_id);var g=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];switch(a){case b("PageCommItemStatus").DONE:g.isBackgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(d.props.pageID,c,d.props.item.comm_status):b("PagesManagerMessagesInterface").changeThreadFolderToDone(d.props.pageID,c,d.props.item.comm_status);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:b("PagesManagerMessagesInterface").changeThreadFolderToInbox(d.props.pageID,c,e,d.props.item.comm_status,g.isBackgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:b("PagesManagerMessagesInterface").markThreadAsFollowUp(d.props.pageID,c,e,!0,d.props.item.comm_status);break;case b("PageCommItemStatus").SPAM:b("PagesManagerMessagesInterface").markThreadAsSpam(d.props.pageID,[c],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,d.props.item.comm_status,d.props.item.folder,d.props.item.is_archived);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:b("PagesManagerMessagesInterface").markThreadAsDeleted(d.props.pageID,c,f);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}b("PagesManagerMessagingThreadlistAction").updateThreadlist(d.props.pageID);d.context&&d.context.logMarkStatusActions!==b("emptyFunction")&&d.context.logMarkStatusActions(c,d.props.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$2=function(a){var c=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id));b("PagesManagerMessagesInterface").changeThreadReadStatus(d.props.pageID,c,!d.props.item.is_read);d.props.item.is_read&&b("PagesManagerInboxLogger").logMarkAsUnread(d.props.item.comm_type,d.props.pageID);d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&(a===b("PageCommItemActionType").MARK_READ||a===b("PageCommItemActionType").MARK_UNREAD)&&d.context.logMarkReadStatusActions(c,d.props.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$4=function(a,c){c=d.props.item;var e=c.token,f=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.state.commItemFolder),g=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.state.commItemFolder);b("PagesManagerInboxLogger").itemStatusChangedInThread(e,"INSTAGRAM_DIRECT",a,d.state.commItemFolder);d.state.commItemFolder!==a&&g==null&&f==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.pageID,c.token)):g!==null&&(d.state.commItemFolder===b("PageCommItemFolder").TODO?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.pageID,e,c.is_follow_up!==!0):d.state.commItemFolder===b("PageCommItemFolder").FOLLOW_UP&&(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.pageID,e)));c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesManagerInboxListAction").itemFolderChange([e],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.state.commItemFolder));c.updateThreadStatus(e,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.state.commItemFolder),g,f)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore")]};c.calculateState=function(a,c){a=b("PagesManagerInboxStore").getConfig();return{viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowDeleteButton:a.platformConfigs[c&&c.item.comm_type?b("PageCommItemTypeUtil").toPageCommPlatform(c.item.comm_type):b("PagesManagerInboxFilterStore").getActiveType()].showDeleteConversationButton}};var d=c.prototype;d.$3=function(){var a,c=this.props.item&&this.props.item.comm_type,d=this.props.item&&this.props.item.is_read,e=c==="FB_MESSAGE"||c==="FB_USER_POST"||c==="FB_REVIEW",f=null,g=this.state.commItemFolder;this.props.item&&this.props.item.comm_status&&(f=this.props.item.comm_status.toUpperCase());a=this.props.item&&this.props.item.is_page_follow_up||((a=this.props.item)==null?void 0:a.is_follow_up);a===void 0&&(a=f===b("PageCommItemStatus").FOLLOW_UP);f=c==="WEC_MESSAGE";return{showDone:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD||g===b("PageCommItemFolder").FOLLOW_UP)&&!f,showFollowUp:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD)&&!a&&!f,showUnFollowup:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD)&&a,showInbox:!f&&a,showMarkRead:!d&&!f,showMarkUnread:d&&!f,showSpam:e&&g!==b("PageCommItemFolder").SPAM&&g!==b("PageCommItemFolder").DONE&&!f,showDelete:this.state.shouldShowDeleteButton||f}};d.render=function(){var a=this.props,c=a.ChildActionClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildActionClass"]);return b("React").jsx(c,babelHelpers["extends"]({},a,{actionParam:this.$3(),onReadStatusChange:this.$2,onStatusChange:this.props.commPlatform==="INSTAGRAM_DIRECT"?this.$4:this.$1,userID:(c=this)!=null?(c=c.props)!=null?(c=c.item)!=null?(c=c.page_customer)!=null?(c=c.user)!=null?c.id:c:c:c:c:c}))};return c}(b("React").PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesManagerInboxListRow.react",["ix","cx","fbt","invariant","ErrorBoundary.react","FacebookAppIDs","FacepileRounded.react","FDSCheckboxInput.react","Focus","Image.react","JSResource","Layout.react","LeftRight.react","LineClamp.react","MediaManagerInboxContext.react","MediaManagerInboxListRowIconConfig","MediaManagerInboxQEUtils","MercuryIDs","MercuryThreadTimestampReact.re","MercuryTimestamp","MessengerTextWithEmoticons.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxActionContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxListRowAction.react","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageActionContainer.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","TextWithEntities.react","Tooltip","XUIBadge.react","emptyFunction","fbglyph","lazyLoadComponent","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var k=b("MercuryThreadTimestampReact.re").make,l=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,m=b("Layout.react").Column,n=b("Layout.react").FillColumn,o=16,p=18,q=20,r=b("lazyLoadComponent")(b("JSResource")("PagesManagerInboxThreadLabelContainer.react").__setRef("PagesManagerInboxListRow.react"));function s(a){__p&&__p();var c=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!c)return null;c=(c=a.thread.thread_associated_page_admin)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;a=(a=a.thread.thread_associated_page_admin)==null?void 0:a.name;var d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d!=null){Boolean((d=d.inboxRedesignConfig)==null?void 0:d.shouldShowNewMultiAdminAssignment)}else b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;return a&&c?b("React").jsxs("span",{className:"_4fyc",children:[b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:c},b("Tooltip").propsFor(a))),b("React").jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function t(a){__p&&__p();var c,d=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!d||!a.item)return null;d=(d=a.item)==null?void 0:(d=d.comm_item_owners)==null?void 0:(d=d.nodes[0])==null?void 0:(d=d.admin)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri;c=(c=a.item)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name;var e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){e=Boolean((e=e.inboxRedesignConfig)==null?void 0:e.shouldShowNewMultiAdminAssignment)}else e=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;if(e&&a.platform==="INSTAGRAM_DIRECT"){d=(e=a.item)==null?void 0:(e=e.assigned_admin)==null?void 0:(e=e.profile_picture)==null?void 0:e.uri;c=(e=a.item)==null?void 0:(a=e.assigned_admin)==null?void 0:a.name}return c&&d?b("React").jsxs("span",{className:"_4fyc",children:[b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:d},b("Tooltip").propsFor(c))),b("React").jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function u(a){__p&&__p();var c,d=b("PageCommItemStatusUtil").getFolderQECheck(),e=a.activeFolder===b("PageCommItemFolder").SPAM||a.activeFolder===b("PageCommItemFolder").DONE;if(a.commType==="WEC_MESSAGE"||a.shouldShowIGRevampComments)c=null;else if(a.badgeCount>1&&!a.shouldShowIGRevampComments&&(a.commType==="FB_PAGE_POST"||a.commType==="FB_AD_POST"||a.commType==="INSTAGRAM_POST"||a.commType==="FB_GROUP_POST"))c=b("React").jsx(b("XUIBadge.react"),{className:"_24d_",count:a.badgeCount});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").DONE||a.commStatus===b("PageCommItemStatus").DONE&&!b("PagesManagerInboxMercuryUtil").shouldUseMercury())c=b("React").jsx("div",{className:"_za4"});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").FOLLOW_UP||a.commStatus===b("PageCommItemStatus").FOLLOW_UP||d&&((d=a.item)==null?void 0:d.is_follow_up)&&!e)b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c=b("React").jsx("div",{className:"_i65"}):c=b("React").jsx("div",{className:"_4thl"});else return null;return b("React").jsx("div",{className:"_za5",children:c})}function v(a){return a.profilePicElement?a.profilePicElement:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:b("nullthrows")(a.item)})}function w(a,c){if(c.inline_style==="BOLD")return b("React").jsx("span",{className:"_1t5i",children:a});c=c.entity_with_image&&c.entity_with_image.image&&c.entity_with_image.image.uri;return c?b("React").jsx(b("Image.react"),{className:"_1t5n",src:c}):a}function x(a){a.snippetWithEntities&&a.snippetElement&&j(0,1607);if(a.snippetElement)return a.snippetElement;if(!a.snippetWithEntities)return null;return a.commPlatform==="MESSENGER"?b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.snippetWithEntities.text}):b("React").jsx(b("TextWithEntities.react"),{imageRanges:a.snippetWithEntities.image_ranges,inlineStyleRanges:a.snippetWithEntities.inline_style_ranges,interpolator:w,renderEmoji:!0,text:a.snippetWithEntities.text})}function y(a){a.title&&!a.titleElement||!a.title&&a.titleElement||j(0,1608);return a.titleElement?a.titleElement:b("React").jsx("span",{children:z(a.title)})}function z(a){return a?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null}function A(a){return!(a.showActions&&a.item)?null:b("PagesManagerInboxMercuryUtil").shouldUseMercury()?b("React").jsx(b("PagesManagerInboxMessageActionContainer.react"),{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",commPlatform:a.commPlatform,item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID}):b("React").jsx(l,{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID})}function B(a){__p&&__p();var c;if(!a.shouldRenderRowIcon||a.icons==null)return null;var d=b("React").jsx("div",{style:{height:20,width:20}});if(((c=a.icons)==null?void 0:c.length)!==0){c=a.icons.map(function(a){a=b("MediaManagerInboxListRowIconConfig")[a];return{name:a.name,image_src:a.iconAsset}});d=b("React").jsx(b("FacepileRounded.react"),{imageSize:16,profiles:c})}return b("React").jsx(m,{className:"_8lx9","data-testid":"creator_studio_top_comments_icons_column",children:d})}c=40;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=function(a){d.$4=a};d.$6=function(){return d.$4};d.$1=d.$3.bind(babelHelpers.assertThisInitialized(d));c=b("PagesManagerInboxFilterStore").getActiveType();d.$2=!1;if(c==="MESSENGER"){var e=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];d.$2=Boolean(e.showReplyInsignia)&&c==="MESSENGER"}return d}var d=c.prototype;d.componentDidMount=function(){if(this.context&&this.context.logRowImpression!==b("emptyFunction")){var a;this.context.logRowImpression(this.props.commPlatform==="MESSENGER"?(a=this.props.item)==null?void 0:a.thread_fbid:(a=this.props.item)==null?void 0:a.id,this.props.commPlatform,this.props.rowIndex,this.props.activeFolder)}};d.$7=function(){var a,c=this.props.badgeCount;if(!this.props.shouldShowIGRevampComments||((a=this.props.item)==null?void 0:a.is_read)||c===0)return null;a=c>q?q.toString()+"+":c.toString();return b("React").jsx("div",{className:"_86fv",children:i._("{unread number} unread",[i._param("unread number",a)])})};d.$8=function(a,b){__p&&__p();var c={},d=[];for(var e=0;e<a.length;e++){var f;f=(f=a[e])==null?void 0:f.name;f!=null&&c[f]!==!0&&(c[f]=!0,d[d.length]=a[e])}for(var f=0;f<b.length;f++){a=(e=b[f])==null?void 0:e.name;a!=null&&c[a]!==!0&&(c[a]=!0,d[d.length]=b[f])}return d};d.$9=function(a){a.stopPropagation()};d.$3=function(a,b){b=(b=this.props.selectionConfig)==null?void 0:b.onSelectionToggle;b&&b(a)};d.$10=function(){var a=this.context&&this.context.appID;return a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.$11=function(){var a;if(!this.$2)return!1;else if(Boolean(this.props.hasPageReplied))return!0;a=(a=this.props.item)==null?void 0:a.snippet_sender;return a==null||!b("MercuryIDs").isValid(a)?!1:b("MercuryIDs").getUserIDFromParticipantID(a)===this.props.pageID};d.render=function(){__p&&__p();var a,c,d,e=this.props.commType==="FB_GROUP_POST",f=null;f=this.props.labels?this.props.labels:this.$8(((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customLabels)||[],((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customTags)||[]);a=null;switch(this.props.commPlatform){case"WEC":a="wec_thread_list";break;case"MESSENGER":a="messenger_thread_list_row";break;case"FACEBOOK":a="facebook_post_list_row_item";break}c=Boolean((c=this.props)==null?void 0:(c=c.selectionConfig)==null?void 0:c.enabled);d=Boolean((d=this.props)==null?void 0:(d=d.selectionConfig)==null?void 0:d.selected);var g=this.$11();return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs("div",{className:"_4k8w"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8gcz")+" _75ux"+(this.props.showActions?" _5_n1":"")+(this.props.isViewing?" _2tms":"")+(this.props.isRead?"":" _284c")+(this.props.shouldAnimate?" _3_40":"")+(this.props.commPlatform==="INSTAGRAM"?" _5m16":"")+(this.props.commPlatform==="FACEBOOK"||this.props.commPlatform==="MEDIA_MANAGER_FB_COMMS"?" _5m15":"")+(this.props.commPlatform==="MESSENGER"?" _5m10":"")+(this.props.commPlatform==="WEC"?" _7r_8":"")+(this.props.commPlatform==="INSTAGRAM_DIRECT"?" _6wkq":""),"data-testid":a,onClick:this.props.onViewingListItem,onMouseDown:function(a){return b("Focus").setWithoutOutline(a.target)},role:"presentation",children:[b("React").jsxs(b("Layout.react"),{className:"_6yv6","data-testid":"search_label_result_list",children:[b("React").jsx(B,{icons:this.props.icons,shouldRenderRowIcon:this.$10()}),b("React").jsx(m,{className:"_11eh",children:b("React").jsx(v,{item:this.props.item,profilePicElement:this.props.profilePicElement})}),b("React").jsxs(n,{children:[b("React").jsxs(n,{className:"_284g",children:[b("React").jsx("div",{className:"_4k8x",children:b("React").jsxs(b("LineClamp.react"),{lineHeight:o,lines:e?2:1,children:[this.props.item!=null&&this.props.commPlatform==="MESSENGER"&&this.props.shouldUseMessengerStateForAdminAssignment?b("React").jsx(s,{pageID:this.props.pageID,thread:this.props.item}):b("React").jsx(t,{item:this.props.item,pageID:this.props.pageID,platform:this.props.commPlatform}),b("React").jsx(y,{title:this.props.title,titleElement:this.props.titleElement})]})}),b("React").jsxs("div",{className:"_4k8y",children:[this.props.subtitle&&!f?b("React").jsx(b("TextWithEntities.react"),{className:"_2dmv",imageRanges:(a=this.props)!=null?(a=a.subtitle)!=null?a.image_ranges:a:a,inlineStyleRanges:(e=this.props)!=null?(e=e.subtitle)!=null?e.inline_style_ranges:e:e,interpolator:w,renderEmoji:!0,text:(a=this.props)!=null?(a=a.subtitle)!=null?a.text:a:a}):null,b("React").jsx(b("LineClamp.react"),{lineHeight:p,lines:1,children:b("React").jsx(x,{commPlatform:this.props.commPlatform,snippetElement:this.props.snippetElement,snippetWithEntities:this.props.shouldShowIGRevampComments?this.props.igRevampSnippetWithEntities:this.props.snippetWithEntities})}),this.$7(),this.props.second_subtitle?b("React").jsx(b("LineClamp.react"),{lineHeight:p,lines:1,children:b("React").jsx(b("TextWithEntities.react"),{imageRanges:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.image_ranges:e:e,inlineStyleRanges:(a=this.props)!=null?(a=a.second_subtitle)!=null?a.inline_style_ranges:a:a,renderEmoji:!0,text:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.text:e:e})}):null]})]}),b("React").jsxs(m,{className:"_11ei",children:[b("React").jsxs("div",{className:c?"_8gnh":"",children:[b("React").jsxs("div",{className:"_4ugl",children:[isNaN(this.props.timestampInMS)?null:b("React").jsx("div",{className:"_5hhj",children:b("React").jsx(k,{text:b("MercuryTimestamp").getRelativeTimestamp(this.props.timestampInMS),time:this.props.timestampInMS,title:(a=b("MercuryTimestamp").getAbsoluteTimestamp(this.props.timestampInMS))!=null?a:void 0})}),b("React").jsx(u,{activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),badgeCount:this.props.badgeCount,commStatus:this.props.commStatus,commType:this.props.commType,item:this.props.item,shouldShowIGRevampComments:this.props.shouldShowIGRevampComments})]}),b("React").jsx(A,{commPlatform:this.props.commPlatform,item:this.props.item,mediaManagerInboxRowIndex:this.props.rowIndex,pageID:this.props.pageID,showActions:this.props.showActions}),!this.props.showActions&&this.props.item&&this.props.item.parent_comm_item_photo_preview?b("React").jsx(b("Image.react"),{className:"_7-24",src:(e=this.props.item)==null?void 0:(a=e.parent_comm_item_photo_preview)==null?void 0:a.uri}):null]}),c&&b("React").jsx("div",{className:"_8ic-",onClick:this.$9,role:"presentation",children:b("React").jsx(b("FDSCheckboxInput.react"),{label:"",onChange:this.$1,value:d})})]}),b("React").jsxs(b("LeftRight.react"),{direction:"left",children:[g?b("React").jsx("div",{className:"_8mf0"}):null,f?b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(r,{hoverContextRef:this.$6,labels:f,setupHoverContextRef:this.$5,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()})}):null]})]})]}),this.props.isViewing?b("React").jsx("div",{className:"_5z5s"}):null,this.props.shouldAnimate?b("React").jsx("div",{className:"_3_42",style:{backgroundColor:this.props.commStatus?b("PageCommItemStatusUtil").getColor(this.props.commStatus):void 0}}):null]})})};return c}(b("React").PureComponent);d.defaultProps={imageSize:c,shouldAnimate:!1,showActions:!0,badgeCount:0,shouldShowIGRevampComments:!1};d.contextType=a;e.exports=d}),null);
__d("XMediaManagerFBCommsSetMessageSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fb_comms/set_message_seen/",{page_id:{type:"FBID"},tip_name:{type:"String",required:!0}})}),null);
__d("MediaManagerInboxFBCommsTabMessageRowContainer.react",["AsyncRequest","FluxContainer","Image.react","MediaManagerInboxFBCommsActions","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerStore","React","XMediaManagerFBCommsSetMessageSeenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxFBCommsActions").decrementFBCommsBadgeCount,h=b("MediaManagerInboxFBCommsActions").setFBCommsMessageSeen;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item.node;b("PagesManagerAction").viewListItem(a.id);if(a.clickedTime==null){a=b("XMediaManagerFBCommsSetMessageSeenController").getURIBuilder().setFBID("page_id",a.pageID).setString("tip_name",a.tipName).getURI();new(b("AsyncRequest"))(a).setHandler(function(a){a.payload&&g(d.props.pageID)}).setErrorHandler(function(a){}).send();d.props.isPriorityTab||h(d.props.pageID,d.props.item,1)}},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){var d=!1,e=b("PagesManagerStore").getViewingListItem();c.item.node.id&&e&&(d=c.item.node.id===e);e=a!=null&&a.isRead||c.item.node.clickedTime!=null;return{isViewing:d,isRead:e}};var d=c.prototype;d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return b("React").jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_FB_COMMS",commStatus:null,commType:null,isRead:this.state.isRead,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:b("React").jsx(b("Image.react"),{src:"/images/fb_communications/glyph-app-facebook-circle-1x.png"}),rowIndex:this.props.rowIndex,snippetElement:a.body,subtitle:null,timestampInMS:(a.validationTime||0)*1e3,title:a.title,onViewingListItem:this.$1})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("BulkSelectionThreadAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELECT:"select",UNSELECT:"unselect"})}),null);
__d("MediaManagerInboxLoggerActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LIST_ROW_IMPRESSION,rowIndex:a})};e.exports={logListRowIndex:a}}),null);
__d("MediaManagerInboxPriorityTabActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM,priorityType:a})};e.exports={onViewingPriorityItem:a}}),null);
__d("BusinessInboxBulkAdminAssignmentActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_action_click");e.exports=a}),null);
__d("BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkDeleteActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_action_click");e.exports=a}),null);
__d("BusinessInboxBulkDeleteDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkLabelActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_action_click");e.exports=a}),null);
__d("BusinessInboxBulkLabelDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_mark_as_unread_action_click");e.exports=a}),null);
__d("BusinessInboxBulkMoveToFolderActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_move_to_folder_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_dialog_submit");e.exports=a}),null);
__d("BusinessInboxNuxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_nux_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_click");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxUpdateValueFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_update_value");e.exports=a}),null);
__d("PagesManagerBulkActionLogger",["BusinessInboxBulkAdminAssignmentActionClickFalcoEvent","BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent","BusinessInboxBulkDeleteActionClickFalcoEvent","BusinessInboxBulkDeleteDialogSubmitFalcoEvent","BusinessInboxBulkLabelActionClickFalcoEvent","BusinessInboxBulkLabelDialogSubmitFalcoEvent","BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent","BusinessInboxBulkMoveToFolderActionClickFalcoEvent","BusinessInboxBulkReplyActionClickFalcoEvent","BusinessInboxBulkReplyDialogSubmitFalcoEvent","BusinessInboxNuxImpressionFalcoEvent","BusinessInboxThreadCheckboxClickFalcoEvent","BusinessInboxThreadCheckboxImpressionFalcoEvent","BusinessInboxThreadCheckboxUpdateValueFalcoEvent","CurrentUser","PagesManagerInboxLogger","PagesManagerInboxStore","PagesMessagingInboxActionsTypedLogger","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=b("PagesManagerInboxStore").getConfig().pageID}var c=a.prototype;c.$2=function(){return{logged_in_user_id:b("CurrentUser").getID(),page_id:this.$1,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown"}};c.logLabelActionClick=function(a){var c=this.$2();b("BusinessInboxBulkLabelActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logReplyActionClick=function(a){var c=this.$2();b("BusinessInboxBulkReplyActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logDeleteActionClick=function(a){var c=this.$2();b("BusinessInboxBulkDeleteActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMarkAsUnreadActionClick=function(a){var c=this.$2();b("BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logAdminAssignmentActionClick=function(a){var c=this.$2();b("BusinessInboxBulkAdminAssignmentActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMoveToFolderActionClick=function(a){var c=this.$2();b("BusinessInboxBulkMoveToFolderActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logSelectionCheckboxClick=function(a){var c=this.$2();b("BusinessInboxThreadCheckboxClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logThreadCheckboxSelect=function(a){var c=this.$2();b("BusinessInboxThreadCheckboxUpdateValueFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logThreadCheckboxImpression=function(){var a=this.$2();b("BusinessInboxThreadCheckboxImpressionFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{event_data:{}})})};c.logNuxImpression=function(){var a=this.$2();b("BusinessInboxNuxImpressionFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{event_data:{nux_id:Number(b("SimpleNUXMessageTypes").PAGES_INBOX_BULK_ACTIONS),tag:"bulk_actions"}})})};c.logAdminAssignmentDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logDeleteDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkDeleteDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logReplyDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkReplyDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logLabelDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkLabelDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMarkedAsUnreadThreads=function(a){var c=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform("MESSENGER").setInboxAction("mark_as_unread").addToExtraData("page_id",this.$1).addToExtraData("is_bulk_action","1");a.forEach(function(a){return c.log()})};c.logDeletedThreads=function(a){var c=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform("MESSENGER").setInboxAction("delete_thread").addToExtraData("is_bulk_action","1");a.forEach(function(a){return c.log()})};c.logThreadsAssignedToAdmin=function(a){var c=this;a.forEach(function(a){b("PagesManagerInboxLogger").logAdminAssignmentAction(c.$1,"assign","bulk_actions")})};return a}();e.exports=new a()}),null);
__d("PagesManagerInboxMessageProfilePicContainer.react",["invariant","MercuryIDs","MessengerParticipants.bs","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={imageURI:null};return b}var d=c.prototype;d.componentDidMount=function(){this.$2(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$2(a)};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.$2=function(a){var c=this;this.$1&&this.$1.remove();var d=a.item.participants.filter(function(c){return b("MercuryIDs").getUserIDFromParticipantID(c)!==a.pageID});d.length===0&&a.item.participants.length>0&&(d=a.item.participants.slice(0,1));d.length===1||g(0,3754);this.$1=b("MessengerParticipants.bs").getOrderedBigImageMulti(d,function(a){c.setState({imageURI:a[0]})})};d.render=function(){return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:this.props.commPlatform,commType:this.props.commType,imageSize:this.props.imageSize,imageURI:this.state.imageURI,showPlaceholder:!0,showPlatformBadge:this.props.showPlatformBadge})};return c}(b("React").PureComponent);a.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=a}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PagesManagerMessagingActionType").LIST,h=new Map(),i={updateMessagelist:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADED,pageID:a,threadID:c,data:d})},setHotLikeEnd:function(){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.START,preview:a})},contentSearchSelectedIndex:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.CONTENT_SEARCH_SELECTED_INDEX,contentSearchSelectedIndex:a})},setIsLoading:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADING,isLoading:a})},setIsLoadingMore:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOAD_MORE,isLoadingMore:a})},setScrollAreaHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:a})},setAppointmentBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentScheduleBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentStatusBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},updateThread:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:a,threadID:c})},setIsContextCardHidden:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:a,isHidden:c})},updateIsUserBanned:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").BAN.UPDATE,pageID:a,userID:c,isBanned:d})},_getBanningMapKey:function(a,b){return a+"_"+b},fetchIsUserBanned:function(a,c){var d=this._getBanningMapKey(a,c);if(h.has(d)&&h.get(d))return;var e=b("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",a).setFBID("user_id",c).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){i.updateIsUserBanned(a,c,b.payload)}).send();h.set(d,!0)},resetIsUserBanned:function(a,b){h.set(this._getBanningMapKey(a,b),!1)}};e.exports=i}),null);
__d("PagesManagerInboxMessageListRowContainer.react",["fbt","BulkSelectionThreadAction","FluxContainer","MediaManagerInboxContext.react","MediaManagerInboxLoggerActions","MediaManagerInboxPriorityTabActions","MediaManagerUtils","MercuryThreadSnippet.react","MercuryThreadTitle_DEPRECATED.react","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxListRow.react","PagesManagerInboxMessageProfilePicContainer.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingMessagelistAction","PagesManagerStore","React","emptyFunction","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var h=0;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item;d.context&&d.context.logClickRow!==b("emptyFunction")&&d.context.logClickRow(a.thread_fbid,d.props.filter);b("PagesManagerInboxFilterAction").changePlatform(d.props.filter);var c=d.props.rowIndex;b("MediaManagerUtils").isMediaManagerApp()&&c!=null&&(b("MediaManagerInboxLoggerActions").logListRowIndex(c),d.props.filter==="MEDIA_MANAGER_PRIORITY"&&b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem("TOP_MESSAGES"));b("PagesManagerAction").viewListItem(a.thread_fbid);a.unread_count>0&&b("PagesManagerMessagesInterface").changeThreadReadStatus(d.props.pageID,a.thread_id,!0)},d.$3=function(){b("PagesManagerInboxFilterAction").changePlatform(d.props.filter),b("PagesManagerAction").viewListItem(d.$2()),b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(h)},d.$6=function(a){var c=a?[b("BulkSelectionThreadAction").SELECT,d.state.selectedThreads.length]:[b("BulkSelectionThreadAction").UNSELECT,d.state.selectedThreads.length-1],e=c[0];c=c[1];b("PagesManagerBulkActionLogger").logThreadCheckboxSelect({event_data:{thread_index:c,thread_action:e}});b("PagesManagerAction").handleThreadSelectionChange(d.props.item.thread_fbid||"",a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){__p&&__p();a=!1;var d=b("PagesManagerStore").getViewingListItem(),e=b("PagesManagerInboxFilterStore").getActiveFolder();c.item.thread_fbid&&d&&(a=c.item.thread_fbid===d);d=b("PagesManagerStore").getThreadLabelMap();d=d&&c.item.thread_fbid?d.get(c.item.thread_fbid):null;var f=!1,g=!1,h=!1,i=!1,j=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(j!=null){var k;g=Boolean((k=j.inboxRedesignConfig)==null?void 0:k.shouldShowNewIGDirectFolder);i=(k=j.messengerConfig)==null?void 0:k.shouldUseMessengerStateForAdminAssignment;h=Boolean((k=j.messengerConfig)==null?void 0:(j=k.commerceConfig)==null?void 0:j.shouldShowBulkSelection)}else g=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder,h=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.showBulkSelection,i=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForAdminAssignment;switch(b("PagesManagerInboxFilterStore").getActiveType()){case"MESSENGER":f=!0;break;case"INSTAGRAM_DIRECT":f=g===!0;i=!1;break}k=b("PagesManagerInboxFilterStore").getSearchType();return{labels:d,isViewing:a,activeFolder:e,showActions:f,searchType:k,showBulkSelection:h&&b("PagesManagerStore").isBulkSelectionMode(),selectedForBulkActions:b("PagesManagerStore").isThreadSelected(c.item.thread_fbid||""),selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),shouldUseMessengerStateForAdminAssignment:Boolean(i)}};var d=c.prototype;d.$2=function(){var a;a=b("nullthrows")((a=this.props.item)!=null?(a=a.node)!=null?(a=a.all_participants)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.messaging_actor)!=null?a.id:a:a:a:a:a:a);return a};d.$4=function(){var a;a=b("nullthrows")((a=this.props.item)!=null?(a=a.content_search_result_context)!=null?a.approx_count:a:a);return a};d.$5=function(){return g._({"*":"{number} matched messages","_1":"1 matched message"},[g._plural(this.$4(),"number")])};d.render=function(){var a=this.state.commPlatformType==="WEC"?"WEC_MESSAGE":"FB_MESSAGE";if(this.state.searchType==="CONTENT"){var c,d,e;e=b("nullthrows")((e=this.props.item)!=null?(e=e.node)!=null?(e=e.all_participants)!=null?(e=e.nodes)!=null?(e=e[0])!=null?(e=e.messaging_actor)!=null?e.name:e:e:e:e:e:e);d=b("nullthrows")((d=this.props.item)!=null?(d=d.node)!=null?(d=d.all_participants)!=null?(d=d.nodes)!=null?(d=d[0])!=null?(d=d.messaging_actor)!=null?(d=d.profile_picture)!=null?d.uri:d:d:d:d:d:d:d);c=Number((c=this.props.item)!=null?(c=c.node)!=null?c.updated_time_precise:c:c);return b("React").jsx(b("PagesManagerInboxListRow.react"),{commPlatform:this.props.filter,commStatus:this.props.item.comm_status,commType:a,isRead:!0,isViewing:this.state.isViewing,item:this.props.item,onViewingListItem:this.$3,pageID:this.props.pageID,profilePicElement:b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:this.props.filter,commType:a,imageSize:this.props.imageSize,imageURI:d,showPlaceholder:!0,showPlatformBadge:this.props.showPlatformBadge}),rowIndex:this.props.rowIndex,selectionConfig:{enabled:this.state.showBulkSelection,onSelectionToggle:this.$6,selected:this.state.selectedForBulkActions},showActions:!1,snippetElement:this.$5(),subtitle:null,timestampInMS:c,title:e})}return b("React").jsx(b("PagesManagerInboxListRow.react"),{activeFolder:this.state.activeFolder,badgeCount:this.props.item.unread_count,commPlatform:this.props.filter,commStatus:this.props.item.comm_status,commType:a,isRead:this.props.item.unread_count===0,isViewing:this.state.isViewing,item:this.props.item,labels:this.state.labels,onViewingListItem:this.$1,pageID:this.props.pageID,profilePicElement:b("React").jsx(b("PagesManagerInboxMessageProfilePicContainer.react"),{commPlatform:this.props.filter,commType:a,item:this.props.item,pageID:this.props.pageID}),rowIndex:this.props.rowIndex,selectionConfig:{enabled:this.state.showBulkSelection,onSelectionToggle:this.$6,selected:this.state.selectedForBulkActions},shouldAnimate:this.props.shouldAnimate,shouldUseMessengerStateForAdminAssignment:this.state.shouldUseMessengerStateForAdminAssignment,showActions:this.state.showActions,snippet:this.props.item.snippet,snippetElement:b("React").jsx(b("MercuryThreadSnippet.react"),{participants:b("immutable").Map({}),shouldRenderYou:!0,thread:this.props.item,viewer:this.props.pageID}),subtitle:this.props.item.subtitle,timestampInMS:this.props.item.timestamp,titleElement:b("React").jsx(b("MercuryThreadTitle_DEPRECATED.react"),{thread:this.props.item,viewer:this.props.pageID})},this.props.item.thread_fbid)};return c}(b("React").PureComponent);c.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0,pure:!1})}),null);
__d("MediaManagerInboxPriorityMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.edges[this.props.rowIndex].id!==a.edges[a.rowIndex].id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.edges[this.props.rowIndex].id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.edges[this.props.rowIndex].id;return b("React").jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));if(d==null){var e;return(e=b("React")).jsx("div",{className:"_2dqm",children:e.jsxs("div",{className:"_2iwq _2dqn",children:[e.jsx("div",{className:"_2iwr"}),e.jsx("div",{className:"_2iws"}),e.jsx("div",{className:"_2iwt"}),e.jsx("div",{className:"_2iwu"}),e.jsx("div",{className:"_2iww"}),e.jsx("div",{className:"_2iwx"})]})},c)}return b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:d,pageID:a.props.pageID,shouldAnimate:!1},c)}})};return c}(b("React").Component);e.exports=a}),null);
__d("MediaManagerInboxPriorityTabTopMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.item.top_message_thread_id!==a.item.top_message_thread_id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.item.top_message_thread_id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.item.top_message_thread_id;return b("React").jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));if(d==null){var e;return(e=b("React")).jsx("div",{className:"_2dqm",children:e.jsxs("div",{className:"_2iwq _2dqn",children:[e.jsx("div",{className:"_2iwr"}),e.jsx("div",{className:"_2iws"}),e.jsx("div",{className:"_2iwt"}),e.jsx("div",{className:"_2iwu"}),e.jsx("div",{className:"_2iww"}),e.jsx("div",{className:"_2iwx"})]})},c)}return b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MEDIA_MANAGER_PRIORITY",item:d,pageID:a.props.pageID,rowIndex:a.props.rowIndex,shouldAnimate:!1},c)}})};return c}(b("React").Component);e.exports=a}),null);
__d("MediaManagerInboxPriorityTabRowContainer.react",["FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxFBCommsTabMessageRowContainer.react","MediaManagerInboxPriorityTabActions","MediaManagerInboxPriorityTabTopMessageRow.react","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.props.item.top_comment_content,c=a.parent_item.id;b("PagesManagerAction").viewListItem(c);b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(a.priority_type);b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[c]})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID(c.item);c&&d&&(a=c===d);return{isViewing:a}};var d=c.prototype;d.render=function(){switch(this.props.rowType){case"TOP_MESSAGES":return b("React").jsx(b("MediaManagerInboxPriorityTabTopMessageRow.react"),{item:this.props.item.top_message_content,pageID:this.props.pageID,rowIndex:this.props.rowIndex});case"TOP_COMMENTS":var a=this.props.item.top_comment_content;return b("React").jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_PRIORITY",commStatus:a.comm_status,commType:a.comm_type,icons:a.comm_icon_type,isRead:a.parent_item.is_read,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:this.$1(),rowIndex:this.props.rowIndex,snippetWithEntities:a.top_comment_snippet,subtitle:null,timestampInMS:(a.last_modified_at||0)*1e3,title:(a=a.page_comm_item)==null?void 0:a.comm_title,onViewingListItem:this.$2});case"TOP_FB_COMMS":return b("React").jsx(b("MediaManagerInboxFBCommsTabMessageRowContainer.react"),{isPriorityTab:!0,item:this.props.item,pageID:this.props.pageID,rowIndex:this.props.rowIndex});default:return null}};d.$1=function(){return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"FACEBOOK",commType:"FB_PAGE_POST_COMMENT",imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:this.props.item.top_comment_content.thumbnail.uri,showPlatformBadge:!0})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerAwayToggleSubscription",["RelayFBEnvironment","RelayModern","PagesManagerAwayToggleSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("PagesManagerAwayToggleSubscription.graphql");function a(a){return h(b("RelayFBEnvironment"),{subscription:i,variables:{input:a}})}e.exports={subscribe:a}}),null);
__d("PagesManagerInboxAwayInfoContainer.react",["cx","fbt","DateTime","FDSText.react","FluxContainer","Link.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesTimeRangeEditorUtilities","React","RelayModern","XPagesManagerInboxController","PagesManagerInboxAwayInfoContainer_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a;return{commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),pageName:(a=b("PagesManagerInboxStore").getConfig().pageName)!=null?a:"",isIGDirecConnected:(a=((a=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:a.igAccountID)!==null)!=null?a:!1}};var d=c.prototype;d.$1=function(a){a=b("DateTime").localCreate(a);var c=b("DateTime").localNow();return b("PagesTimeRangeEditorUtilities").getFormatedTime(a,c)};d.$2=function(a,c,d){if(a===null||a===void 0||a===""||c===null||c===void 0||c==="")return null;var e=b("React").jsx(b("Link.react"),{href:this.$3(),children:h._("Edit")});if(d==null)return h._("You're scheduled to always be away. Away messages will be sent. {linkToAwaySettings}",[h._param("linkToAwaySettings",e)]);var f=b("PagesTimeRangeEditorUtilities").getIsRequestTimeInAwayTimeRange(c,b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a));d=b("PagesTimeRangeEditorUtilities").isTimeInAwayTimeRange(b("DateTime").create(d-1,b("PagesTimeRangeEditorUtilities").getTimezoneID(c)),c,b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a));if(f&&d)return h._("You're scheduled to be away during this time each week. Away messages will be sent. {linkToAwaySettings}",[h._param("linkToAwaySettings",e)])};d.$3=function(){return b("XPagesManagerInboxController").getURIBuilder().setString("page_token",this.props.page.id).setEnum("section","automated_responses").setEnum("automation","away_message").getURI()};d.render=function(){__p&&__p();if(this.state.commPlatform!=="MESSENGER"&&(this.state.commPlatform!=="INSTAGRAM_DIRECT"||this.props.shouldShowUnifiedThreadlist===!1)||this.state.commPlatform==="INSTAGRAM_DIRECT"&&this.state.isIGDirecConnected===!1)return null;var a=this.props.page,c=a.away_toggle_expiration,d=a.is_away_toggle_on,e=a.away_time_zone;a=a.away_time_range;if(d!==!0)return null;d=this.$2(a,e,c);a=null;c!==null&&c!==void 0&&c!==0?a=h._("{page name} is away until {time}.",[h._param("page name",this.state.pageName),h._param("time",this.$1(c))]):a=h._("{page name} is always away.",[h._param("page name",this.state.pageName)]);return b("React").jsxs("div",{className:"_2dnf",children:[b("React").jsx(b("FDSText.react"),{color:"negative",size:"body1",children:a}),b("React").jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"body3",children:d})]})};return c}(b("React").PureComponent);e.exports=a(b("FluxContainer").create(c),{page:i!==void 0?i:i=b("PagesManagerInboxAwayInfoContainer_page.graphql")})}),null);
__d("PagesManagerInboxAwayInfoRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayInfoContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayInfoRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.$2=function(a){return a.props&&!a.error?b("React").jsx(b("PagesManagerInboxAwayInfoContainer.react"),babelHelpers["extends"]({},a.props)):null};d.render=function(){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayInfoRootQuery.graphql"),render:this.$2,variables:{pageID:this.props.pageID,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XPagesAutomatedResponsesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/automated_responses/{?automation}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},automation:{type:"Enum",enumType:1},use_intake_form_setup_experience:{type:"Bool",defaultValue:!1},services_referrer:{type:"Enum",defaultValue:"automated_response",enumType:1},services_referrer_surface:{type:"Enum",defaultValue:"inbox",enumType:1}})}),null);
__d("PagesManagerInboxListHeaderAutomatedFaqNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","MessengerSMBExperimentDebugTypedLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","URI","XPagesAutomatedResponsesController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="pages_inbox_auto_response_faq";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowAutomationNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowAutomationNUX:!1})},d.$4=function(){b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2()),new(b("MessengerSMBExperimentDebugTypedLogger"))().setPageID(d.props.pageID).setEvent("nux_redirection").log(),(i||(i=b("URI"))).go(b("XPagesAutomatedResponsesController").getURIBuilder().setString("page_token",d.props.pageID).setEnum("automation","custom_questions").setEnum("services_referrer","automated_response").setEnum("services_referrer_surface","inbox").getURI()),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.render=function(){var a=g._("Customize Frequently Asked Questions"),c=g._("You can now suggest questions people can ask your Page. Then set up automated responses to those questions."),d=g._("Set Up");return b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("587530"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowAutomationNUX},"BusinessToolsMegaphoneNUX")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderAutomationNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesManagerInboxUtils").changeInboxTab,j="pages_comms_new_automated_responses";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowAutomationNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowAutomationNUX:!1})},d.$4=function(){i("MESSENGER","automated_responses",d.props.filterType,d.props.pageID),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.render=function(){var a=g._("New Automated Responses Available"),c=g._("Set up responses to automatically answer general questions and feedback about your business."),d=g._("Set Up Automated Responses");return b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("587530"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowAutomationNUX},"BusinessToolsMegaphoneNUX")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderInstagramDirectNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesManagerInboxUtils").changeInboxTab,j="page_inbox_instagram_direct_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowInstagramDirectNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowInstagramDirectNux:!1})},d.$4=function(){i("INSTAGRAM_DIRECT","messages",d.props.filterType,d.props.pageID),b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2()),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.render=function(){var a=g._("Manage Instagram Messages in Inbox"),c=g._("Now you can read and respond to Instagram Direct messages from Inbox."),d=g._("Get Started");return b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("895232"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowInstagramDirectNux},"BusinessToolsMegaphoneNUX")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderPersonaNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="www_page_messaging_persona_entrybutton";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowPersonaNUX:d.$1()},d.$4=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowPersonaNUX:!1})},d.$5=function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",d.props.pageID).setString("tab","admin_roles").getURI().setFragment("PERSONAS").go(),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(this.$2())};d.render=function(){var a=g._("Tell Customers Who's Sending Them Messages"),c=g._("Choose a display name and photo to tell people when you're sending messages on behalf of the Page."),d=g._("Set Up Display Name");return b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("616182"),onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowPersonaNUX},"BusinessToolsMegaphoneNUX")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageCommItemPartReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemPartReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemPartReadEditMutation.graphql");function a(a){var c=a.ids.map(function(a){return{id:a,is_read:!0}});return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:{page_comm_item_part_mark_as_read:{page_comm_item_parts:c}},variables:{input:{actor_id:a.actor_id,ids:a.ids}}})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({MESSAGE:{SET:"message/set",LINK_REPLY:"message/link_reply",CLEAR:"message/clear"}});e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerActions",["PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";a={setMessage:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET,message:a})},linkReply:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY,replyMetadata:a})},clearMessage:function(){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR})}};e.exports=a}),null);
__d("PagesManagerInboxListRowContainer.react",["FluxContainer","MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommItemPartReadEditMutation","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxListRow.react","PagesManagerInboxStore","PagesManagerStore","React","RelayModern","PagesManagerInboxListRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){__p&&__p();var a=d.props.item.id;d.props.item.is_read!==!0&&a!=null&&(d.props.item.__typename==="PageCommItemPart"?b("PageCommItemPartReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}):b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}));if(d.props.item.__typename==="PageCommItemPart"){var c;a=(c=d.props.item.parent_item)==null?void 0:c.id}c=d.props.rowIndex;b("MediaManagerUtils").isMediaManagerApp()&&c!=null&&b("MediaManagerInboxLoggerActions").logListRowIndex(c);b("PagesManagerAction").viewListItem(a);b("PagesManagerInboxInstagramPostComposerActions").clearMessage()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();if(c.item.id!==null&&c.item.id!==void 0&&c.item.id!==""&&d!==null&&d!==void 0&&d!==""){a=c.item.id===d||((c=c.item.parent_item)==null?void 0:c.id)===d}c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return{filter:b("PagesManagerInboxFilterStore").getActiveFolder(),isViewing:a,shouldShowIGRevampComments:!!c.shouldShowIGRevampComments}};var d=c.prototype;d.render=function(){var a;return b("React").jsx(b("PagesManagerInboxListRow.react"),{badgeCount:this.props.item.unread_count||0,commPlatform:this.props.item.comm_platform,commStatus:this.props.item.comm_status,commType:this.props.item.comm_type,icons:this.props.item.comm_icon_type,igRevampSnippetWithEntities:this.props.item.ig_revamp_snippet_with_entities,isRead:!!this.props.item.is_read,isViewing:this.state.isViewing,item:this.props.item,onViewingListItem:this.$1,pageID:this.props.pageID,rowIndex:this.props.rowIndex,shouldAnimate:this.props.shouldAnimate,shouldShowIGRevampComments:this.state.shouldShowIGRevampComments,showActions:!0,snippetWithEntities:this.state.filter===b("PageCommItemFolder").PRIORITY?this.props.item.top_comment_snippet:this.props.item.snippet_with_entities,subtitle:this.props.item.subtitle,timestampInMS:(this.props.item.last_modified_at||0)*1e3,title:this.state.filter===b("PageCommItemFolder").PRIORITY?(a=this.props.item.page_comm_item)==null?void 0:a.comm_title:this.props.item.comm_title!==null&&this.props.item.comm_title!==void 0&&this.props.item.comm_title!==""?this.props.item.comm_title:"Facebook User"},this.props.item.id)};return c}(b("React").Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0,pure:!1}),{item:g!==void 0?g:g=b("PagesManagerInboxListRowContainer_item.graphql")})}),null);
__d("MediaManagerInboxList.react",["cssVar","MediaManagerInboxCustomTabUtils","MediaManagerInboxFBCommsTabMessageRowContainer.react","MediaManagerInboxPriorityMessageRow.react","MediaManagerInboxPriorityTabRowContainer.react","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxFilterStore","PagesManagerInboxListHeaderAutomatedFaqNux.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderInstagramDirectNux.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListRowContainer.react","PagesManagerInboxListSpinner.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListRowContainer.react","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesSelectableSimpleList.react","QuickPerformanceLogger","React","ResponsiveBlock.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MediaManagerUtils").isMediaManagerApp;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.componentDidMount=function(){this.props.height!==0&&this.props.edges.length>0&&this.$1(),b("PagesMessagingInboxActionLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.$1=function(){if(this.props.loadEndEventLogged===!0||this.props.loadStartTime===void 0||this.props.loadStartTime===null||this.props.logLoadEndEvent===null)return;var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);this.props.filterType==="MESSENGER"&&(b("QuickPerformanceLogger").annotateMarkerString(36241413,"page_id",this.props.pageID),b("QuickPerformanceLogger").markerEnd(36241413,2),a.setEventName("threadlist_render_complete").setPlatform("MESSENGER").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent());this.props.filterType==="FACEBOOK"&&(a.setEventName("comment_list_render_complete_event").setPlatform("FACEBOOK").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent())};d.$2=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$3=function(){return b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$2,children:b("React").jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.props.edges.length?b("React").jsxs("div",{children:[this.$3(),b("React").jsxs(b("ResponsiveBlock.react"),{onResize:this.$2,children:[b("React").jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderInstagramDirectNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomatedFaqNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID})]}),b("React").jsx(i,{classProps:this.props,edges:this.props.edges,hasMore:this.props.hasMore,platform:this.props.filterType,scrollHeight:a})]}):b("React").jsxs("div",{style:{height:a,backgroundColor:"#FFFFFF"},children:[this.$3(),this.props.emptyState]})};return c}(b("React").PureComponent);function i(a){var c=a.edges;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"&&(c=c.filter(function(a){return a.is_page_follow_up===!0}));return b("React").jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:a.hasMore,height:a.scrollHeight,loadingIndicator:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}),rowCount:c.length,rowHeight:parseInt("80px",10),rowKeyGetter:k(c,a.platform),rowRenderer:l(c,a.classProps),showHeader:!1,onRequestMoreRows:j(a.classProps.onLoadMore)})}function j(a){return b("debounce")(function(){return a()},100)}function k(a,c){return function(d,e,f){e===void 0;if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return a[d].thread_id;return c==="MEDIA_MANAGER_PRIORITY"?b("MediaManagerInboxCustomTabUtils").getPriorityRowKey(a[d].node):a[d].node.id}}function l(a,c){var d=c.pageID,e=c.filterType,f=c.isCreatorStudioPriorityFilter;return function(c,g,i){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return e==="MESSENGER"&&f&&b("MediaManagerUtils").isMediaManagerApp()?b("React").jsx(b("MediaManagerInboxPriorityMessageRow.react"),{edges:a,pageID:d,rowIndex:c}):b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:e,item:a[c],pageID:d,rowIndex:c,shouldAnimate:!1},a[c].id);if(e==="MEDIA_MANAGER_PRIORITY")return b("React").jsx(b("MediaManagerInboxPriorityTabRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,rowType:a[c].node.row_type});return e==="MEDIA_MANAGER_FB_COMMS"&&h()?b("React").jsx(b("MediaManagerInboxFBCommsTabMessageRowContainer.react"),{isPriorityTab:!1,item:a[c],pageID:d,rowIndex:c}):b("React").jsx(b("PagesManagerInboxListRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,shouldAnimate:!1},a[c].node.id)}}e.exports=a}),null);
__d("PagesManagerInboxListEmptyState.react",["cx","fbt","ix","Image.react","PageCommItemFolder","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxStore","React","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){__p&&__p();switch(this.props.folder){case b("PageCommItemFolder").DONE:return this.props.showNewFolder===!0?this.props.platform==="MESSENGER"||this.props.platform==="INSTAGRAM_DIRECT"?h._("No messages"):h._("No comments"):h._("Welcome to your Done folder!");case b("PageCommItemFolder").FOLLOW_UP:return this.props.showNewFolder===!0?this.props.platform==="MESSENGER"||this.props.platform==="INSTAGRAM_DIRECT"?h._("No messages"):h._("No comments"):h._("Welcome to your Follow Up folder!");case b("PageCommItemFolder").TODO:switch(this.props.platform){case"MESSENGER":return h._("No messages");case"WEC":return h._("No messages to show");case"FACEBOOK":return this.props.showNewFolder===!0?h._("No comments"):h._("No content to show");case"INSTAGRAM":return this.props.showNewFolder===!0?h._("No comments"):h._("No Instagram comments to show")}break;case b("PageCommItemFolder").SPAM:return(this.props.platform==="INSTAGRAM"||this.props.platform==="FACEBOOK")&&this.props.showNewFolder===!0?h._("No comments"):this.props.showNewFolder===!0?h._("No messages"):h._("Spam folder is empty");case b("PageCommItemFolder").UNREAD:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":return h._("No messages");case"FACEBOOK":return h._("No unread reviews or comments to show");case"INSTAGRAM":return h._("No unread Instagram comments to show")}break;case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").MESSENGER_THREADS:return h._("No messages")}return null};d.$2=function(){__p&&__p();var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];a=a.selectedCommentView==="TOP_LEVEL_COMMENT";switch(this.props.folder){case b("PageCommItemFolder").DONE:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":case"WEC":return h._("You can quickly file messages to \"Done\" by using the checkmark button.");case"FACEBOOK":case"INSTAGRAM":return h._("You can quickly file comments to \"Done\" by using the checkmark button.");default:return null}case b("PageCommItemFolder").FOLLOW_UP:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":case"WEC":return h._("Use the star button to mark messages as Follow Up.");case"FACEBOOK":case"INSTAGRAM":return h._("Use the star button to mark comments as Follow Up.");default:return null}case b("PageCommItemFolder").TODO:switch(this.props.platform){case"MESSENGER":return h._("Messages sent to your Page will appear here.");case"FACEBOOK":return a?null:h._("Reviews and comments on your posts will appear here.");case"INSTAGRAM":return h._("Comments on your Instagram posts will appear here.")}break;case b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS:return h._("Communications and notifications from Facebook will appear here.")}return null};d.$3=function(){var a;switch(this.props.folder){case b("PageCommItemFolder").DONE:a=i("94968");break;case b("PageCommItemFolder").FOLLOW_UP:a=i("94970");break;default:return null}return!a?null:b("React").jsx(b("Image.react"),{className:"_2-xd",src:a})};d.$4=function(){var a=this;return this.props.folder!==b("PageCommItemFolder").SPAM&&this.props.folder!==b("PageCommItemFolder").UNREAD||this.props.showNewFolder?null:b("React").jsx(b("XUIButton.react"),{className:"_282b",label:h._("Go to Main Folder"),onClick:function(){return b("PagesManagerInboxFilterAction").changeFolder(a.props.pageID,b("PageCommItemFolder").TODO)}})};d.$5=function(){switch(this.props.folder){case b("PageCommItemFolder").DONE:return i("497630");case b("PageCommItemFolder").FOLLOW_UP:return i("484107");default:return i("94969")}};d.render=function(){return b("React").jsxs("div",{className:"_2-x8"+(this.props.folder===b("PageCommItemFolder").DONE?" _2-x9":""),"data-testID":"list_empty_state",children:[b("React").jsx(b("Image.react"),{src:this.$5()}),b("React").jsx("div",{className:"_2-xa"+(this.props.folder===b("PageCommItemFolder").TODO||this.props.folder===b("PageCommItemFolder").SPAM?" _2-xb":""),children:this.$1()}),b("React").jsx("div",{className:"_2-xc",children:this.$2()}),this.$3(),this.$4()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabList.react",["MediaManagerInboxFBCommsActions","MediaManagerInboxList.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxFBCommsActions").loadMoreFBCommsMessages;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){g(c.props.pageID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){if(this.props.viewingItem==null){var a=this.props.messages[0]?this.props.messages[0].node.id:null;a!=null&&b("PagesManagerAction").viewListItem(a)}};d.render=function(){return b("React").jsx(b("MediaManagerInboxList.react"),{edges:this.props.messages,emptyState:b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS,pageID:this.props.pageID,platform:"MEDIA_MANAGER_FB_COMMS",showNewFolder:!1}),filterType:"MEDIA_MANAGER_FB_COMMS",hasMore:this.props.hasNextPage,height:this.props.height,isCreatorStudioPriorityFilter:!1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabListContainer.react",["FluxContainer","LoadObject","MediaManagerFBCommsStore","MediaManagerInboxFBCommsActions","MediaManagerInboxFBCommsTabList.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","loadObjectComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerInboxFBCommsActions").loadFBCommsMessages,h=260;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={messagesObject:b("LoadObject").loading(),viewingItem:null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("MediaManagerFBCommsStore"),b("PagesManagerStore")]};c.calculateState=function(a,c){a=b("MediaManagerFBCommsStore").get(c.pageID);c=b("PagesManagerStore").getViewingListItem();return{messagesObject:a,viewingItem:c}};var d=c.prototype;d.componentDidMount=function(){g(this.props.pageID)};d.render=function(){return b("React").jsx(i,{height:this.props.height,object:this.state.messagesObject,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,viewingItem:this.state.viewingItem})};return c}(b("React").PureComponent);var i=b("loadObjectComponent")({loading:function(){return b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:h})},error:function(){return null},loaded:function(a,c){return b("React").jsx(b("MediaManagerInboxFBCommsTabList.react"),{hasNextPage:!!a.hasNextPage,height:c.height,messages:a.messages.toArray(),paddingBottom:c.paddingBottom,pageID:c.pageID,viewingItem:c.viewingItem})}});e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxPlusPriorityEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"NONE",TOP_MESSAGES:"TOP_MESSAGES",TOP_COMMENTS:"TOP_COMMENTS",TOP_FB_COMMS:"TOP_FB_COMMS",ALL:"ALL"})}),null);
__d("MediaManagerInboxPriorityTabPaginationList.react",["MediaManagerInboxCustomTabUtils","MediaManagerInboxList.react","MediaManagerInboxPlusPriorityEnum","MediaManagerInboxPriorityTabActions","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React","RelayModern","emptyFunction","MediaManagerInboxPriorityTabPaginationList_viewer.graphql","MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isLoading:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){__p&&__p();var a,c=[];a=(a=this.props)!=null?(a=a.viewer)!=null?(a=a.inbox_priority_rows)!=null?a.edges:a:a:a;a&&(c=a.map(function(a){if(a.node!=null&&a.node.row_type==="TOP_FB_COMMS"){var b,c=a.node;b=(b=a.node)==null?void 0:b.content;return{node:{row_type:c.row_type,$2:c.__typename,node:{id:b==null?void 0:b.id,pageID:b==null?void 0:b.page_id,tipName:b==null?void 0:b.tip_name,title:b==null?void 0:b.title,body:b==null?void 0:b.body,cta:{label:b==null?void 0:b.button_label,action:b==null?void 0:b.button_uri},validationTime:b==null?void 0:b.validation_timestamp,clickedTime:b==null?void 0:b.clicked_timestamp,productType:"MONETIZATION"}}}}return a}),c=c.filter(function(a){return!!a.node}));return b("React").jsx(b("MediaManagerInboxList.react"),{edges:c,emptyState:b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:"MEDIA_MANAGER_PRIORITY",showNewFolder:!1}),filterType:"MEDIA_MANAGER_PRIORITY",hasMore:!1,height:this.props.height,isCreatorStudioPriorityFilter:this.props.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+this.props.folder)};d.$3=function(){var a=this;if(!this.props.relay.hasMore()||this.props.relay.isLoading())return;this.setState({isLoading:!0});this.props.relay.loadMore(10,function(b){a.setState({isLoading:!1})})};d.$1=function(){var a,c=[];a=(a=this.props)!=null?(a=a.viewer)!=null?(a=a.inbox_priority_rows)!=null?a.edges:a:a:a;a&&(c=a.filter(function(a){return!!a.node}));a=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID((a=c[0])==null?void 0:a.node);c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemRowType((c=c[0])==null?void 0:c.node);a!=null?(b("PagesManagerAction").viewListItem(a),b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(c)):b("PagesManagerAction").clearViewListItem()};return c}(b("React").Component);e.exports=a(c,{viewer:g!==void 0?g:g=b("MediaManagerInboxPriorityTabPaginationList_viewer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.viewer)!=null?a.inbox_priority_rows:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=a.page_id;a=a.row_type;var d=b.count;b=b.cursor;return{count:d,cursor:b,page_id:c,row_type:a}},query:h!==void 0?h:h=b("MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql")})}),null);
__d("MediaManagerInboxPriorityTabListContainer.react",["ErrorBoundary.react","FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityTabPaginationList.react","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","React","RelayFBEnvironment","RelayModern","emptyFunction","MediaManagerInboxPriorityTabListContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{folder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("emptyFunction"),children:b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("MediaManagerInboxPriorityTabListContainerQuery.graphql"),render:function(c){var d=c.error;c=c.props;if(c&&!d){d=!d&&c&&c.viewer?c.viewer:null;return b("React").jsx(b("MediaManagerInboxPriorityTabPaginationList.react"),{folder:a.state.folder,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,viewer:d})}return b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{page_id:this.props.pageID,row_type:b("MediaManagerInboxCustomTabUtils").getPriorityTabGraphQLFilter(this.state.folder)}})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxCustomTabMessageList.react",["MediaManagerInboxFBCommsTabListContainer.react","MediaManagerInboxPriorityTabListContainer.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.tab){case"MEDIA_MANAGER_PRIORITY":return b("React").jsx(b("MediaManagerInboxPriorityTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});case"MEDIA_MANAGER_FB_COMMS":return b("React").jsx(b("MediaManagerInboxFBCommsTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});default:return null}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderAutomatedCheckoutNUX.react",["fbt","BusinessToolsMegaphoneNUX.react","MessengerAdsConversionFunnelTypedLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","SavedResponsesUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="business_inbox_automated_checkout",i="create",j="dismiss";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNUX:d.$1()},d.$4=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_click").setConversionType("BUYER_INFORMATION").setEventSubtype(j).setPageID(d.props.pageID).log(),d.$3()},d.$5=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_click").setConversionType("BUYER_INFORMATION").setEventSubtype(i).setPageID(d.props.pageID).log(),b("SavedResponsesUtils").editAutomatedCheckout(),d.$3(),b("SavedResponsesUtils").editAutomatedCheckout()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&(new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_impression").setConversionType("BUYER_INFORMATION").setPageID(this.props.pageID).log(),b("PagesManagerInboxNUXAction").logView(this.$2()));return a};d.$2=function(){return b("PagesManagerInboxNUX")[h]};d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(this.$2()),this.setState({shouldShowNUX:!1})};d.render=function(){var a=g._("Gather Buyer Information Faster"),c=g._("Set up a sequence of questions to ask before someone makes a purchase."),d=g._("Create");return b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowNUX},"BusinessToolsMegaphoneNUX")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxList.react",["cssVar","MediaManagerInboxPriorityMessageRow.react","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxFilterStore","PagesManagerInboxListHeaderAutomatedCheckoutNUX.react","PagesManagerInboxListHeaderAutomatedFaqNux.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderInstagramDirectNux.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListRowContainer.react","PagesManagerInboxListSpinner.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListRowContainer.react","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesSelectableSimpleList.react","QuickPerformanceLogger","React","ResponsiveBlock.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.componentDidMount=function(){this.props.height!==0&&this.props.edges.length>0&&this.$1(),b("PagesMessagingInboxActionLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.$1=function(){if(this.props.loadEndEventLogged===!0||this.props.loadStartTime===void 0||this.props.loadStartTime===null||this.props.logLoadEndEvent===null)return;var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);this.props.filterType==="MESSENGER"&&(b("QuickPerformanceLogger").annotateMarkerString(36241413,"page_id",this.props.pageID),b("QuickPerformanceLogger").markerEnd(36241413,2),a.setEventName("threadlist_render_complete").setPlatform("MESSENGER").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent());this.props.filterType==="FACEBOOK"&&(a.setEventName("comment_list_render_complete_event").setPlatform("FACEBOOK").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent())};d.$2=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$3=function(){return b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$2,children:b("React").jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.props.edges.length?b("React").jsxs("div",{children:[this.$3(),b("React").jsxs(b("ResponsiveBlock.react"),{onResize:this.$2,children:[b("React").jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderInstagramDirectNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomatedFaqNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomatedCheckoutNUX.react"),{pageID:this.props.pageID})]}),b("React").jsx(h,{classProps:this.props,edges:this.props.edges,hasMore:this.props.hasMore,scrollHeight:a})]}):b("React").jsxs("div",{style:{height:a,backgroundColor:"#FFFFFF"},children:[this.$3(),this.props.emptyState]})};return c}(b("React").PureComponent);function h(a){var c=a.edges;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"&&(c=c.filter(function(a){return a.is_page_follow_up===!0}));return b("React").jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:a.hasMore,height:a.scrollHeight,loadingIndicator:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:i(a.classProps.onLoadMore),rowCount:c.length,rowHeight:parseInt("80px",10),rowKeyGetter:j(c),rowRenderer:k(c,a.classProps),showHeader:!1})}function i(a){return b("debounce")(function(){return a()},100)}function j(a){return function(c,d,e){d===void 0;return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?a[c].thread_id:a[c].node.id}}function k(a,c){var d=c.pageID,e=c.filterType,f=c.isCreatorStudioPriorityFilter;return function(c,g,h){return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?e==="MESSENGER"&&f&&b("MediaManagerUtils").isMediaManagerApp()?b("React").jsx(b("MediaManagerInboxPriorityMessageRow.react"),{edges:a,pageID:d,rowIndex:c}):b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:e,item:a[c],pageID:d,rowIndex:c,shouldAnimate:!1},a[c].id):b("React").jsx(b("PagesManagerInboxListRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,shouldAnimate:!1},a[c].node.id)}}e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageUserList",["PageCommItemFolder","PagesManagerAction","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c=b("PagesManagerStore").getViewingListItem();if(c==null&&a.users.length>0){c=a.users[0];c!=null&&b("PagesManagerAction").viewListItem(c)}c=a.users.map(function(a){return{id:a}});return a.isLoading?b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.height}):b("React").jsx(b("PagesManagerInboxList.react"),{edges:c,emptyState:b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.folder,pageID:a.pageID,platform:"MESSENGER",showNewFolder:a.shouldShowNewMessengerFolder}),filterType:"MESSENGER",hasMore:!1,height:a.height,isCreatorStudioPriorityFilter:a.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:a.paddingBottom,pageID:a.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+a.folder)};e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageListContainer.react",["CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxPriorityMessageUserList","PagesManagerInboxFilterStore","PagesManagerInboxListEmptyState.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxFilterStore").getActiveFolder(),d=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserIDs(a.pageID),e=b("CreatorStudioInboxMessengerRankedUsersStore").isLoading();return{folder:c,isLoading:e,shouldShowNewMessengerFolder:a.inboxRedesignConfig.shouldShowNewMessengerFolder,shouldShowRankedUserList:a.fbMessengerState!=="DISABLED",users:d}};var d=c.prototype;d.render=function(){return!this.state.shouldShowRankedUserList?b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.state.folder,pageID:this.props.pageID,platform:"MESSENGER",showNewFolder:this.state.shouldShowNewMessengerFolder}):b("React").jsx(b("MediaManagerInboxPriorityMessageUserList"),{folder:this.state.folder,height:this.props.height,isLoading:this.state.isLoading,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowNewMessengerFolder:this.state.shouldShowNewMessengerFolder,users:this.state.users})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PageCommPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FACEBOOK:"FACEBOOK",MESSENGER:"MESSENGER",INSTAGRAM:"INSTAGRAM",INSTAGRAM_DIRECT:"INSTAGRAM_DIRECT",WEC:"WEC",ALL:"ALL",GROUP:"GROUP",MEDIA_MANAGER_FB_COMMS:"MEDIA_MANAGER_FB_COMMS",MEDIA_MANAGER_PRIORITY:"MEDIA_MANAGER_PRIORITY"})}),null);
__d("PagesManagerInboxSearchResultListRow.react",["BulkActionsContext","BulkSelectionThreadAction","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxFilterAction","PagesManagerInboxListRow.react","PagesManagerInboxMercuryUtil","PagesManagerInboxProfilePicContainer.react","PagesMessagingInboxActionLogger","React","RelayModern","nullthrows","PagesManagerInboxSearchResultListRow_customerComm.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.context.selectedThreads;c=a?[b("BulkSelectionThreadAction").SELECT,c.length]:[b("BulkSelectionThreadAction").UNSELECT,c.length-1];var e=c[0];c=c[1];b("PagesManagerBulkActionLogger").logThreadCheckboxSelect({event_data:{thread_index:c,thread_action:e}});b("PagesManagerAction").handleThreadSelectionChange(d.props.customerComm.target_id||"",a)},d.$3=function(){var a;b("PagesManagerInboxFilterAction").changePlatform(d.props.platform);b("PagesMessagingInboxActionLogger").logSearchResultOpened(d.props.platform,"CUSTOMER",(a=d.$2())!=null?a:"");b("PagesManagerAction").viewListItem(d.$2())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d,e,f=this.context,g=f.showBulkSelection;f=f.selectedThreads;e=b("nullthrows")((e=this.props)!=null?(e=e.customerComm)!=null?e.comm_title:e:e);d=Number((d=this.props)!=null?(d=d.customerComm)!=null?d.last_modified_at:d:d);c=b("nullthrows")((c=this.props)!=null?(c=c.customerComm)!=null?c.snippet_with_entities:c:c);return b("React").jsx(b("PagesManagerInboxListRow.react"),{commPlatform:this.props.customerComm.comm_platform,commStatus:this.props.customerComm.comm_status,commType:this.props.customerComm.comm_type,hasPageReplied:this.props.hasPageReplied,isRead:!0,isViewing:this.$2()===this.props.viewingItem,item:this.props.customerComm,labels:this.props.labels,onViewingListItem:this.$3,pageID:this.props.pageID,profilePicElement:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:this.props.customerComm}),selectionConfig:{enabled:g,onSelectionToggle:this.$1,selected:!!f.find(function(b){return b===a.props.customerComm.target_id||""})},showActions:!1,snippetWithEntities:c,subtitle:null,timestampInMS:d*1e3,title:e})};d.$2=function(){if(this.props.customerComm.comm_type==="FB_MESSAGE"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var a;return(a=this.props)!=null?(a=a.customerComm)!=null?a.target_id:a:a}else{a=(a=this.props)!=null?(a=a.customerComm)!=null?(a=a.parent_item)!=null?a.id:a:a:a;return a!==null&&a!==void 0&&a!==""?a:(a=this.props)!=null?(a=a.customerComm)!=null?a.id:a:a}};return c}(b("React").PureComponent);c.contextType=b("BulkActionsContext");e.exports=a(c,{customerComm:g!==void 0?g:g=b("PagesManagerInboxSearchResultListRow_customerComm.graphql")})}),null);
__d("PagesManagerInboxSearchResultsFacebookList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql","PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(k,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.facebook_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return b("React").jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return b("React").jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"FACEBOOK",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?b("React").jsx("div",{className:"_7zk3",children:h._("FACEBOOK COMMENTS")}):b("React").jsx("div",{className:this.props.titleClassName,children:h._("Facebook Posts & Comments")})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(b("React").PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.facebook_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql")})}),null);
__d("IGDirectMessageThreadPreviewView.react",["ix","cx","fbt","Image.react","React","asset","cxMargin","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="HIGHLIGHT_STORY",k="REACTION",l="REPLY";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d,e=this.props.item.sender_id===this.props.igID;switch(this.props.item.ig_item_type){case"TEXT":return b("React").jsx("div",{children:e?b("React").jsxs("span",{children:[i._("You:")," ",(d=this.props.item)!=null?d.text:d]}):b("React").jsx("span",{children:(d=this.props.item)!=null?d.text:d})});case"LINK":d=b("nullthrows")((d=this.props)!=null?(d=d.item)!=null?(d=d.link_source)!=null?d.text:d:d:d);return b("React").jsx("div",{children:e?b("React").jsxs("span",{children:[i._("You:")," ",d]}):b("React").jsx("span",{children:d})});case"ANIMATED_MEDIA":return b("React").jsx("div",{children:e?i._("You shared a GIF."):i._("Shared a GIF.")});case"MEDIA":d=(d=this.props.item)!=null?(d=d.ig_thread_item_media)!=null?d.media_type:d:d;switch(d){case"IMAGE":return e?i._("You sent a photo"):i._("Sent a photo");case"VIDEO":return e?i._("You sent a video"):i._("Sent a video")}break;case"MEDIA_SHARE":return e?i._("You sent a post"):i._("Sent a post");case"STORY_SHARE":d=(d=this.props.item)!=null?(d=d.share)!=null?d.story_type:d:d;c=(c=this.props.item)!=null?(c=c.share)!=null?(c=c.user)!=null?c.username:c:c:c;a=(a=this.props.item)!=null?(a=a.share)!=null?a.title:a:a;if(c===null)return a;if(d==="USER_STORY"||d==="ADS_STORY")if(e)return i._("You sent {username}'s story",[i._param("username",c)]);else return i._("Sent {username}'s story",[i._param("username",c)]);if(e)return i._("You sent {username}'s story highlight",[i._param("username",c)]);else return i._("Sent {username}'s story highlight",[i._param("username",c)]);case"FELIX_SHARE":if(e)return i._("You shared an IGTV video");else return i._("Shared an IGTV video");case"RAVEN_MEDIA":d=(a=this.props.item)!=null?(a=a.raven_media)!=null?a.media_type:a:a;switch(d){case"IMAGE":return e?i._("You sent a photo"):i._("Sent a photo");case"VIDEO":return e?i._("You sent a video"):i._("Sent a video")}break;case"PROFILE":return b("React").jsx("div",{children:e?b("React").jsxs("span",{children:[i._("You:")," ","@",(c=this.props.item)!=null?(c=c.profileshare)!=null?(c=c.user)!=null?c.username:c:c:c]}):b("React").jsxs("span",{children:["@",(a=this.props.item)!=null?(a=a.profileshare)!=null?(a=a.user)!=null?a.username:a:a:a]})});case"LIKE":return e?b("React").jsxs("div",{className:"_76uz",children:[i._("You:"),b("React").jsx(b("Image.react"),{className:"_3-99",src:g("562747")})]}):b("React").jsx(b("Image.react"),{src:g("562747")});case"ACTION_LOG":return(d=this.props.item)!=null?(d=d.action_log)!=null?d.description:d:d;case"REEL_SHARE":a=(c=this.props)!=null?(c=c.item)!=null?(c=c.share)!=null?c.type:c:c:c;c=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.story_type:d:d:d;if(e){if(a===l)return c===j?i._("You replied to their story highlight"):i._("You replied to their story");if(a===k){d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.text:d:d:d;return c===j?i._("You reacted to their story highlight: {reaction}",[i._param("reaction",d)]):i._("You reacted to their story: {reaction}",[i._param("reaction",d)])}d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?(d=d.user)!=null?d.username:d:d:d:d;return i._("Mentioned {username} in your story",[i._param("username",d)])}else{d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?(d=d.user)!=null?d.instagram_user_id:d:d:d:d;if(a===l){if(d===this.props.igID)return c===j?i._("Replied to your story highlight"):i._("Replied to your story")}else if(a===k){a=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.text:d:d:d;return c===j?i._("Reacted to your story highlight: {reaction}",[i._param("reaction",a)]):i._("Reacted to your story: {reaction}",[i._param("reaction",a)])}else return i._("Mentioned you in their story")}break;case"VOICE_MEDIA":return e?i._("You sent a voice message"):i._("Sent a voice message")}return e?i._("You sent a message"):i._("Sent a message")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("IGDirectMessageThreadPreviewContainer.react",["FluxContainer","IGDirectMessageThreadPreviewView.react","IGMessageInboxStore","PagesManagerInboxListSpinner.react","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThreadItem(c.mailboxID,c.token);c=b("IGMessageInboxStore").getInboxIGID();return{item:a,igID:c}};var d=c.prototype;d.render=function(){var a=this.state.item.getValue();return!a?b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}):b("React").jsx(b("IGDirectMessageThreadPreviewView.react"),{igID:b("nullthrows")(this.state.igID),item:a,participants:this.props.participants})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UnifiedInboxIGMessageThreadRowView.react",["IGDirectMessageGroupProfilePic.react","IGDirectMessageThreadPreviewContainer.react","IGMessageInboxStore","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxStore","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d,e,f="INSTAGRAM_DIRECT",g="IG_MESSAGE";e=(e=(e=this.props.thread)!=null?(e=e.thread_users)!=null?(e=e.nodes)!=null?e.length:e:e:e)!=null?e:0;d=(d=(d=this.props.thread)!=null?d.is_group:d)!=null?d:!1;var h=[],i=null,j=null;if(e>=2){var k;j=(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[1])!=null?(k=k.profile_picture)!=null?k.uri:k:k:k:k:k;i=this.props.thread.thread_title}else{j=(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[0])!=null?(k=k.profile_picture)!=null?k.uri:k:k:k:k:k;i=(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[0])!=null?k.username:k:k:k:k}e=e>2?b("React").jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[j,(k=this.props.thread)!=null?(k=k.thread_users)!=null?(k=k.nodes)!=null?(k=k[2])!=null?(k=k.profile_picture)!=null?k.uri:k:k:k:k:k]}):null;k=b("nullthrows")(this.props.thread.last_activity_at);k=parseInt(k.slice(0,k.length-3),10);var l="";c=(c=this.props.thread)!=null?(c=c.thread_users)!=null?c.nodes:c:c;a=(a=this.props.thread)!=null?(a=a.thread_items)!=null?(a=a.nodes)!=null?(a=a[0])!=null?a.token:a:a:a:a;if(c!==null&&c!==void 0&&a!==null&&a!==void 0){l=b("React").jsx(b("IGDirectMessageThreadPreviewContainer.react"),{mailboxID:this.props.mailboxID,participants:c,token:a});if(d===!1&&!this.props.labels&&((c=this.props.thread)==null?void 0:(a=c.thread_labels)==null?void 0:a.nodes)!=null&&((d=this.props.thread)==null?void 0:(c=d.thread_labels)==null?void 0:c.nodes.length)!==0){c=((a=this.props.thread)==null?void 0:(d=a.thread_labels)==null?void 0:d.nodes)||[];h=c.map(function(a){var b=a.id,c=a.label_color;a=a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})}}a=!1;d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d==null)a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewIGDirectFolder;else{a=Boolean((c=d.inboxRedesignConfig)==null?void 0:c.shouldShowNewIGDirectFolder)}return b("React").jsx(b("PagesManagerInboxListRow.react"),{activeFolder:b("PageCommItemFolder").TODO,commPlatform:f,commStatus:b("PageCommItemStatus").TODO,commType:g,isRead:!b("IGMessageInboxStore").isThreadUnread(this.props.mailboxID,this.props.thread),isViewing:this.props.isViewing,item:this.props.thread,labels:this.props.labels?this.props.labels:h,onViewingListItem:this.props.onViewingListItem,pageID:this.props.mailboxID,profilePicElement:b("React").jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:f,commType:g,imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:j,profileElement:e,showPlaceholder:!0,showPlatformBadge:!0}),shouldAnimate:!1,showActions:a,snippetElement:l,subtitle:null,timestampInMS:k,titleElement:i},this.props.thread.token)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UnifiedInboxIGMessageThreadRowContainer.react",["FluxContainer","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxListSpinner.react","React","UnifiedInboxIGMessageThreadRowView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onClick&&d.props.onClick(d.props.token);b("PagesManagerInboxFilterAction").changePlatform("INSTAGRAM_DIRECT");var a=d.state.thread.getValue();b("PagesManagerAction").viewListItem(d.props.token);if(!a||a.is_read===!0)return;b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.token,!0);a=b("IGMessageServerActions").getForFBID(d.props.mailboxID);a.updateThreadStatus(d.props.token,null,null,!0)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThread(c.mailboxID,c.token,1,null,Boolean(c.fetchFromUser));return{thread:a}};var d=c.prototype;d.render=function(){var a=this.state.thread.getValue();return!a?b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}):b("React").jsx(b("UnifiedInboxIGMessageThreadRowView.react"),{isViewing:this.props.isViewing,labels:this.props.labels,mailboxID:this.props.mailboxID,onViewingListItem:this.$1,thread:a})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSearchResultsInstagramDirectList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesMessagingInboxActionLogger","React","RelayModern","UnifiedInboxIGMessageThreadRowContainer.react","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(k,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.useNewLabelSearch===!0?null:b("React").jsx("div",{className:"_7zk3",children:h._("INSTAGRAM DIRECT MESSAGES")})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.$4=function(a){b("PagesMessagingInboxActionLogger").logSearchResultOpened("INSTAGRAM_DIRECT","CUSTOMER",a)};d.render=function(){__p&&__p();var a=this,c,d;d=((d=(d=this.props.pageCustomer)!=null?(d=d.instagram_direct_comms)!=null?d.edges:d:d)!=null?d:[]).filter(function(a){return a.node!==null});if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return b("React").jsxs("div",{children:[this.$1(),d.map(function(c){var d;c=c.node;d=(d=c)!=null?d.token:d;return c===null||d===null?null:b("React").jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:!1,labels:a.props.labels,mailboxID:e,onClick:a.$4,token:(c=d)!=null?c:""},d)}),this.$2()]})};return c}(b("React").PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_direct_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxSearchResultsInstagramList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(k,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.instagram_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return b("React").jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return b("React").jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"INSTAGRAM",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?b("React").jsx("div",{className:"_7zk3",children:h._("INSTAGRAM COMMENTS")}):b("React").jsx("div",{className:this.props.titleClassName,children:h._("INSTAGRAM COMMENTS")})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(b("React").PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxListSearchResultsList.react",["cx","fbt","PagesManagerInboxMercuryUtil","PagesManagerInboxSearchResultListRow.react","PagesManagerInboxSearchResultsFacebookList.react","PagesManagerInboxSearchResultsInstagramDirectList.react","PagesManagerInboxSearchResultsInstagramList.react","React","RelayModern","nullthrows","PagesManagerInboxListSearchResultsList_pageCustomer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this,c,d;d=(d=this.props)!=null?(d=d.pageCustomer)!=null?(d=d.messenger_comms)!=null?d.edges:d:d:d;var e=(c=this.props)!=null?(c=c.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c:c;return!d||!d.length||e===null||e===void 0||e===""?null:b("React").jsxs("div",{children:[this.$2(),d.map(function(c){c=b("nullthrows")(c.node);var d=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c.target_id:c.id;return b("React").jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,hasPageReplied:a.$3(),labels:a.$4(),pageID:e,platform:"MESSENGER",viewingItem:a.props.viewingItem},d)})]})};d.$3=function(){var a;return!Boolean((a=this.props.pageCustomer.message_thread)==null?void 0:a.is_page_unresponded_thread)};d.$4=function(){var a;a=((a=this.props)!=null?(a=a.pageCustomer)!=null?(a=a.labels)!=null?a.edges:a:a:a)||[];return!a||a.length===0?[]:a.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.label_color;a=(a=a.node)==null?void 0:a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})};d.$2=function(){if(this.props.useNewLabelSearch===!0)return null;return this.props.isLabelSearch?b("React").jsx("div",{className:"_7zk3",children:h._("MESSAGES")}):b("React").jsx("div",{className:this.$5(),children:h._("MESSENGER CONVERSATIONS")})};d.$5=function(){return"_3-69"};d.$6=function(){return b("React").jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,labels:this.$4(),pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})};d.render=function(){return this.props.useNewLabelSearch===!0?b("React").jsxs("div",{children:[this.$1(),this.$6()]}):b("React").jsxs("div",{children:[this.$1(),b("React").jsx(b("PagesManagerInboxSearchResultsFacebookList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),b("React").jsx(b("PagesManagerInboxSearchResultsInstagramList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),b("React").jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})]})};return c}(b("React").Component);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxListSearchResultsList_pageCustomer.graphql")})}),null);
__d("PagesManagerInboxListSearchResults.react",["PagesManagerInboxListLoading.react","PagesManagerInboxListSearchResultsList.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxListSearchResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxListSearchResultsQuery.graphql"),variables:{pageCustomerID:this.props.pageCustomerID},render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PagesManagerInboxListSearchResultsList.react"),{isLabelSearch:a.props.isLabelSearch,pageCustomer:c.CrmUnifiedContact,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:a.props.viewingItem}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})}})};return c}(b("React").PureComponent);a.defaultProps={isLabelSearch:!1};e.exports=a}),null);
__d("PageManagerInboxLabelThreadSearchResults.react",["ix","cx","fbt","Image.react","OnVisible.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxListSpinner.react","React","RelayModern","asset","emptyFunction","PageManagerInboxLabelThreadSearchResults_searchResults.graphql","PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return b("React").jsxs("div",{className:"_7zl7","data-testid":"contentSearchSection_header",children:[b("React").jsx("div",{className:"_7zl8",children:b("React").jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.$2=function(){return!this.props.relay.hasMore()?null:b("React").jsx(b("OnVisible.react"),{onVisible:this.$3,children:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.render=function(){var a=this,c;c=((c=this.props)!=null?(c=c.searchResults)!=null?(c=c.results)!=null?c.edges:c:c:c)||[];c=c.map(function(a){return(a=a.node)==null?void 0:a.id});return c.length===0?this.$1():b("React").jsxs("div",{children:[c.map(function(c){return c==null?null:b("React").jsx(b("PagesManagerInboxListSearchResults.react"),{height:a.props.height,pageCustomerID:c,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:null},c)}),this.$2()]})};return c}(b("React").PureComponent);e.exports=a(c,{searchResults:j!==void 0?j:j=b("PageManagerInboxLabelThreadSearchResults_searchResults.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.searchResults)!=null?a.results:a:a},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,labels:{labels:a.labels.map(function(a){return a.getUniqueID()})}}},query:k!==void 0?k:k=b("PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxLabelThreadSearch.react",["PageManagerInboxLabelThreadSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxLabelThreadSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=20;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.error;a=a.props;return a&&!c?b("React").jsx(b("PageManagerInboxLabelThreadSearchResults.react"),{height:d.props.height,labels:d.props.labels,searchResults:a,useNewLabelSearch:!0}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.labels.map(function(a){return a.getUniqueID()});return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxLabelThreadSearchQuery.graphql"),render:this.$1,variables:{labels:{labels:a},count:h,cursor:null}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PageManagerInboxThreadContentSearchResults.react",["ix","cx","fbt","Image.react","PagesManagerInboxList.react","React","RelayModern","asset","nullthrows","PageManagerInboxThreadContentSearchResults_threadsSearch.graphql","PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){var a,b;c.props.relay.loadMore(l,{start:function(){return a=Date.now()},next:function(){a&&!b&&(b=Date.now()-a)}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return b("React").jsxs("div",{className:"_7zl7","data-testid":"contentSearchSection_header",children:[b("React").jsx("div",{className:"_7zl8",children:b("React").jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.render=function(){var a;a=b("nullthrows")((a=this.props)!=null?(a=a.threadsSearch)!=null?(a=a.results)!=null?a.edges:a:a:a);a=a.slice();return b("React").jsx(b("PagesManagerInboxList.react"),{edges:a,emptyState:this.$1(),filterType:"MESSENGER",hasMore:this.props.relay.hasMore(),height:this.props.height,onLoadMore:this.$2,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton})};return c}(b("React").PureComponent);e.exports=a(c,{threadsSearch:j!==void 0?j:j=b("PageManagerInboxThreadContentSearchResults_threadsSearch.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.threadsSearch)!=null?a.results:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,query_params:{query:a.searchTerm,search_type:"CONTENT"}}},query:k!==void 0?k:k=b("PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxThreadContentSearch.react",["PageManagerInboxThreadContentSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxThreadContentSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxThreadContentSearchQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?b("React").jsx(b("PageManagerInboxThreadContentSearchResults.react"),{filterType:a.props.filterType,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm,shouldShowPromoteButton:a.props.shouldShowPromoteButton,threadsSearch:c.threadsSearch}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{query_params:{query:this.props.searchTerm,search_type:"CONTENT"}}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWECAccountLinkingSendCodeMethod.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({SEND_CODE_VIA_VOICE:0,SEND_CODE_VIA_SMS:1})}),null);
__d("PagesManagerInboxWECAccountLinkingStep.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({ADD:"ADD",CONFIRM:"CONFIRM",FINISH:"FINISH"})}),null);
__d("XPagesManagerInboxWECAccountLinkingSetUpAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/setup_account/",{request_user_id:{type:"Int"},business_name:{type:"String"},country_code:{type:"String"},phone_number:{type:"String"},send_code_method:{type:"Enum",enumType:0}})}),null);
__d("XPagesManagerInboxWECAccountLinkingUpdateAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/update_account/",{request_user_id:{type:"Int"},page_wec_number_id:{type:"FBID"},is_public:{type:"Bool",defaultValue:!1}})}),null);
__d("XPagesManagerInboxWECAccountLinkingVerifyNumberController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/verify_number/",{account_status_id:{type:"FBID"},normalized_phone_number:{type:"String"},request_user_id:{type:"Int"},request_code:{type:"Int"}})}),null);
__d("PagesManagerInboxWECAccountLinkingDialog.react",["cx","fbt","AsyncRequest","DevappSwitchButton.react","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FlexLayout.react","PagesManagerInboxWECAccountLinkingSendCodeMethod.react","PagesManagerInboxWECAccountLinkingStep.react","PhoneCodeSelector.react","PhoneNumberValidator.react","React","SUIBusinessTheme","SUIText.react","XPagesManagerInboxWECAccountLinkingSetUpAccountController","XPagesManagerInboxWECAccountLinkingUpdateAccountController","XPagesManagerInboxWECAccountLinkingVerifyNumberController","XUIButton.react","XUIGrayText.react","XUIText.react","XUITextInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="WEC_connect_business",j="WEC_connect_dialog",k={accountStatusID:null,businessName:"",codeSent:!1,countryCode:"US",isPublic:!0,isShown:!1,isValidNumber:!1,phoneCode:"1",phoneError:null,phoneNumber:"",phoneNumberFormatted:"",step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD,verificationCode:"",normalized_phone_number:null,title:h._("Add a WEC Business Number to Inbox"),subTitle:h._("Make your business number a WEC Buisness number."),page_wec_number_id:null,error_message:null};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=k,d.$7=function(){d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD}})},d.$15=function(){d.setState(function(){return{isShown:!0}})},d.$16=function(){d.setState(function(){return k})},d.$4=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setEnum("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_SMS);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!0,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$5=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setInt("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_VOICE);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$2=function(){var a=b("XPagesManagerInboxWECAccountLinkingVerifyNumberController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("account_status_id",d.state.accountStatusID).setString("normalized_phone_number",d.state.normalized_phone_number).setInt("request_code",d.state.verificationCode);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success&&a.payload.page_wec_number_id?d.setState(function(){return{page_wec_number_id:a.payload.page_wec_number_id,step:b("PagesManagerInboxWECAccountLinkingStep.react").FINISH,title:h._("Success! WEC added to Inbox"),subTitle:h._("Your WEC messages will now appear in your inbox")}}):d.setState(function(){return{page_wec_number_id:null,error_message:a.payload.errorMsg}})}).send()},d.$3=function(){var a=b("XPagesManagerInboxWECAccountLinkingUpdateAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("page_wec_number_id",d.state.page_wec_number_id).setBool("is_public",d.state.isPublic);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success||d.setState(function(){return{error_message:a.payload.errorMsg}}),window.location.reload()}).send()},d.$11=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{businessName:b||""}})},d.$12=function(a,b){d.setState({phoneCode:a,countryCode:b})},d.$13=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{phoneNumber:b||""}})},d.$14=function(a){if(a!=null&&d.state.isShown){var b=a.status==="valid";b&&a.parsed&&a.parsed.internationalNumberWithPlus!==null&&a.parsed.internationalNumberWithPlus!==void 0&&a.parsed.internationalNumberWithPlus!==""?d.setState(function(){return{isValidNumber:!0,phoneError:null,phoneNumberFormatted:a.parsed.internationalNumberWithPlus||""}}):d.setState(function(a){return{isValidNumber:!1,phoneError:h._("Invalid phone number"),phoneNumberFormatted:""}})}},d.$8=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{verificationCode:b||""}})},d.$10=function(){d.setState(function(a){return{isPublic:!d.state.isPublic}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){__p&&__p();var a=null,c=null,d=null;switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:a=b("React").jsx(b("FDSButton.react"),{label:h._("Confirm"),onClick:this.$2,use:"primary"});c=b("React").jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:a=b("React").jsx(b("FDSButton.react"),{label:h._("Finish"),onClick:this.$3,use:"primary"});c=b("React").jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:default:d=b("React").jsx(b("SUIText.react"),{color:"secondary",theme:b("SUIBusinessTheme"),children:h._("If your number cannot receive texts we can call you with the verification code")}),a=b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Send Code"),onClick:this.$4,use:"primary"}),c=b("React").jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Call Me"),onClick:this.$5,use:"default"})}return b("React").jsx(b("FDSModalFooter.react"),{leftContent:d,primaryButton:a,secondaryButton:c})};d.$6=function(){switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:return b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",style:{fontSize:14},children:[b("React").jsx(b("FlexLayout.react"),{className:"_3-97",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Verify Your WEC Number")})}),b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_21op _3-8n",direction:"vertical",children:[b("React").jsx("div",{children:this.state.codeSent?h._("Enter the code in the message sent to"):h._("You should receive a call in 3 minutes to")}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_74oq",children:this.state.phoneNumberFormatted}),b("React").jsx(b("FDSLink.react"),{onClick:this.$7,showUnderline:"never",children:h._("Change")})]})]}),b("React").jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:b("React").jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$8,placeholder:h._("Enter 6 Digits Code"),value:this.state.verificationCode})}),b("React").jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:this.state.codeSent?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code Again")}),b("React").jsx("span",{className:"_3-8r",children:"|"}),b("React").jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Me")})]}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("span",{className:"_3-8_",children:h._("Did not receive call?")}),b("React").jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Again")}),b("React").jsx("span",{className:"_3-8r",children:"|"}),b("React").jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code")})]})})]});case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:return b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[b("React").jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[this.$9(h._("Company Name"),this.state.businessName),this.$9(h._("Country Code"),this.state.countryCode+"("+this.state.phoneCode+")"),this.$9(h._("Phone Number"),this.state.phoneNumberFormatted)]}),b("React").jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[b("React").jsx(b("FlexLayout.react"),{className:"_3-8p",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Make WEC Number Public")})}),b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_21op",justify:"all",children:[b("React").jsx("span",{children:h._("Your WEC number will be visible to visitors in the About section of your Page.")}),b("React").jsx(b("DevappSwitchButton.react"),{labels:"customized",noLabel:h._("No"),onChange:this.$10,yesLabel:h._("Yes")})]})]})]});case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:return b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[b("React").jsx(b("FlexLayout.react"),{className:"_3-97",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Enter your business information")})}),b("React").jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[b("React").jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Business Name")}),b("React").jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$11,placeholder:h._("Enter a name"),value:this.state.businessName})]}),b("React").jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[b("React").jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Country Code")}),b("React").jsx(b("PhoneCodeSelector.react"),{initialCountryCode:"US",onUpdate:this.$12,scrollToSelectedCountryCode:!1})]}),b("React").jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[b("React").jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Phone Number")}),b("React").jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$13,placeholder:h._("Enter a phone number"),value:this.state.phoneNumber,xuiError:this.state.phoneError})]}),b("React").jsx(b("PhoneNumberValidator.react"),{onChange:this.$14,phoneNumber:this.state.phoneNumber,regionCode:this.state.countryCode})]})}};d.$9=function(a,c){return b("React").jsxs(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"all",children:[b("React").jsx(b("XUIGrayText.react"),{shade:"light",size:"body2",children:a}),b("React").jsx(b("XUIText.react"),{children:c})]})};d.render=function(){var a;a=(a=b("React")).jsx(b("FDSModal.react"),{footer:this.$1(),header:a.jsx(b("FDSModalHeader.react"),{subtitle:this.state.subTitle,title:this.state.title}),"data-testid":j,isShown:this.state.isShown,onHide:this.$16,width:750,children:a.jsxs(b("FDSSection.react"),{children:[this.$6(),a.jsx("div",{className:"_74or",children:this.state.error_message!==null&&this.state.error_message!==void 0&&this.state.error_message!==""?this.state.error_message:null})]})});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("XUIButton.react"),{className:"_70ef","data-testid":i,label:h._("Connect WEC Business"),onClick:this.$15}),a]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWECAccountLinkingDialogContainer.react",["FluxContainer","PagesManagerInboxStore","PagesManagerInboxWECAccountLinkingDialog.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig()}};var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxWECAccountLinkingDialog.react"),{pageID:this.state.config.pageID})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxConnectionState.react",["cx","fbt","ix","Image.react","Link.react","PageLinkInstagramAccountOAuthLogin.react","PagesManagerInboxStore","PagesManagerInboxWECAccountLinkingDialogContainer.react","PagesMessagingInboxActionLogger","PopupWindow","PresenceAccountUtilities","React","URI","XPageLinkInstagramAccountOAuthController","XPagesManagerSettingsController","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=700,l=800,m="WEC_connection_state";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){__p&&__p();var a;switch(this.props.filterType){case"MESSENGER":a=i("94978");break;case"INSTAGRAM":case"INSTAGRAM_DIRECT":a=this.props.commentConnected?i("1162612"):i("94974");break;case"WEC":a=i("681049");break;default:return null}return this.props.commentConnected?b("React").jsx(b("Image.react"),{className:"_7hrl",src:a}):b("React").jsx(b("Image.react"),{className:"_2-xd",src:a})};d.$2=function(){switch(this.props.filterType){case"MESSENGER":return h._("Messages are turned off");case"INSTAGRAM":case"INSTAGRAM_DIRECT":return this.props.commentConnected?h._("Get Instagram Messages in Inbox"):h._("Connect an Instagram account");case"WEC":return h._("Connect a WEC Business account to your Inbox");default:return null}};d.$3=function(a){var c=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"}),d=b("React").jsx(b("Link.react"),{href:"https://www.facebook.com/help/2546917405323366",children:h._("Learn More")}),e=a?b("React").jsxs("div",{children:[h._("Connecting an Instagram account lets Page admins, editors and moderators manage comments and Direct messages in Inbox."),b("React").jsx("br",{}),b("React").jsx("br",{}),b("React").jsxs("div",{children:[h._("When you connect an Instagram account, other people who manage the Page may be able to post and take other actions on the connected Instagram account.")," ",d]})]}):b("React").jsxs("div",{children:[h._("Page admins or editors can connect an Instagram account to the Page, which lets Page admins, editors and moderators manage comments and direct messages in Inbox."),b("React").jsx("br",{}),b("React").jsx("br",{}),b("React").jsxs("div",{children:[h._("When you connect an Instagram account, other people who manage the Page may be able to post and take other actions on the connected Instagram account.")," ",d]})]});a=a?b("React").jsxs("div",{children:[h._("Reconnect your Instagram account to let Page admins, editors and moderators read and respond to Direct messages in Inbox.")," ",d]}):b("React").jsx("div",{children:h._("Page admins and editors can reconnect your Instagram account to let people who manage the Page respond to direct messages in Inbox.")});switch(this.props.filterType){case"MESSENGER":return h._("Turn on messages to let people and other Pages contact your Page directly.");case"INSTAGRAM":return c?e:h._("Manage Instagram comments in your Page's Inbox.");case"INSTAGRAM_DIRECT":return this.props.commentConnected?a:e;case"WEC":return h._("Manage WEC right in your Page's inbox. Write messages and reply without using your phone.");default:return null}};d.$4=function(){__p&&__p();var a=this,c,d;switch(this.props.filterType){case"MESSENGER":c=function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",a.props.pageToken).setString("tab","settings").setString("section","messages").getURI().go()};d=h._("Turn On Messages");break;case"INSTAGRAM":var e=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"});e?c=function(){b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(e);var a=new(j||(j=b("URI")))("https://api.instagram.com/oauth/authorize/"),c=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();a.addQueryData({redirect_uri:c,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(a.toString(),k,l)}:c=function(){b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(e),b("PresenceAccountUtilities").connectToAccountOfType(a.props.pageID,"instagram",{},function(a,b){})};d=h._("Connect Account");break;case"INSTAGRAM_DIRECT":c=function(){var c=new(j||(j=b("URI")))("https://api.instagram.com/oauth/authorize/"),d=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();c.addQueryData({redirect_uri:d,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(c.toString(),k,l);b("PagesMessagingInboxActionLogger").logConnectInstagramDirectButtonClicked((d=a.props.commentConnected)!=null?d:!1)};d=this.props.commentConnected?h._("Reconnect Account"):h._("Connect Account");break;case"WEC":return b("React").jsx(b("PagesManagerInboxWECAccountLinkingDialogContainer.react"),{});default:return null}return b("React").jsx(b("XUIButton.react"),{className:"_1-e5"+(this.props.filterType==="MESSENGER"?" _2ule":"")+(this.props.filterType==="INSTAGRAM"||this.props.filterType==="INSTAGRAM_DIRECT"&&!this.props.commentConnected?" _2ulf":"")+(this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.commentConnected?" _7j7v":""),label:d,onClick:c})};d.$5=function(){var a=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"});return this.props.filterType==="INSTAGRAM_DIRECT"||a&&this.props.filterType==="INSTAGRAM"?b("React").jsx(b("PageLinkInstagramAccountOAuthLogin.react"),{allowOverrideLink:!0,pageID:this.props.pageID,permissions:["manage_messages","manage_ads","manage_comments"]}):null};d.render=function(){if(this.props.filterType!=="MESSENGER"&&this.props.filterType!=="INSTAGRAM"&&this.props.filterType!=="INSTAGRAM_DIRECT"&&this.props.filterType!=="WEC")return null;var a=b("PagesManagerInboxStore").getConfig().showConnectButton===!0;if(this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.commentConnected){var c;return(c=b("React")).jsxs("div",{className:"_7hrk",children:[c.jsx("div",{children:this.$1()}),c.jsxs("div",{className:"_7hrm",children:[c.jsx("div",{className:"_7hrj",children:this.$2()}),c.jsx("div",{className:"_7hrn",children:this.$3(a)}),a?this.$4():null,this.$5()]})]})}return b("React").jsx("div",{className:"_7j7w",children:b("React").jsxs("div",{className:"_1-e2","data-testid":m,children:[this.$1(),b("React").jsxs("div",{className:"_1-e3"+(this.props.filterType==="MESSENGER"?" _2ulc":"")+(this.props.filterType==="INSTAGRAM"||this.props.filterType==="INSTAGRAM_DIRECT"?" _2uld":""),children:[b("React").jsx("div",{className:"_1-e4"+(this.props.filterType==="WEC"?" _7059":""),"data-testid":m,children:this.$2()}),b("React").jsx("div",{className:this.props.filterType==="WEC"?"_7059":"",children:this.$3(a)})]}),a?this.$4():null,this.$5()]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMangerInboxMultiAdminFilterUtil",[],(function(a,b,c,d,e,f){"use strict";var g="0";a={getIGDirectAdminID:function(a){return a==="NONE"?g:a}};e.exports=a}),null);
__d("PagesManagerInboxFilterStateView.react",["ix","cssVar","cx","fbt","IGMessageDataMutateAction","Image.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesMangerInboxMultiAdminFilterUtil","React","SUIBusinessThemeContainer.react","SUIToken.react","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemFolder").TODO,!1,!1,(a=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((a=d.props.filterOwner)==null?void 0:a.id))!=null?a:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(d.props.mailboxID,b("PageCommItemFolder").TODO)},d.$2=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a=d.props.filterFolder;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,null)}b("PagesManagerInboxFilterAction").changeOwner(d.props.mailboxID,null,null,null);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){switch(a){case b("PageCommItemFolder").FOLLOW_UP:return b("React").jsx(b("Image.react"),{className:"_885a",src:g("1002993")});case b("PageCommItemFolder").UNREAD:return b("React").jsx(b("Image.react"),{className:"_885a",src:g("795293")})}};d.render=function(){var a=this.props.filterFolder;return b("React").jsx("div",{className:"_8859",children:b("React").jsxs(b("SUIBusinessThemeContainer.react"),{children:[b("PageCommItemStatusUtil").getIsFilter(a)?b("React").jsx(b("SUIToken.react"),{icon:this.$3(a),label:b("PageCommItemStatusUtil").getLabel(a),onRemove:this.$1,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,this.props.filterOwner!=null&&this.props.filterOwner.name!=null?b("React").jsx(b("SUIToken.react"),{icon:b("React").jsx(b("Image.react"),{className:"_885j",src:((a=this.props.filterOwner)==null?void 0:a.photoURL)!=null?(a=this.props.filterOwner)==null?void 0:a.photoURL:null}),label:((a=this.props.filterOwner)==null?void 0:a.name)!=null?(a=this.props.filterOwner)==null?void 0:a.name:null,onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,((a=this.props.filterOwner)==null?void 0:a.id)==="NONE"?b("React").jsx(b("SUIToken.react"),{icon:b("React").jsx(b("Image.react"),{className:"_885a",src:g("1166631")}),label:j._("Unassigned Conversations"),onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListRelayContainer.react",["MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommPlatform","PagesManagerAction","PagesManagerInboxActionType","PagesManagerInboxConnectionState.react","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxListRelayContainer_page.graphql","PagesManagerInboxListRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var i=20;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d){__p&&__p();var e;e=a.call(this)||this;e.$1=function(){__p&&__p();var a,c,d=i,f={},g=function(d){if(a){var f;f=(f=e.props)!=null?(f=f.page)!=null?(f=f.business_comm_items)!=null?(f=f.edges)!=null?f.length:f:f:f:f;f=b("PagesManagerInboxLogger").create(b("PagesManagerInboxActionType").LIST.MORE_LOADED).setItemsCount(f).setLoadTime(Date.now()-a).setUsesStreamingPagination(!1).setHadError(!!d);c&&f.setFirstPayloadTime(c);d&&b("PagesManagerInboxLogger").logErrorJS(d,"PagesManagerInboxListRelayContainer.react");f.log()}};e.props.relay.loadMore(d,{start:function(){return a=Date.now()},next:function(){a&&!c&&(c=Date.now()-a)},complete:g,error:g},f)};e.state={sortedList:c.getSortedList(d)};return e}var d=c.prototype;d.$2=function(a){var c,d;d=(d=a)!=null?(d=d.business_comm_items)!=null?(d=d.edges)!=null?(d=d[0])!=null?(d=d.node)!=null?d.id:d:d:d:d:d;if(this.props.folder===b("PageCommItemFolder").PRIORITY&&((c=a.business_comm_items)==null?void 0:(c=c.edges[0])==null?void 0:(c=c.node)==null?void 0:c.__typename)==="PageCommItemPart"){d=(c=a.business_comm_items)==null?void 0:(a=c.edges[0])==null?void 0:(c=a.node)==null?void 0:(a=c.parent_item)==null?void 0:a.id}d?(b("MediaManagerUtils").isMediaManagerApp()&&b("MediaManagerInboxLoggerActions").logListRowIndex(0),b("PagesManagerAction").viewListItem(d)):b("PagesManagerAction").clearViewListItem()};d.componentDidMount=function(){this.$2(this.props.page),b("PagesManagerInboxLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.UNSAFE_componentWillReceiveProps=function(a){a.page&&a.page.business_comm_items&&a.page.business_comm_items.edges&&this.setState({sortedList:c.getSortedList(a)})};c.getSortedList=function(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.business_comm_items)!=null?a.edges:a:a:a;if(!a)return[];a=a.filter(function(a){return!!a});return a.concat().sort(function(a,b){return a.node.last_modified_at>b.node.last_modified_at?-1:1})};d.$3=function(){var a=this.props.page;if(!a)return!1;switch(this.props.filterType){case"MESSENGER":return a.comms_hub_config&&a.comms_hub_config.fb_messenger_state!=="DISABLED";case"INSTAGRAM":return a.ig_presence_account_info&&a.ig_presence_account_info.settings_webview_url;default:return!0}};d.$4=function(){return this.props.filterType==="INSTAGRAM"||this.props.filterType==="MESSENGER"||this.props.filterType==="INSTAGRAM_DIRECT"};d.$5=function(){if(!this.$3()&&this.$4())return b("React").jsx(b("PagesManagerInboxConnectionState.react"),{filterType:this.props.filterType,pageID:this.props.pageID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken});else return b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:this.props.filterType,showNewFolder:this.props.showNewFolder})};d.render=function(){var a="list"+this.props.folder+this.props.filterType;return b("React").jsx(b("PagesManagerInboxList.react"),{edges:this.state.sortedList,emptyState:this.$5(),filterType:this.props.filterType,hasMore:this.props.relay.hasMore(),height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,onLoadMore:this.$1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton},a)};return c}(b("React").Component);e.exports=a(c,{page:g!==void 0?g:g=b("PagesManagerInboxListRelayContainer_page.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.page)!=null?a.business_comm_items:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,filterStatus:a.filterStatus,pageID:a.page.id,platformFilter:a.filterType,isHighlightedComment:a.isHighlightedComment}},query:h!==void 0?h:h=b("PagesManagerInboxListRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxMessageListContainer.react",["FluxContainer","MediaManagerInboxLoggerActions","MediaManagerUtils","MercuryThreadInformer","MercuryThreadlistConstants","PagesManagerAction","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterStore","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListLoading.react","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","SubscriptionsHandler","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var c=a.fbMessengerState==="DISABLED",d=null,e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){d=(e=e.pageConfig)==null?void 0:e.uriToken}else d=b("PagesManagerInboxStore").getConfig().uriToken;if((c||a.filterType==="WEC"&&!a.wecConnected)&&d!=null)return b("React").jsx(b("PagesManagerInboxConnectionState.react"),{commentConnected:a.commentConnected,filterType:a.filterType,pageID:a.pageID,pageToken:d});else return b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.folder,pageID:a.pageID,platform:"MESSENGER",showNewFolder:!0})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("PagesManagerMessagingThreadlistAction").fetchThreadlist(d.props.pageID,d.state.offset,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){__p&&__p();a=!1;var d=!1,e=null,f=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(f!=null){var g;d=f.wecConfig!=null&&f.wecConfig.accountRegistered;a=f.instagramConfig!=null&&Boolean((g=f.instagramDirectConfig)==null?void 0:g.canManageComments);e=(g=f.messengerConfig)==null?void 0:g.fbMessengerState}else d=!1,a=Boolean(b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.canManageComments),e=b("PagesManagerInboxStore").getConfig().fbMessengerState;f=e==="DISABLED";g=[];(c.filterType==="MESSENGER"&&!f||c.filterType==="WEC"&&d)&&(g=b("PagesManagerInboxListStore").getItemsForAdmin(c.pageID,c.commItemOwnerID));f=b("PagesManagerInboxFilterStore").getActiveFolder();c=b("PagesManagerInboxListStore").isLoading();c=g.length===0?c:!1;return{folder:f,initLoading:c,threadList:g,hasMore:b("PagesManagerInboxListStore").hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder()),offset:g.length,fbMessengerState:e!=null?e:"DISABLED",wecConnected:d,commentConnected:a}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("PagesManagerMessagingThreadlistAction").initThreadlist(this.props.pageID);var c=b("MercuryThreadInformer").getForFBID(this.props.pageID);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(c.subscribe("threadlist-updated",function(c,d){return b("PagesManagerMessagingThreadlistAction").updateThreadlist(a.props.pageID)}))};d.componentDidUpdate=function(){if(!this.state.initLoading){var a=b("PagesManagerStore").getViewingListItem();b("MediaManagerUtils").isMediaManagerApp()&&b("MediaManagerInboxLoggerActions").logListRowIndex(0);if(a===null||a===void 0){a=this.state.threadList&&this.state.threadList[0]&&this.state.threadList[0].thread_fbid;a!==null&&a!==void 0&&a!==""&&(b("PagesManagerAction").viewListItem(a),b("PagesManagerInboxLogger").logInitialListRendered(this.props.filterType,this.props.pageID))}}};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){return this.state.initLoading&&(this.props.commItemOwnerID===null||this.props.commItemOwnerID===void 0)?b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}):b("React").jsx(b("PagesManagerInboxList.react"),{edges:this.state.threadList,emptyState:b("React").jsx(g,babelHelpers["extends"]({},this.props,{commentConnected:this.state.commentConnected,fbMessengerState:this.state.fbMessengerState,folder:this.state.folder,wecConnected:this.state.wecConnected})),filterType:this.props.filterType,hasMore:this.state.hasMore,height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,onLoadMore:this.$2,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton},"list"+this.state.folder)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxMultiAdminSelector.react",["ix","cx","fbt","Image.react","PagesManagerAdminSearchSource","React","RelayModern","ScrollableArea.react","SearchableEntry","ShimButton.react","asset","nullthrows","PagesManagerInboxMultiAdminSelector_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k="ALL_CONVERSATIONS";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$1=new(b("PagesManagerAdminSearchSource"))();c.$2=[];return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$1.cacheData(a.nodes);this.$3(this.props.searchTerm)};d.UNSAFE_componentWillReceiveProps=function(a){a.searchTerm!==this.props.searchTerm&&this.$3(a.searchTerm)};d.render=function(){var a=this;return b("React").jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[this.$4(),this.$5(),this.$2.map(function(b){return a.$6(b,function(){return a.props.onSelected(b.getUniqueID(),b.getPhoto(),b.getTitle())})})]})};d.$4=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:k,title:i._("All Conversations"),photo:g("487563")}),function(){return a.props.onSelected(null)})};d.$5=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:"NONE",title:i._("Unassigned Conversations"),photo:g("664708")}),function(){return a.props.onSelected("NONE")})};d.$6=function(a,c){return b("React").jsx(b("ShimButton.react"),{className:"_dy9"+(a.getUniqueID()===this.props.selectedAdminID||!this.props.selectedAdminID&&a.getUniqueID()===k?" _dyc":""),onClick:c,children:b("React").jsxs("div",{className:"_dyh",children:[b("React").jsx("div",{className:"_dyj",children:b("React").jsx(b("Image.react"),{className:"_dyk"+(a.getUniqueID()!=="NONE"&&a.getUniqueID()!==k?" _7xt_":""),src:a.getPhoto()})}),b("React").jsx("div",{className:"_dyj",children:a.getTitle()})]})},"admin_"+b("nullthrows")(a.getTitle()))};d.$3=function(a){var b=this;this.$1.search(a,function(a){b.$2=a},{placeCurrentAdminOnTop:!0})};return c}(b("React").PureComponent);e.exports=a(c,{page:j!==void 0?j:j=b("PagesManagerInboxMultiAdminSelector_page.graphql")})}),null);
__d("PagesManagerInboxMultiAdminSelectorRoot.react",["CenteredContainer.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesManagerInboxMultiAdminSelector.react","PagesManagerInboxQueryRenderer.react","PagesMangerInboxMultiAdminFilterUtil","React","RelayModern","SUIPagesManagerTheme","SUISpinner.react","PagesManagerInboxMultiAdminSelectorRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c,e,f){f===void 0&&(f=!1);if(d.props.filterType==="INSTAGRAM_DIRECT"||d.props.shouldShowUnifiedThreadlist){var g=d.props.threadManagementStatus;b("IGMessageDataMutateAction").forceFetchInbox(d.props.pageID,20,b("PageCommItemStatusUtil").getIGDirectFolder(g),g===b("PageCommItemFolder").FOLLOW_UP,g===b("PageCommItemFolder").UNREAD,(g=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(a))!=null?g:null,f)}b("PagesManagerInboxFilterAction").changeOwner(d.props.pageID,a,c,e);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxMultiAdminSelectorRootQuery.graphql"),variables:{pageID:this.props.pageID},render:function(c){c.error;c=c.props;return c?b("React").jsx(b("PagesManagerInboxMultiAdminSelector.react"),babelHelpers["extends"]({height:a.props.height,onSelected:a.$1,searchTerm:a.props.searchTerm,selectedAdminID:a.props.selectedAdminID},c)):b("React").jsx("div",{style:{height:a.props.height},children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:b("React").jsx(b("SUISpinner.react"),{size:"small",theme:b("SUIPagesManagerTheme")})})})}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AssignedInstagramUserSerializedCryptoAuthTokenQuery",["RelayFBEnvironment","RelayModern","promiseDone","AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql");a=function(a,c){b("promiseDone")(h(b("RelayFBEnvironment"),i,{pageID:a}),function(a){c((a=a.page)==null?void 0:(a=a.admin_info)==null?void 0:a.assigned_instagram_user_serialized_crypto_auth_token)})};e.exports={getAssignedInstagramUserSerializedCryptoAuthToken:a}}),null);
__d("IGMessagingLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={generateOfflineThreadingID:function(a){a=a||Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return g(a.slice(-63))}};function g(a){__p&&__p();var b="";a=a;while(a!=="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}e.exports=a}),null);
__d("IGMqttChannel",["FacebookAppIDs","MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f){"use strict";b("MqttEnvInitializer").initialize();e.exports=new(b("MqttChannel"))({endpoint:(a=b("MqttWebConfig")).endpoint,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid,appId:b("FacebookAppIDs").PAGE_INBOX,initialSubscribedTopics:a.subscribedTopics,capabilities:a.capabilities,clientCapabilities:a.clientCapabilities,chatVisibility:!0})}),null);
__d("InstagramDirectDeltaHandler",["IGMessageDataMutateAction","IGMessageInboxStore","PagesCommsInboxTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="add",h="replace",i="remove",j=1,k=2,l=8;a={_convertToItemTypeEnum:function(a){__p&&__p();switch(a){case"text":return"TEXT";case"media":return"MEDIA";case"like":return"LIKE";case"voice_media":return"VOICE_MEDIA";case"raven_media":return"RAVEN_MEDIA";case"media_share":return"MEDIA_SHARE";case"story_share":return"STORY_SHARE";case"reel_share":return"REEL_SHARE";case"profile":return"PROFILE";case"felix_share":return"FELIX_SHARE";case"action_log":return"ACTION_LOG";case"placeholder":return"PLACEHOLDER";case"link":return"LINK";case"animated_media":return"ANIMATED_MEDIA";default:return"UNSUPPORTED"}},_getThreadIDFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="threads")return a[b+1];return""},_getIsMarkAsSeenFromPath:function(a){a=a.split("/");return a[a.length-1]==="has_seen"},_getUserIdFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="participants")return a[b+1];return""},_getBestVideoURLAndDimensions:function(a){__p&&__p();if(a===null||a===void 0||a.length===0)return null;var b=0,c=!1;for(var d=0;d<a.length;++d)if(a[d].width===480){c=!0;d===0?b=d:b=d-1;break}c===!1&&(b=a.length-1);return{uri:a[b].url,width:a[b].width,height:a[b].height}},_getBestImageURLAndDimensions:function(a){__p&&__p();if(a.candidates===null||a.candidates===void 0||a.candidates.length===0)return null;var b=!1;for(var c=0;c<a.candidates.length;++c)if(a.candidates[c].width===480)if(c===0)return{uri:a.candidates[c].url,width:a.candidates[c].width,height:a.candidates[c].height};else return{uri:a.candidates[c-1].url,width:a.candidates[c-1].width,height:a.candidates[c-1].height};if(b===!1)return{uri:a.candidates[a.candidates.length-1].url,width:a.candidates[a.candidates.length-1].width,height:a.candidates[a.candidates.length-1].height}},_getMediaTypeString:function(a){switch(a){case 1:return"IMAGE";case 2:return"VIDEO";default:return""}},_getRavenMediaViewMode:function(a){switch(a){case"replayable":return"REPLAYABLE";case"permanent":return"PERMANENT";case"once":return"VIEW_ONCE"}},_getMediaPayload:function(a){return a===null||a===void 0?null:{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at}},_getReactions:function(a,c,d){__p&&__p();if(a===null||a===void 0)return{likes_count:0};c=b("IGMessageInboxStore").getThread(c,d).getValue();if(c===null)return;var e=(d=c)!=null?(d=d.thread_users)!=null?d.nodes:d:d;if(e===null||e===void 0)return;c=a.likes.map(function(a){var b;return{instagram_user_id:a.sender_id.toString(),profile_picture:{uri:(b=e.find(function(b){return b.instagram_user_id===a.sender_id.toString()}))!=null?(b=b.profile_picture)!=null?b.uri:b:b}}});return{likes_count:a.likes_count,likes:c}},_getMediaShareMediaSource:function(a){switch(a.media_type){case j:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:null};case k:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}}},_getMediaShareSources:function(a){var b=this;switch(a.media_type){case j:case k:return[this._getMediaShareMediaSource(a)];case l:return a.carousel_media.map(function(a){return b._getMediaShareMediaSource(a)})}return[]},_getProfileSharePayload:function(a){var b=this,c=a.profile;if(c===null||c===void 0)return null;a=a.preview_medias===null||a.preview_medias===void 0?null:a.preview_medias.map(function(a){return b._getBestImageURLAndDimensions(a.image_versions2)});return{user:{instagram_user_id:c.pk,username:c.username,name:c.full_name,profile_picture:{uri:c.profile_pic_url}},media:a}},_getMediaSharePayload:function(a){return a===null||a===void 0?null:{user:{instagram_user_id:a.user.pk,username:a.user.username,name:a.user.full_name,profile_picture:{uri:a.user.profile_pic_url}},media:this._getMediaShareSources(a),text:(a=(a=a)!=null?(a=a.caption)!=null?a.text:a:a)!=null?a:""}},_getUserFromShare:function(a){return a===null||a===void 0?null:{instagram_user_id:a.pk.toString(),username:a.username,name:a.full_name,profile_picture:{uri:a.profile_pic_url}}},_getStoryMedia:function(a){return a===null||a===void 0?null:[{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at,media_owner:this._getUserFromShare(a.user)}]},__getFelixShareMedia:function(a){return a===null||a===void 0?null:[{media_type:a.media_type,image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}]},_getStoryType:function(a){switch(a){case"user_reel":return"USER_STORY";case"highlight_reel":return"HIGHLIGHT_STORY";case"ads_reel":return"ADS_STORY"}},_getStorySharePayload:function(a){if(a===null||a===void 0)return null;var b=this._getStoryMedia(a.media);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.media)!=null?b.user:b:b),story_type:this._getStoryType(a.reel_type),text:a.text,title:a.title,message:a.message}},_getFelixSharePayload:function(a){if(a===null||a===void 0)return null;var b=this.__getFelixShareMedia(a.video);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.video)!=null?b.user:b:b),text:a.text,title:a.video.title}},_getReelSharePayload:function(a){__p&&__p();var b;if(a===null||a===void 0)return null;var c=this._getStoryMedia(a.media),d;switch(a.type){case"mention":b=a.mentioned_user_id===a.reel_owner_id?(b=c)!=null?(b=b.media_owner)!=null?b.username:b:b:"";d={instagram_user_id:a.mentioned_user_id.toString(),username:b};break;case"reply":d=(b=c)!=null?(b=b[0])!=null?b.media_owner:b:b}return{media:c,user:d,story_type:this._getStoryType(a.reel_type),type:a.type.toUpperCase(),text:a.text,title:a.title,message:a.message}},_getSharePayload:function(a){switch(a.item_type){case"media_share":return this._getMediaSharePayload(a.media_share);case"story_share":return this._getStorySharePayload(a.story_share);case"reel_share":return this._getReelSharePayload(a.reel_share);case"felix_share":return this._getFelixSharePayload(a.felix_share)}},_getActionLogPayload:function(a){return a===null||a===void 0||a.hide_in_thread===1?null:{description:a.description,bold:a.bold}},_getLinkPayload:function(a){return a===null||a===void 0?null:{client_context:a.client_context,text:a.text,link_context:this._getLinkContext(a.link_context)}},_getLinkContext:function(a){return a===null||a==void 0?null:{link_url:a.link_url,link_title:a.link_title,link_summary:a.link_summary,link_image_url:a.link_image_url}},_getRavenMediaPayload:function(a){var b=a.raven_media;if(b===null||b===void 0)return null;var c=this._getRavenMediaViewMode(a.view_mode),d;c==="PERMANENT"&&(b.expiring_at=b.url_expire_at_secs,d=[this._getMediaPayload(b)]);return{media_type:this._getMediaTypeString(b.media_type),media:d,seen_user_ids:a.seen_user_ids,view_mode:c,seen_count:a.seen_count}},_getVisualMediaPayload:function(a){a=a.visual_media;if(a===null||a===void 0)return null;var b=this._getRavenMediaViewMode(a.view_mode),c=[];b==="PERMANENT"&&(a.expiring_at=a.url_expire_at_secs,c.push(this._getMediaPayload(a)));return{media_type:this._getMediaTypeString(a.media.media_type),media:c,seen_user_ids:a.seen_user_ids,view_mode:b,seen_count:a.seen_count}},_getPlaceholderPayload:function(a){return a===null||a===void 0?null:{title:a.title,message:a.message}},_getAnimatedMediaPayload:function(a){var b;return!a?null:{width:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.width:b:b:b)!=null?b:null,height:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.height:b:b:b)!=null?b:null,uri:(a=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.url:b:b:b)!=null?a:null}},_getVoiceMediaPayload:function(a){var b;return!a?null:{audio_src:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.audio_src:b:b:b,duration:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.duration:b:b:b}},getDeltaItem:function(a,b){return{token:a,item_id:b.item_id,sender_id:b.user_id.toString(),time_stamp:b.timestamp.toString(),ig_item_type:this._convertToItemTypeEnum(b.item_type),text:b.text,client_context:b.client_context,ig_placeholder:this._getPlaceholderPayload(b.placeholder),profileshare:this._getProfileSharePayload(b),ig_reaction:null,share:this._getSharePayload(b),action_log:this._getActionLogPayload(b.action_log),ig_thread_item_media:this._getMediaPayload(b.media),raven_media:this._getRavenMediaPayload(b)||this._getVisualMediaPayload(b),link_source:this._getLinkPayload(b.link),animated_media:this._getAnimatedMediaPayload(b.animated_media),voice_media:this._getVoiceMediaPayload(b.voice_media)}},processDeltaItem:function(a,c,d){__p&&__p();var e,f=d.value&&JSON.parse(d.value),j=this._getThreadIDFromPath(d.path);e=b("IGMessageInboxStore").getItemToken(a,j,(e=f==null?void 0:f.item_id)!=null?e:d==null?void 0:d.value);new(b("PagesCommsInboxTypedLogger"))().setFunnel("user_send_to_page").setCustomerID(j).setMessageID(e).setEvent("received_new_delta").setClientTime(Date.now()).setPageID(c).setMessagingPlatform("instagram_direct").log();switch(d.op){case g:var k=this.getDeltaItem(e,f);b("IGMessageDataMutateAction").createThreadItem(c,j,k);break;case h:if(this._getIsMarkAsSeenFromPath(d.path)){k=f.item_id;b("IGMessageDataMutateAction").markThreadAsSeen(c,j,k,f.timestamp.toString(),this._getUserIdFromPath(d.path));break}b("IGMessageDataMutateAction").updateThreadReadStatus(c,j,f.read_state===0);b("IGMessageDataMutateAction").updateThreadFollowUpStatus(c,j,f.thread_label===1);if(f.thread_id&&f.items&&f.items[0]){k=b("IGMessageInboxStore").getItemToken(a,f.thread_id,f.items[0].item_id);d=this.getDeltaItem(k,f.items[0]);b("IGMessageDataMutateAction").createThreadItem(c,j,d);break}a=this._getReactions(f.reactions,c,j);k=this._getRavenMediaPayload(f)||this._getVisualMediaPayload(f);b("IGMessageDataMutateAction").updateThreadItem(c,j,e,{ig_reaction:a,raven_media:k});break;case i:if(j&&!f){b("IGMessageDataMutateAction").deleteThread(c,j);break}b("IGMessageDataMutateAction").deleteThreadItem(c,j,e);break;default:return}}};e.exports=a}),null);
__d("PageInstagramDirectSyncProtocolEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MQTT_CONNECTED:"mqtt_connected",MQTT_ERROR_RECEIVED:"mqtt_error_received",AUTH_TOKEN_FETCHED:"auth_token_fetched",IRIS_CONNECTION_REQUEST:"iris_connection_request",IRIS_SUBSCRIPTION_PUBLISHED:"iris_subscription_published",IRIS_SUBSCRIPTION_RESPONSE_EMPTY:"iris_subscription_response_empty",IRIS_SUBSCRIPTION_RESPONSE_RECEIVED:"iris_subscription_response_received"})}),null);
__d("InstagramDirectMessageEventStream",["AssignedInstagramUserSerializedCryptoAuthTokenQuery","IGMessageDataMutateAction","IGMessagingLocalIDs","IGMqttChannel","InstagramDirectDeltaHandler","MercurySingletonProvider","MercurySyncDeltaHolder","MqttLogger","PageInstagramDirectSyncProtocolEvent","PageInstagramDirectSyncProtocolTypedLogger","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery").getAssignedInstagramUserSerializedCryptoAuthToken;a=function(){__p&&__p();a.getForFBID=function(a){return h.getForFBID(a)};function a(a){__p&&__p();var c=this;this.$17=function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").AUTH_TOKEN_FETCHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log();a={seq_id:c.$5,snapshot_at_ms:c.$10!==null&&c.$10!==void 0?c.$10:Date.now(),subscription_type:"all_message",serialized_crypto_auth_token:a};c.$3.publish("/ig_sub_iris",JSON.stringify(a));new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_PUBLISHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log()};this.$4="Disconnected";this.$6=[];this.$2=b("MqttLogger").getInstance();this.$7=b("MercurySyncDeltaHolder").getForFBID(a);this.$5=0;this.$9=!1;this.$12=!1}var c=a.prototype;c.getLatestIrisSeqID=function(){return this.$5};c.addDeltaStreamListener=function(a){this.$6.push(a)};c.onInboxLoad=function(a,c,d,e,f,g){__p&&__p();var h=this;e===void 0&&(e=null);f===void 0&&(f=null);this.$5=a;this.$8=c;this.$1=d;this.$9=!1;this.$7.updateLastSeqIDAndClearHistory(a);this.$10=f;this.$12=g;(this.$3===null||this.$3===void 0)&&(this.$11=b("IGMessagingLocalIDs").generateOfflineThreadingID(Date.now()),this.$3=e||b("IGMqttChannel"),this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){h.$4!=="Connected"&&a==="Connected"&&(new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_CONNECTED).setPageID(h.$1).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$13()),h.$4=a},onJSError:function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_ERROR_RECEIVED).setPageID(h.$1).addToExtraData("error",a.message).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$14(a.message)}}),this.$3.subscribe("/ig_sub_iris_response",function(a){return h.$15(a)}),this.$3.subscribe("/ig_message_sync",function(a){return h.$16(a)}),this.$3.subscribe("/notify_disconnect",function(a){return h.$14(a)}))};c.$13=function(){if(this.$12){var a;a=(a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramDirectConfig)==null?void 0:a.chatToken;this.$17(a)}else g(this.$1,this.$17)};c.$18=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$2.logError(a,"Unable to process data")}return b};c.$15=function(a){a=this.$18(a);if(a===null||a===void 0){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_EMPTY).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log();return}new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_RECEIVED).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log()};c.$16=function(a){var b=this;a=this.$18(a);if(a===null||a===void 0)return;a.forEach(function(a){a.data.forEach(function(c){b.$7.push(a.seq_id,c),b.$19()})})};c.$19=function(){__p&&__p();if(this.$9)return;var a=this.$7.peek();if(a===null||a===void 0)return;a=a-this.$7.getLastSeqID();if(a===1){var c=this.$7.pop();if(!c)return;var d=c.seqID;c=c.delta;this.$5=d;this.$7.updateLastSeqID(d);b("InstagramDirectDeltaHandler").processDeltaItem(this.$8,this.$1,c);this.$19()}else a<=0?(this.$7.pop(),this.$19()):(this.$9=!0,b("IGMessageDataMutateAction").forceFetchInbox(this.$1,20,"TODO",!1,!1,null,this.$12))};c.$14=function(a){this.$4="Disconnected",this.$2.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),this.$2.bumpCounter(a+"_request"),this.$6.forEach(function(b){return b.onStreamDisconnect(a)})};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxUnifiedThreadlistStore1=null;c.$PagesManagerInboxUnifiedThreadlistStore2=!1;c.$PagesManagerInboxUnifiedThreadlistStore3=!1;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerActionType").LIST.SET_INSTAGRAM_INBOX:this.$PagesManagerInboxUnifiedThreadlistStore1=a.instagramInbox;this.__emitChange();break;case b("PagesManagerActionType").LIST.LOADING_INSTAGRAM_INBOX:this.$PagesManagerInboxUnifiedThreadlistStore2=a.isLoadingInbox;this.__emitChange();break;case b("PagesManagerActionType").LIST.SET_INSTAGRAM_LOADING_ERROR:this.$PagesManagerInboxUnifiedThreadlistStore3=a.hasError;this.__emitChange();break}return};d.getInstagramInbox=function(){return this.$PagesManagerInboxUnifiedThreadlistStore3?null:this.$PagesManagerInboxUnifiedThreadlistStore1};d.getIsLoadingInstagramInbox=function(){return this.$PagesManagerInboxUnifiedThreadlistStore3?!1:this.$PagesManagerInboxUnifiedThreadlistStore2};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","Link.react","PageCommItemFolder","PageLinkInstagramAccountOAuthLogin.react","PagesManagerInboxFilterAction","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMessagingInboxActionLogger","PopupWindow","React","URI","XPageLinkInstagramAccountOAuthController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=700,k=800,l="page_inbox_unified_thread_list_instagram_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},d.$4=function(){d.props.instagramCommentConnected?b("PagesMessagingInboxActionLogger").logConnectInstagramDirectButtonClicked(!0):b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(!0);var a=new(i||(i=b("URI")))("https://api.instagram.com/oauth/authorize/"),c=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();a.addQueryData({redirect_uri:c,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(a.toString(),j,k);d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(l);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[l]};d.render=function(){var a=this.props.instagramCommentConnected?g._("Manage Instagram Messages"):g._("Connect to Instagram"),c=b("React").jsx(b("Link.react"),{href:"https://www.facebook.com/help/2546917405323366",children:g._("Learn More")});c=this.props.instagramCommentConnected?b("React").jsxs("div",{children:[g._("Reconnect your Instagram account to let Page admins, editors and moderators read and respond to Direct messages in Inbox.")," ",c]}):b("React").jsxs("div",{children:[g._("Manage comments and Direct messages in Inbox. Other people who manage the Page also may be able to post and take other actions on the connected account.")," ",c]});var d=this.props.canShowConnectButton?this.props.instagramCommentConnected?g._("Reconnect"):g._("Connect"):null,e=this.props.instagramCommentConnected?h("895232"):h("1162612");return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:e,onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX"),b("React").jsx(b("PageLinkInstagramAccountOAuthLogin.react"),{allowOverrideLink:!0,pageID:this.props.pageID,permissions:["manage_messages","manage_ads","manage_comments"]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesEnableMessengerMutation","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="page_inbox_utl_enable_messenger_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},d.$4=function(){b("PagesEnableMessengerMutation").commit(d.props.pageID,!0,function(){d.$3(),location.reload()},function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",b("PagesManagerInboxStore").getConfig().uriToken).setString("tab","settings").setString("section","messages").getURI().go()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){var a=g._("Turn On Messenger"),c=g._("Get additional messaging features and give people another way to contact you."),d=g._("Turn On Messenger");return b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1162384"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="page_inbox_unified_thread_list_nux";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){var a=g._("New! One Tab for Messages"),c=g._("See Messenger and Instagram messages in one place. Filter messages by platform to view them separately."),d=g._("OK");return b("React").jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1162613"),onButtonClick:this.$3,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxMessageThreadListUtil",["IGMessageInboxStore","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getUnifiedThreadList:function(a,c,d,e,f,g){__p&&__p();c=c.filter(function(a){return d===b("PageCommItemFolder").FOLLOW_UP?a.is_page_follow_up===!0:!0}).map(function(a){return{platform:"MESSENGER",instagramThread:null,messengerThread:a,timestamp:a.timestamp+"000",threadID:(a=a.thread_fbid)!=null?a:""}});a=((a=a==null?void 0:a.nodes)!=null?a:[]).map(function(a){var b;return{platform:"INSTAGRAM_DIRECT",instagramThread:a,messengerThread:null,timestamp:(b=a.last_activity_at)!=null?b:"",threadID:(b=a.token)!=null?b:""}});var h=[];if(d===b("PageCommItemFolder").MESSENGER_THREADS)return c;else if(d===b("PageCommItemFolder").INSTAGRAM_THREADS)return a;h=c.concat(a);h.sort(function(a,c){return b("IGMessageInboxStore").largeNumberCompare(c.timestamp,a.timestamp)});(f||g)&&d!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d!==b("PageCommItemFolder").MESSENGER_THREADS&&h.splice(e);return h},getCanLoadMore:function(a,c,d){switch(a){case b("PageCommItemFolder").INSTAGRAM_THREADS:return d;case b("PageCommItemFolder").MESSENGER_THREADS:return c;default:return d||c}}};e.exports=a}),null);
__d("UnifiedInboxUnifiedThreadListView.react",["cssVar","ErrorBoundary.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterAction","PagesManagerInboxListEmptyState.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react","PagesManagerInboxListHeaderUnifiedThreadlistNUX.react","PagesManagerInboxListSpinner.react","PagesManagerInboxLogger","PagesManagerInboxMessageListRowContainer.react","PagesManagerInboxMessageThreadListUtil","PagesManagerInboxStore","PagesSelectableSimpleList.react","React","ResponsiveBlock.react","UnifiedInboxIGMessageThreadRowContainer.react","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return function(c){return b("nullthrows")(a[c].threadID)}}function i(a,c,d){return function(e,f,g){f=a[e];return f.platform==="MESSENGER"?b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:b("nullthrows")(f.messengerThread),pageID:c,shouldAnimate:!1},f.threadID)}):b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:d===f.threadID,mailboxID:c,token:f.threadID})})}}function j(a){var c=b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",d=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT,e=d.canManageComments;d=d.igAccountID===null;if(c&&d&&a.threadManagementStatus!==b("PageCommItemFolder").INSTAGRAM_THREADS||c&&a.threadManagementStatus===b("PageCommItemFolder").MESSENGER_THREADS)return b("React").jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:b("React").jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"MESSENGER",pageID:a.mailboxID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken})});return a.threadManagementStatus===b("PageCommItemFolder").INSTAGRAM_THREADS&&d?b("React").jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:b("React").jsx(b("PagesManagerInboxConnectionState.react"),{commentConnected:e,filterType:"INSTAGRAM_DIRECT",pageID:a.mailboxID,pageToken:""})}):b("React").jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.threadManagementStatus,pageID:a.mailboxID,platform:"MESSENGER",showNewFolder:!0})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={nodes:[],canLoadMore:!0},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,c){return{nodes:b("PagesManagerInboxMessageThreadListUtil").getUnifiedThreadList(a.instagramThreads,a.messengerThreads,a.folder,a.loadCount,a.messengerHasMore,a.instagramHasMore),canLoadMore:b("PagesManagerInboxMessageThreadListUtil").getCanLoadMore(a.folder,a.messengerHasMore,a.instagramHasMore)}};var d=c.prototype;d.componentDidUpdate=function(a,c){if(this.props.viewingItemToken===null){this.state.nodes.length>0&&(b("PagesManagerInboxFilterAction").changePlatform(this.state.nodes[0].platform),b("PagesManagerAction").viewListItem(this.state.nodes[0].threadID));return}};d.$1=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.render=function(){return this.state.nodes.length===0?b("React").jsx(j,{mailboxID:this.props.mailboxID,scrollHeight:this.props.scrollHeight,threadManagementStatus:this.props.threadManagementStatus}):b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!0}),b("React").jsxs(b("ResponsiveBlock.react"),{onResize:this.$1,children:[b("React").jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistNUX.react"),{pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react"),{canShowConnectButton:this.props.canShowConnectButton,instagramCommentConnected:this.props.igCommentConnected,pageID:this.props.pageID}),b("React").jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react"),{pageID:this.props.pageID})]}),b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:this.state.canLoadMore,height:this.props.scrollHeight,loadingIndicator:b("React").jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:this.props.onLoadMore,rowCount:this.state.nodes.length,rowHeight:parseInt("80px",10),rowKeyGetter:h(b("nullthrows")(this.state.nodes)),rowRenderer:i(b("nullthrows")(this.state.nodes),this.props.mailboxID,this.props.viewingItemToken),showHeader:!1})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UnifiedInboxUnifiedThreadlistContainer.react",["FluxContainer","IGMessageConnectionUtils","IGMessageInboxStore","MercuryThreadInformer","MercuryThreadlistConstants","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistAction","PagesManagerInboxUnifiedThreadlistStore","PagesManagerMessagingThreadlistAction","PagesMangerInboxMultiAdminFilterUtil","PagesMessagingPerfTypedLogger","React","SubscriptionsHandler","UnifiedInboxUnifiedThreadListView.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={instagramInbox:null,loadCount:0,messengerThreads:[],offset:0,messengerHasMore:!1,instagramHasMore:!1,shouldShowNewMultiAdminAssignment:!1,isInitLoading:!0},d.$1=!1,d.$2=null,d.$3=function(){d.state.instagramHasMore&&d.setState(function(a){a=a.loadCount+b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT;b("IGMessageInboxStore").getInbox(d.props.mailboxID,a,null,b("PageCommItemStatusUtil").getIGDirectFolder(d.props.threadManagementStatus),d.props.threadManagementStatus===b("PageCommItemFolder").FOLLOW_UP,d.props.threadManagementStatus===b("PageCommItemFolder").UNREAD,b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(d.props.commItemOwnerID));return{loadCount:a}}),d.state.messengerHasMore&&(d.props.messengerDisabled||b("PagesManagerMessagingThreadlistAction").fetchThreadlist(d.props.pageID,d.state.offset,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxUnifiedThreadlistStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){__p&&__p();var d;a=a?a.loadCount:b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT;var e=c.messengerDisabled?!1:b("PagesManagerInboxListStore").isLoading(),f=b("PagesManagerInboxUnifiedThreadlistStore").getIsLoadingInstagramInbox();c=c.messengerDisabled?[]:b("PagesManagerInboxListStore").getItemsForAdmin(c.pageID,c.commItemOwnerID);var g=b("PagesManagerInboxUnifiedThreadlistStore").getInstagramInbox();d=(d=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:d.instagramDirectConfig;if(g!=null&&(d==null?void 0:d.igAccountIGID)!=null){var h=d==null?void 0:d.igAccountID;d=d==null?void 0:d.mailboxID;h!=null&&d!=null&&b("IGMessageConnectionUtils").processInstagramMessageEventStream(h,d,g)}d=(g==null?void 0:(h=g.page_info)==null?void 0:h.has_next_page)===!0;h=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;return{instagramInbox:g,loadCount:a,messengerThreads:c,offset:c.length,messengerHasMore:b("PagesManagerInboxListStore").hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder()),instagramHasMore:d,shouldShowNewMultiAdminAssignment:h,isInitLoading:e&&c.length===0||f}};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$1=!0;b("PagesManagerMessagingThreadlistAction").initThreadlist(this.props.pageID);var c=b("MercuryThreadInformer").getForFBID(this.props.pageID);this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(c.subscribe("threadlist-updated",function(c,d){return b("PagesManagerMessagingThreadlistAction").updateThreadlist(a.props.pageID)}));b("PagesManagerInboxUnifiedThreadlistAction").setIsLoadingInbox(!0);b("IGMessageInboxStore").getInbox(this.props.mailboxID,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT,null,b("PageCommItemStatusUtil").getIGDirectFolder(this.props.threadManagementStatus),this.props.threadManagementStatus===b("PageCommItemFolder").FOLLOW_UP,this.props.threadManagementStatus===b("PageCommItemFolder").UNREAD,b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(this.props.commItemOwnerID));this.props.viewingItemToken!=null&&this.props.viewingItemToken!==""&&b("PagesManagerAction").viewListItem(this.props.viewingItemToken)};d.componentDidUpdate=function(a,c){c.isInitLoading&&!this.state.isInitLoading&&(this.props.loadEndEventLogged===!1&&this.props.loadStartTime!=null&&this.props.logLoadEndEvent!==null&&(new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setEventName("threadlist_render_complete").setPlatform("ALL").setPerfTime(Date.now()-this.props.loadStartTime).log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent()),b("PagesManagerInboxLogger").logInitialListRendered("ALL",this.props.pageID))};d.componentWillUnmount=function(){this.$2&&this.$2.release(),this.$1=!1};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.state.isInitLoading?b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}):b("React").jsx("div",{children:b("React").jsx(b("UnifiedInboxUnifiedThreadListView.react"),{canShowConnectButton:this.props.canShowConnectButton,folder:this.props.threadManagementStatus,igCommentConnected:this.props.igCommentConnected,instagramHasMore:this.state.instagramHasMore,instagramThreads:this.props.commItemOwnerID!=null&&this.state.shouldShowNewMultiAdminAssignment===!1?null:this.state.instagramInbox,loadCount:Math.max(this.state.offset,this.state.loadCount),mailboxID:this.props.mailboxID,messengerHasMore:this.state.messengerHasMore,messengerThreads:this.state.messengerThreads,onLoadMore:this.$3,pageID:this.props.pageID,scrollHeight:a,threadManagementStatus:this.props.threadManagementStatus,viewingItemToken:this.props.viewingItemToken})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxListFluxContainer.react",["cssVar","cx","fbt","BulkActionsContext","FluxContainer","Image.react","JSResource","MediaManagerInboxCustomTabMessageList.react","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityMessageListContainer.react","MediaManagerUtils","PageCommItemFolder","PageCommItemIsReadStatus","PageCommItemStatusUtil","PageCommPlatform","PageManagerInboxLabelThreadSearch.react","PageManagerInboxThreadContentSearch.react","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterStateView.react","PagesManagerInboxFilterStore","PagesManagerInboxListAction","PagesManagerInboxListLoading.react","PagesManagerInboxListRelayContainer.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListContainer.react","PagesManagerInboxMultiAdminSelectorRoot.react","PagesManagerInboxQueryRenderer.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerMessagingLogger","PagesManagerStore","PagesMessagingPerfTypedLogger","React","RelayModern","ResponsiveBlock.react","ScrollableArea.react","UnifiedInboxUnifiedThreadlistContainer.react","lazyLoadComponent","nullthrows","PagesManagerInboxListFluxContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MediaManagerUtils").isMediaManagerApp,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist;b("RelayModern").graphql;var m=47,n=b("lazyLoadComponent")(b("JSResource")("UnifiedInboxIGMessageListContainer.react").__setRef("PagesManagerInboxListFluxContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),d=b("PagesManagerInboxFilterStore").getActiveType(),e=d==="MESSENGER"||d==="INSTAGRAM_DIRECT"?b("PagesManagerInboxFilterStore").getActiveOwner():null,f=a.platformConfigs[d],g=d==="INSTAGRAM_DIRECT"?a.platformConfigs.MESSENGER.canManageComments:!1,h=b("PagesManagerInboxFilterStore").getActiveUTLFolder(),i=null;if(d==="INSTAGRAM_DIRECT"){i=c!=null?(d=c.instagramDirectConfig)==null?void 0:d.igAccountID:b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT.igAccountID}return{canShowConnectButton:b("PagesManagerInboxStore").getConfig().showConnectButton===!0,filterFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),filterOwner:e,filterType:b("PagesManagerInboxFilterStore").getActiveType(),isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),pageCustomerID:b("PagesManagerInboxFilterStore").getPageCustomerID(),igAccountID:i,pageID:a.pageID,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm(),searchType:b("PagesManagerInboxFilterStore").getSearchType(),viewingItem:b("PagesManagerStore").getViewingListItem(),activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),shouldShowPromoteButton:f.showPromoteButton,showNewFolder:b("PageCommItemStatusUtil").getFolderQECheck(),commentConnected:g,shouldUseUnifiedThreadlist:l(),bulkActionsContext:{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),showBulkSelection:b("PagesManagerInboxStore").shouldShowBulkActions()&&b("PagesManagerStore").isBulkSelectionMode()},messengerDisabled:b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",shouldShowIGDirectAutomatedResponse:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse,utlFolderType:h}};function c(b,c){return a.call(this,b)||this}var d=c.prototype;d.componentDidMount=function(){this.state.filterType==="MESSENGER"&&b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(this.props.mailboxID,null,this.state.filterType),(this.state.filterType==="MESSENGER"||this.state.filterType==="WEC"||this.state.filterType==="INSTAGRAM_DIRECT")&&(b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(this.props.mailboxID,b("PagesManagerInboxFilterStore").getActiveFolder(),"new_message_tab"),this.state.isSearchActive||new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.mailboxID).setEventName("threadlist_load_more").setThreadOffset(0).log())};d.$1=function(a,c){a&&!c?b("PagesManagerInboxListAction").setInboxListResponseData(!0):!a&&!c&&b("PagesManagerInboxListAction").setInboxListResponseData(!1)};d.$2=function(){var a,c=b("PageCommItemStatusUtil").getIsFilter(this.state.filterFolder);a=((a=this.state.filterOwner)==null?void 0:a.id)!=null;c=this.state.showNewFolder&&(c||a)&&!k();return c?b("React").jsx(b("PagesManagerInboxFilterStateView.react"),{filterFolder:this.state.filterFolder,filterOwner:this.state.filterOwner,mailboxID:this.props.mailboxID,platform:this.state.filterType,shouldUseUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist}):null};d.$3=function(){return b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:this.state.searchTerm===""&&this.state.activeSearchLabels.length===0?b("React").jsxs("div",{className:"_7_fp",children:[b("React").jsx("div",{children:b("React").jsx(b("Image.react"),{src:"/images/pages/pages_manager/inbox/search-empty-state.png"})}),b("React").jsx("div",{className:"_7_fq",children:this.state.searchType==="CONTENT"?i._("Search your Messenger conversations for message content."):i._("Search for people and labels across Facebook, Messenger and Instagram. You also can search your Messenger conversations for message content.")})]}):null})};d.$4=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$5=function(){return this.state.shouldShowIGDirectAutomatedResponse===!1?null:b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$4,children:b("React").jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.mailboxID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){__p&&__p();var a=this;if(this.state.isSearchActive&&this.state.searchType==="ADMIN"){var c=this.state.filterOwner?this.state.filterOwner.id:null;return b("React").jsx(b("PagesManagerInboxMultiAdminSelectorRoot.react"),{filterType:this.state.filterType,height:this.props.height,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,selectedAdminID:c,shouldShowUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist,threadManagementStatus:this.state.filterFolder})}if(this.state.isSearchActive&&this.state.searchType==="CONTENT")return this.state.searchTerm.length<3?this.$3():b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:b("React").jsx(b("PageManagerInboxThreadContentSearch.react"),{filterType:this.state.filterType,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,shouldShowPromoteButton:this.state.shouldShowPromoteButton})});if(this.state.isSearchActive&&this.state.searchType==="CUSTOMER"&&this.state.searchTerm!=="")return b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:b("React").jsx(b("PagesManagerInboxListSearchResults.react"),{height:this.props.height,pageCustomerID:b("nullthrows")(this.state.pageCustomerID),useNewLabelSearch:this.state.searchType!=="CUSTOMER",viewingItem:this.state.viewingItem})});if(this.state.isSearchActive&&this.state.searchType==="LABEL")return this.state.isSearchActive&&this.state.activeSearchLabels.length===0?this.$3():b("React").jsx(b("ScrollableArea.react"),{height:this.props.height,children:b("React").jsx(b("BulkActionsContext").Provider,{value:this.state.bulkActionsContext,children:b("React").jsx(b("PageManagerInboxLabelThreadSearch.react"),{height:this.props.height,labels:this.state.activeSearchLabels})})});var d=b("PageCommItemStatusUtil").getFolderStatus(this.state.filterFolder);if(this.state.filterType==="WEC"&&!this.props.mailboxID)return b("React").jsx("div",{style:{backgroundColor:"#FFFFFF"},children:b("React").jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"WEC",pageID:this.state.pageID,pageToken:""})});c=this.$2()===null?this.props.height:this.props.height-m;if(this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="ALL"&&(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.filterType==="MESSENGER")){var e=null;this.state.filterOwner&&this.state.filterOwner.id&&(e=this.state.filterOwner.id);return b("React").jsxs("div",{children:[this.$2(),b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:b("React").jsx(b("UnifiedInboxUnifiedThreadlistContainer.react"),{canShowConnectButton:this.state.canShowConnectButton,commItemOwnerID:e,height:c,igCommentConnected:(e=this.state.commentConnected)!=null?e:!1,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,messengerDisabled:this.state.messengerDisabled,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}if(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="INSTAGRAM_DIRECT"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){e=(e=this.state.commentConnected)!=null?e:!1;return b("React").jsxs("div",{children:[this.$2(),this.$5(),b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:b("React").jsx(n,{commentConnected:e,filterOwner:this.state.filterOwner,height:c,igAccountID:this.state.igAccountID,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,showNewFolder:this.state.showNewFolder,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}else if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return this.state.filterType==="MESSENGER"&&this.state.filterFolder===b("PageCommItemFolder").PRIORITY&&k()?b("React").jsxs("div",{children:[this.$2(),b("React").jsx(b("MediaManagerInboxPriorityMessageListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,viewingItem:this.state.viewingItem})]}):b("React").jsxs("div",{children:[this.$2(),b("React").jsx(b("PagesManagerInboxMessageListContainer.react"),{commItemOwnerID:this.state.filterOwner?this.state.filterOwner.id:null,filterType:this.state.filterType,height:c,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,viewingItem:this.state.viewingItem})]});if(b("MediaManagerInboxCustomTabUtils").shouldShowMediaManagerCustomTab(this.state.filterType))return b("React").jsx(b("MediaManagerInboxCustomTabMessageList.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,tab:this.state.filterType});var f=this.state.filterFolder===b("PageCommItemFolder").UNREAD?b("PageCommItemIsReadStatus").UNREAD:null,g=this.state.filterOwner?this.state.filterOwner.id:null;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:j!==void 0?j:j=b("PagesManagerInboxListFluxContainerQuery.graphql"),render:function(c){var e=c.error;c=c.props;a.$1(c,e);return c&&!e?b("React").jsxs("div",{children:[a.$2(),b("React").jsx(b("PagesManagerInboxListRelayContainer.react"),{filterIsReadStatus:f,filterOwnerID:g,filterStatus:d,filterType:a.state.filterType,folder:a.state.filterFolder,height:a.props.height,isHighlightedComment:a.state.filterFolder===b("PageCommItemFolder").PRIORITY,loadEndEventLogged:a.props.loadEndEventLogged,loadStartTime:a.props.loadStartTime,logLoadEndEvent:a.props.logLoadEndEvent,paddingBottom:a.props.paddingBottom,page:c.page,pageID:a.props.mailboxID,shouldShowPromoteButton:a.state.shouldShowPromoteButton,showNewFolder:a.state.showNewFolder,viewingItem:a.state.viewingItem})]}):b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{filterStatus:d,pageID:this.props.mailboxID,platformFilter:this.state.filterType,filterIsReadStatus:f,filterOwnerID:g,isHighlightedComment:this.state.filterFolder===b("PageCommItemFolder").PRIORITY}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAutomationDoneFolderNUX.react",["fbt","FDSText.react","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMarketingAutomationStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="business_inbox_automation_done_folder";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(h)),d.setState({shouldShowNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a,c){return{shouldShowNUX:!!b("PagesMarketingAutomationStore").getRecentAutomationThreadFBID()}};var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(this.$2(h));return a};d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:-255,offsetY:-30,onCloseButtonClick:this.$3,position:"right",shown:this.state.shouldShowNUX&&this.$1(),width:"custom",children:b("React").jsx(b("FDSText.react"),{color:"white",size:"body3",children:g._("Conversations with automation in progress are in the Done folder.")})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionsCancelSelectionButton.react",["cx","BulkSelectionThreadAction","LeftRight.react","PagesManagerAction","PagesManagerBulkActionLogger","React"],(function(a,b,c,d,e,f,g){"use strict";function a(){function a(){b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:b("BulkSelectionThreadAction").UNSELECT}}),b("PagesManagerAction").toggleBulkSelectionMode()}return b("React").jsx("div",{className:"_3qn7 _3qng",children:b("React").jsx(b("LeftRight.react"),{children:b("React").jsx("div",{className:"_8iwy _8iwz",onClick:a,role:"button",tabIndex:"0"})})})}e.exports=a}),null);
__d("PagesManagerInboxBulkActionItemsUtils",["fbt","invariant","PagesManagerBulkActionLogger","React","Text.react","keyMirror","nullthrows","productsAssertExhausted"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("keyMirror")({DONE:null,FOLLOW_UP:null,INBOX:null,MARK_UNREAD:null,SPAM:null,DELETE:null,ASSIGN_ADMIN:null,REPLY:null,LABEL:null});function j(a){switch(a){case"FOLLOW_UP":return"follow_up";case"DONE":return"done";case"INBOX":return"todo";case"SPAM":return"spam";default:return null}}a={mapCommItemStatusTypeToBulkActionType:function(a){switch(a){case"FOLLOW_UP":return i.FOLLOW_UP;case"DONE":return i.DONE;case"TODO":return i.INBOX;case"SPAM":return i.SPAM;case"DELETED":return i.DELETE;default:b("productsAssertExhausted")(a)}},getToolTipLabel:function(a){__p&&__p();switch(a){case"DONE":return g._("Move to Done");case"FOLLOW_UP":return g._("Mark as Follow Up");case"INBOX":return g._("Move to Main");case"MARK_UNREAD":return g._("Mark as Unread");case"SPAM":return g._("Move to Spam");case"DELETE":return g._("Delete");case"ASSIGN_ADMIN":return g._("Assign Conversation");case"REPLY":return g._("Reply");case"LABEL":return g._("Add labels");default:b("productsAssertExhausted")(a)}return""},getActionConfirmation:function(a,c,d,e){__p&&__p();d===void 0&&(d=0);e===void 0&&(e="");switch(a){case"DONE":return g._({"*":"{number} conversations moved to Done folder","_1":"1 conversation moved to Done folder"},[g._plural(c,"number")]);case"FOLLOW_UP":return g._({"*":"{number} conversations marked as Follow Up","_1":"1 conversation marked as Follow Up"},[g._plural(c,"number")]);case"INBOX":return g._({"*":"{number} conversations moved to Main folder","_1":"1 conversation moved to Main folder"},[g._plural(c,"number")]);case"MARK_UNREAD":return g._({"*":"{number} conversations marked as unread","_1":"1 conversation marked as unread"},[g._plural(c,"number")]);case"SPAM":return g._({"*":"{number} conversations moved to Spam folder","_1":"1 conversation moved to Spam folder"},[g._plural(c,"number")]);case"DELETE":return g._({"*":"{number} conversations deleted","_1":"1 conversation deleted"},[g._plural(c,"number")]);case"ASSIGN_ADMIN":e!==""||h(0,19125);return g._({"*":"{number} conversations assigned to {admin_name}","_1":"1 conversation assigned to {admin_name}"},[g._plural(c,"number"),g._param("admin_name",e)]);case"REPLY":return g._({"*":"You replied to {number} conversations","_1":"You replied to 1 conversation"},[g._plural(c,"number")]);case"LABEL":return g._({"*":{"*":" Labels added to {number} conversations","_1":" Labels added to 1 conversation"},"_1":{"*":" Label added to {number} conversations","_1":" Label added to 1 conversation"}},[g._plural(d),g._plural(c,"number")]);default:b("productsAssertExhausted")(a)}},getBulkLabelDialogTitle:function(){return g._("Add Labels")},getBulkLabelTitle:function(a,c){return g._({"*":{"*":" Labels added to {Number of conversations} conversations","_1":" Labels added to {Number of conversations} conversation"},"_1":{"*":" Label added to {Number of conversations} conversations","_1":" Label added to {Number of conversations} conversation"}},[g._plural(c),g._param("Number of conversations",b("React").jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkReplyDialogTitle:function(){return g._("Reply")},getBulkReplyTitle:function(a){return g._({"*":"This message will be sent separately to {Number of conversations} conversations","_1":"This message will be sent separately to {Number of conversations} conversation"},[g._param("Number of conversations",b("React").jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkDeleteDialogTitle:function(a){return g._({"*":"Delete {number} Conversations","_1":"Delete 1 Conversation"},[g._plural(a,"number")])},getBulkDeleteDialogText:function(){return g._("This will permanently delete all conversation history.")},getBulkAssignAdminDialogTitle:function(a){return g._("Assign Conversation")},getBulkAssignAdminDialogText:function(a){return g._({"*":"Assign {Number of conversations} conversations to someone managing your Page","_1":"Assign {Number of conversations} conversation to someone managing your Page"},[g._param("Number of conversations",b("React").jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkActionsNuxText:function(){return g._("You can now apply an action to multiple conversations at once.")},logBulkActionClick:function(a,c){__p&&__p();var d={event_data:{num_threads:c}};switch(a){case"DONE":case"FOLLOW_UP":case"INBOX":case"SPAM":var e=j(a);b("PagesManagerBulkActionLogger").logMoveToFolderActionClick({event_data:{num_threads:c,targer_folder:b("nullthrows")(e)}});break;case"MARK_UNREAD":b("PagesManagerBulkActionLogger").logMarkAsUnreadActionClick(d);break;case"DELETE":b("PagesManagerBulkActionLogger").logDeleteActionClick(d);break;case"ASSIGN_ADMIN":b("PagesManagerBulkActionLogger").logAdminAssignmentActionClick(d);break;case"REPLY":b("PagesManagerBulkActionLogger").logReplyActionClick(d);break;case"LABEL":b("PagesManagerBulkActionLogger").logLabelActionClick(d);break;default:b("productsAssertExhausted")(a)}}};e.exports={PagesManagerInboxBulkActionItemsUtils:a,PagesManagerInboxBulkActions:i}}),null);
__d("PagesManagerInboxPageAdminsTypeahead.react",["cx","fbt","Image.react","PagesManagerAdminSearchSource","React","SUIBusinessTheme","SUITypeahead.react","XUICard.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useState;function j(a){function c(){return function(b){return a.onSelect(a.entry,b)}}return b("React").jsxs("div",{className:"_8jdd",onMouseDown:c(),children:[b("React").jsx(b("Image.react"),{className:"_8jde",src:a.entry.getPhoto()}),b("React").jsx("span",{children:a.entry.getTitle()})]},a.entry.getUniqueID())}function a(a){__p&&__p();var c=i(null),d=c[0],e=c[1];c=i("");var f=c[0],g=c[1];function k(){var c=new(b("PagesManagerAdminSearchSource"))();c.cacheData(a.admins);return c}function l(a){g(a)}function m(){g("")}function n(b){g("");e(b);var c=b.getUniqueID();a.onSelectedAdminChange({id:c,name:b.getTitle(),profile_picture:(b=a.admins.find(function(a){return a.id===c}))==null?void 0:(b=b.profile_picture)==null?void 0:b.uri})}return b("React").jsxs(b("React").Fragment,{children:[d&&b("React").jsx("div",{className:"_2pio",style:{display:"table-cell"},children:b("React").jsxs("div",{className:"_8jdf",children:[b("React").jsx(b("Image.react"),{className:"_8jde",src:d.getPhoto()}),b("React").jsx("span",{className:"_8jdg",children:d.getTitle()})]})}),b("React").jsx("div",{className:d?"":"_2pie",children:b("React").jsx(b("XUICard.react"),{className:"_8jdc",children:b("React").jsx(b("SUITypeahead.react"),{autoHighlight:!0,inputClassName:"_8jdh",onBlur:m,onChange:l,onEnterWithoutSelection:m,onSelectAttempt:n,placeholder:h._("Search"),presenter:{extraRendererProps:{renderers:{ItemRenderer:j}}},queryString:f,searchSource:k(),theme:b("SUIBusinessTheme")})})})]})}e.exports=a}),null);
__d("PagesManagerInboxBulkActionsAdminAssigner.react",["PagesManagerInboxPageAdminsTypeahead.react","React","RelayModern","nullthrows","PagesManagerInboxBulkActionsAdminAssigner_page_info.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=b("nullthrows")((a=this.props.page_info.page_admin_users)==null?void 0:a.nodes);return b("React").jsx(b("PagesManagerInboxPageAdminsTypeahead.react"),{admins:a,onSelectedAdminChange:this.props.onSelectedAdminChange})};return c}(b("React").PureComponent);e.exports=a(c,{page_info:g!==void 0?g:g=b("PagesManagerInboxBulkActionsAdminAssigner_page_info.graphql")})}),null);
__d("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.pageID);if(!d)return;a.commItemIDs.map(function(e){var f=c.get(e);if(!f)return;var g=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:g,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});f=b("PagesManagerInboxFilterStore").getActiveOwner().id;g&&Boolean(f)&&f!==a.adminID&&h.deleteNode(g,e)})};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_items:a.commItemIDs}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkActionsAdminAssignerContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","LeftRight.react","MercuryIDs","MercuryThreadActions","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsAdminAssigner.react","PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBulkActionsAdminAssignerContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=h!==void 0?h:h=b("PagesManagerInboxBulkActionsAdminAssignerContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=function(){return new(b("Promise"))(function(a,c){b("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation").commit({adminID:d.state.selectedAdmin.id,commItemIDs:d.state.selectedCommItemFBIDs,pageID:d.state.pageID},{onSuccess:function(c){b("PagesManagerBulkActionLogger").logAdminAssignmentDialogSubmit({event_data:{num_threads:d.state.selectedThreads.length}}),b("PagesManagerBulkActionLogger").logThreadsAssignedToAdmin(d.state.selectedThreads),d.$2(),a(i.getActionConfirmation(j.ASSIGN_ADMIN,d.state.selectedThreads.length,0,d.state.selectedAdmin.name))},onFailure:c})})};d.$3=function(a){d.setState({selectedAdmin:a},d.$4)};d.$4=function(){d.state.selectedAdmin?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$5=function(a){__p&&__p();a.error;a=a.props;if(a){var c;d.$4();c=b("nullthrows")((c=a.page_comm_items)==null?void 0:c.page_comm_items_for_message_threads);d.setState({selectedCommItemFBIDs:c.map(function(a){return a.id})});return b("React").jsxs("div",{className:"_8h-v",children:[b("React").jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:b("React").jsx("div",{className:"_8h-w",children:i.getBulkAssignAdminDialogText(d.state.selectedThreads.length)})}),b("React").jsx(b("PagesManagerInboxBulkActionsAdminAssigner.react"),{onSelectedAdminChange:d.$3,page_info:a.page_info})]})}return b("React").jsx("div",{className:"_3qn7 _61-1",children:b("React").jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$1);return d}var d=c.prototype;d.$2=function(){var a=this.state,c=a.pageID,d=a.selectedThreads;a=a.selectedAdmin;d=d.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(c).updateCommItemOwner(d,a.name,a.id,a.profile_picture)};d.render=function(){return b("React").jsx(k,{environment:b("RelayFBEnvironment"),query:l,render:this.$5,variables:{page_id:this.state.pageID,message_thread_id_list:this.state.selectedThreads}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBulkActionsSetLabelMutation",["Promise","RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkActionsSetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsSetLabelMutation.graphql");function a(a){return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,label_name:a.labelName,page_contact_list:a.pageContactList}},onCompleted:c,onError:d})})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkActionsUnsetLabelMutation",["Promise","RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkActionsUnsetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsUnsetLabelMutation.graphql");function a(a){return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,label_name:a.labelName,page_contact_list:a.pageContactList}},onCompleted:c,onError:d})})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkLabelSection.react",["cx","CustomLabelUtils","LeftRight.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsSetLabelMutation","PagesManagerInboxBulkActionsUnsetLabelMutation","PagesManagerInboxContextCardLabelsTypeahead.react","PagesManagerInboxLabel.react","React","RelayModern","immutable","nullthrows","promiseDone","PagesManagerInboxBulkLabelSection_page_contacts.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CustomLabelUtils").MAX_LABEL_NAME_LENGTH,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={newLabels:b("immutable").Map()},d.$1=function(){d.props.onLabelsAddedChange(d.state.newLabels.map(function(a){return a.label}).toArray())},d.$3=function(a){d.$2(a.name,!0)},d.$4=function(a){d.$2(a,!0)},d.$5=function(a){d.$2(a.name,!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a,c){__p&&__p();var d=this,e=this.props.page_contacts.page_messenger_contacts.map(function(a){return a.id||""});if(c)b("promiseDone")(b("PagesManagerInboxBulkActionsSetLabelMutation").commit({pageContactList:e,labelName:a}),function(b){var c,e=(c=b.bulk_actions_page_contacts_set_label)==null?void 0:c.label,f=((c=b.bulk_actions_page_contacts_set_label)==null?void 0:c.labeled_contacts)||[];d.setState(function(b){return{newLabels:b.newLabels.set(a,{label:{id:(e==null?void 0:e.id)||"",color:(e==null?void 0:e.label_color)||"",name:(e==null?void 0:e.name)||""},contacts:f.filter(function(a){return Boolean(a)}).map(function(a){return(a==null?void 0:a.id)||""})})}},d.$1)});else{e=(c=this.state.newLabels.get(a))==null?void 0:c.contacts;b("promiseDone")(b("PagesManagerInboxBulkActionsUnsetLabelMutation").commit({pageContactList:e,labelName:a}),function(){return d.setState(function(b){return{newLabels:b.newLabels["delete"](a)}},d.$1)})}};d.render=function(){var a=this,c=this.state.newLabels.toArray().map(function(c){return c.label&&b("React").jsx("div",{className:"_7ajl",children:b("React").jsx(b("PagesManagerInboxLabel.react"),{color:b("nullthrows")(c.label.color),id:b("nullthrows")(c.label.id),name:b("nullthrows")(c.label.name),onRemove:a.$5,searchOnClick:!1},b("nullthrows")(c.label.name))},b("nullthrows")(c.label.name))}),d=this.props,e=d.labels;d=d.selectedThreads;return b("React").jsxs("div",{className:"_8h-v",children:[!this.state.newLabels.isEmpty()&&b("React").jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:b("React").jsx("div",{className:"_8h-w",children:j.getBulkLabelTitle(d.length,this.state.newLabels.count())})}),c.length>0&&c,b("React").jsx("div",{className:"_8h-x",children:b("React").jsx(b("PagesManagerInboxContextCardLabelsTypeahead.react"),{labels:this.props.labels.toArray(),maxLength:i,onAddLabel:this.$3,onCreateLabel:this.$4,pageLabelNum:e.count()})})]})};return c}(b("React").PureComponent);d=a(c,{page_contacts:h!==void 0?h:h=b("PagesManagerInboxBulkLabelSection_page_contacts.graphql")});e.exports=d}),null);
__d("PagesManagerInboxBulkLabelSectionContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","PagesManagerBulkActionLogger","PagesManagerCustomLabelsStore","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkLabelSection.react","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkLabelSectionContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=h!==void 0?h:h=b("PagesManagerInboxBulkLabelSectionContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),labels:b("PagesManagerCustomLabelsStore").getLabels(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=function(){b("PagesManagerBulkActionLogger").logLabelDialogSubmit({event_data:{num_threads:d.state.selectedThreads.length,labels:d.state.newLabels.map(function(a){return{label_color:a.color,label_name:a.name,label_id:a.id}})}});var a=i.getActionConfirmation(j.LABEL,d.state.selectedThreads.length,d.state.newLabels.length);return b("Promise").resolve(a)};d.$2=function(a){d.setState({newLabels:a},d.$3)};d.$3=function(){var a;((a=d.state.newLabels)==null?void 0:a.length)?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$4=function(a){a.error;a=a.props;if(a){d.$3();return b("React").jsx(b("PagesManagerInboxBulkLabelSection.react"),{labels:d.state.labels,onLabelsAddedChange:d.$2,page_contacts:a.page_contacts,selectedThreads:d.state.selectedThreads})}return b("React").jsx("div",{className:"_3qn7 _61-1",children:b("React").jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$1);return d}var d=c.prototype;d.render=function(){return b("React").jsx(k,{environment:b("RelayFBEnvironment"),query:l,render:this.$4,variables:{page_id:this.state.pageID,page_contact_user_id_list:this.state.selectedThreads}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionsPageCommItemsQuery",["RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBulkActionsPageCommItemsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsPageCommItemsQuery.graphql");function a(a,c){a={page_id:a,message_thread_id_list:c};return h(b("RelayFBEnvironment"),i,a).then(function(a){return((a=(a=a.page_comm_items)==null?void 0:a.page_comm_items_for_message_threads)!=null?a:[]).map(function(a){return{id:b("nullthrows")(a==null?void 0:a.id),oldStatus:b("nullthrows")(a==null?void 0:a.comm_status),threadFBID:b("nullthrows")(a==null?void 0:a.target_id)}})})}e.exports={getPageCommItems:a}}),null);
__d("PagesManagerInboxBulkOneClickActionHelper",["Promise","MercuryIDs","MercuryThreadActions","PageCommItemStatus","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsPageCommItemsQuery","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerStore","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,h=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions;function i(){return b("PagesManagerInboxStore").getConfig().pageID}function j(){return b("PagesManagerStore").getSelectedThreads().toArray()}function k(a,c,d,e){__p&&__p();c=d.reduce(function(a,b){a.has(b.oldStatus)||a.set(b.oldStatus,[]);(a.get(b.oldStatus)||[]).push(b);return a},new Map());c.forEach(function(c,d,e){__p&&__p();e=c.map(function(a){return a.threadId});switch(d){case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:b("MercuryThreadActions").getForFBID(a).batchUnarchive(e);break;case b("PageCommItemStatus").FOLLOW_UP:b("MercuryThreadActions").getForFBID(a).batchUnmarkPageFollowUp(e);break;case b("PageCommItemStatus").SPAM:b("MercuryThreadActions").getForFBID(a).batchUnmarkSpam(e);break;default:return}})}function l(a,c,d){__p&&__p();c.forEach(function(a){b("PagesManagerInboxLogger").itemStatusChanged(a.id,"MESSENGER",d,"BULK_ACTION"),b("PagesManagerInboxLogger").itemStatusChangedInThread(a.id,"MESSENGER",d,b("PagesManagerInboxFilterStore").getActiveFolder(),"BULK_ACTION")});c=c.map(function(a){return babelHelpers["extends"]({},a,{threadId:b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a.threadFBID))})});var e=c.map(function(a){return a.threadId}),f=b("PagesManagerInboxFilterStore").getActiveFolder();switch(d){case b("PageCommItemStatus").DONE:b("MercuryThreadActions").getForFBID(a).batchArchive(e);break;case b("PageCommItemStatus").TODO:k(a,f,c,d);break;case b("PageCommItemStatus").FOLLOW_UP:b("MercuryThreadActions").getForFBID(a).batchMarkPageFollowUp(e);break;case b("PageCommItemStatus").SPAM:b("MercuryThreadActions").getForFBID(a).batchMarkSpam(e);break;case b("PageCommItemStatus").DELETED:b("MercuryThreadActions").getForFBID(a).batchDelete(e);break;default:return}b("MercuryThreadActions").getForFBID(a).updateCommStatus(e,d);b("PagesManagerAction").viewListItem(null)}function m(a,c,d){return b("PagesManagerInboxBulkActionsPageCommItemsQuery").getPageCommItems(a,c).then(function(b){return l(a,b,d)})}function n(a,c,d,e){b("promiseDone")(b("PagesManagerInboxBulkActionsPageCommItemsQuery").getPageCommItems(a,c).then(function(c){b("PageCommItemUnreadEditMutation").commit({ids:c.map(function(a){return a.id}),actor_id:a},{onSuccess:function(a){return d((a=a==null?void 0:(a=a.page_comm_item_mark_as_unread)==null?void 0:(a=a.page_comm_items)==null?void 0:a.length)!=null?a:0)},onFailure:e})}))}a={changeStatus:function(a){var c=j();return new(b("Promise"))(function(d,e){return b("promiseDone")(m(i(),c,a),function(e){e=g.mapCommItemStatusTypeToBulkActionType(a);e&&(a===b("PageCommItemStatus").DELETED&&(b("PagesManagerBulkActionLogger").logDeletedThreads(c),b("PagesManagerBulkActionLogger").logDeleteDialogSubmit({event_data:{num_threads:c.length}})),d(g.getActionConfirmation(e,c.length)));return d(null)},e)})},markAsUnread:function(){return new(b("Promise"))(function(a,c){var d=j();n(i(),d,function(e){e>0?(b("PagesManagerBulkActionLogger").logMarkedAsUnreadThreads(d),a(g.getActionConfirmation(h.MARK_UNREAD,e))):c()},c)})}};e.exports=a}),null);
__d("PagesManagerInboxBulkReplyComposer.react",["cx","fbt","Image.react","PagesMessengerTextInput.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onInputChange(a.target.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_8ibi",children:a.jsxs("div",{className:"_8ibj",children:[a.jsx("div",{className:"_8ibk",children:a.jsx(b("Image.react"),{className:"_8ibm",src:this.props.profilePictureUri})}),a.jsx("div",{className:"_8ibn",children:a.jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _8ibo",onChange:this.$1,placeholder:h._("Write a message...")})}),a.jsx("div",{className:"_3-8o _8ibp"})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("BulkReplyRecipientsSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$BulkReplyRecipientsSearchSource1=b;return c}var c=b.prototype;c.searchImpl=function(a,b){var c=this.$BulkReplyRecipientsSearchSource1.filter(function(b){return b.getTitle().toLowerCase().includes(a)});b(c,a)};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxBulkReplyRecipientsTypeahead.react",["BulkReplyRecipientsSearchSource","FDSTokenizer.react","React","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useState;function a(a){__p&&__p();var c=a.recipients.map(function(a){return new(b("SearchableEntry"))({title:a.title,uniqueID:a.id})}),d=g(c),e=d[0],f=d[1];function h(b){f([].concat(e,[b]));var c=a.onSelectionChange;c&&c(b.getUniqueID(),!0)}function i(b){f(e.filter(function(a){return a!==b}));var c=a.onSelectionChange;c&&c(b.getUniqueID(),!1)}d=new(b("BulkReplyRecipientsSearchSource"))(c);return b("React").jsx(b("FDSTokenizer.react"),{label:"",onAddEntry:h,onRemoveEntry:i,searchSource:d,value:e})}e.exports=a}),null);
__d("PagesManagerInboxBulkReplySection.react",["cx","FDSSpinner.react","LeftRight.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkReplyComposer.react","PagesManagerInboxBulkReplyRecipientsTypeahead.react","React","RelayModern","immutable","nullthrows","PagesManagerInboxBulkReplySection_page_contacts.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={body:null,recipients:b("immutable").Set(d.$1().map(function(a){return a.id})),showSpinner:!1},d.$2=function(a,b){d.setState(function(c){return{recipients:b?c.recipients.add(a):c.recipients.remove(a)}},d.$3)},d.$3=function(){var a=d.state,b=a.body;a=a.recipients;b={body:(b=b)!=null?b:"",file_ids:[],image_ids:[],recipient_ids:a.toArray()};d.props.onMessagePayloadChange(b)},d.$4=function(a){d.setState({body:a},d.$3)},d.toggleSpinner=function(a){d.setState({showSpinner:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.onRef;a&&a(this)};d.componentWillUnmount=function(){var a=this.props.onRef;a&&a()};d.$1=function(){return this.props.page_contacts.page_messenger_contacts.map(function(a){var c;c=(c=a.unified_contact_comms_facebook)==null?void 0:c.nodes[0];return{title:b("nullthrows")((c=c)!=null?c.comm_title:c),id:b("nullthrows")((c=a.user)!=null?c.id:c)}})};d.render=function(){var a=this.$1();return b("React").jsx(b("React").Fragment,{children:this.state.showSpinner?b("React").jsx("div",{className:"_3qn7 _61-1",children:b("React").jsx(b("FDSSpinner.react"),{})}):b("React").jsxs("div",{className:"_8h-v",children:[b("React").jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:b("React").jsx("div",{className:"_8h-w",children:i.getBulkReplyTitle(this.state.recipients.count())})}),b("React").jsx(b("PagesManagerInboxBulkReplyRecipientsTypeahead.react"),{onSelectionChange:this.$2,recipients:a}),b("React").jsx(b("PagesManagerInboxBulkReplyComposer.react"),{onInputChange:this.$4,profilePictureUri:this.props.profile_picture_uri})]})})};return c}(b("React").PureComponent);d=a(c,{page_contacts:h!==void 0?h:h=b("PagesManagerInboxBulkReplySection_page_contacts.graphql")});e.exports={PagesManagerInboxBulkReplySectionContainer:d,PagesManagerInboxBulkReplySection:c}}),null);
__d("XPagesManagerInboxBulkReplyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/bulk_reply/",{})}),null);
__d("PagesManagerInboxBulkReplySender",["Promise","ActorURI","AsyncRequest","PagesManagerInboxLogger","XPagesManagerInboxBulkReplyController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.$1=function(a){var c=b("XPagesManagerInboxBulkReplyController").getURIBuilder().getURI();return b("ActorURI").create(c,a)};c.$2=function(a){return a.payload};c.send=function(a,c){var d=this;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",a,!1);return new(b("Promise"))(function(e,f){var g=d.$1(a);new(b("AsyncRequest"))().setURI(g).setMethod("POST").setData(c).setHandler(function(a){return e(d.$2(a))}).setErrorHandler(f).setTransportErrorHandler(f).send()})};return a}();e.exports=new a()}),null);
__d("PagesManagerInboxBulkReplySectionContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkReplySection.react","PagesManagerInboxBulkReplySender","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","promiseDone","PagesManagerInboxBulkReplySectionContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions;b("PagesManagerInboxBulkReplySection.react").PagesManagerInboxBulkReplySection;var k=b("PagesManagerInboxBulkReplySection.react").PagesManagerInboxBulkReplySectionContainer,l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m=h!==void 0?h:h=b("PagesManagerInboxBulkReplySectionContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(){__p&&__p();var a=d.state,c=a.pageID,e=a.payload;if(e&&d.$3(e)){d.$4(!0);var f=i.getActionConfirmation(j.REPLY,e.recipient_ids.length);return new(b("Promise"))(function(a,g){b("promiseDone")(b("PagesManagerInboxBulkReplySender").send(c,e),function(c){b("PagesManagerBulkActionLogger").logReplyDialogSubmit({event_data:{num_threads:e.recipient_ids.length}}),d.$4(!1),a(f)},function(a){d.$4(!1),g()})})}return b("Promise").reject()};d.$5=function(){d.state.payload&&d.$3(d.state.payload)?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$6=function(a){d.setState({payload:a},d.$5)};d.$7=function(a){a.error;a=a.props;if(a){d.$5();return b("React").jsx(k,{onMessagePayloadChange:d.$6,onRef:function(a){d.$1=a},page_contacts:a.page_contacts,profile_picture_uri:a.page_contacts.profile_picture.uri})}return b("React").jsx("div",{className:"_3qn7 _61-1",children:b("React").jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$2);return d}var d=c.prototype;d.$3=function(a){var b=a.body,c=a.file_ids,d=a.image_ids;return a.recipient_ids.length>0&&(Boolean(b)||c.length>0||d.length>0)};d.$4=function(a){var b;b=(b=this.$1)==null?void 0:b.toggleSpinner;b&&b(a)};d.render=function(){return b("React").jsx(l,{environment:b("RelayFBEnvironment"),query:m,render:this.$7,variables:{page_id:this.state.pageID,page_contact_user_id_list:this.state.selectedThreads}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionComponent.react",["cx","Promise","LeftRight.react","PageCommItemStatus","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsAdminAssignerContainer.react","PagesManagerInboxBulkLabelSectionContainer.react","PagesManagerInboxBulkOneClickActionHelper","PagesManagerInboxBulkReplySectionContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils;c=b("React").forwardRef;var i=b("React").useImperativeHandle;function a(a,c){__p&&__p();var d=null;i(c,function(){return{executeAction:function(a){return d?d():b("Promise").reject()},type:a.type}});function e(a){d=a}switch(a.type){case"REPLY":return b("React").jsx(b("PagesManagerInboxBulkReplySectionContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"LABEL":return b("React").jsx(b("PagesManagerInboxBulkLabelSectionContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"ASSIGN_ADMIN":return b("React").jsx(b("PagesManagerInboxBulkActionsAdminAssignerContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"DELETE":e(function(){return b("PagesManagerInboxBulkOneClickActionHelper").changeStatus(b("PageCommItemStatus").DELETED)});return b("React").jsx("div",{className:"_2phz",children:b("React").jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:b("React").jsx("div",{className:"_8h-w",children:h.getBulkDeleteDialogText()})})});default:return null}}e.exports=c(a)}),null);
__d("PagesManagerInboxBulkActionsNavBarContainer.react",["cx","fbt","CenteredContainer.react","FDSDropdownMenu.react","PageCommItemFolder","PageCommItemStatus","PagesManagerAction","PagesManagerInboxBulkActionComponent.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkOneClickActionHelper","PagesManagerInboxStore","React","Tooltip","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","emptyFunction","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=600,l=4;function m(a){var c;return(c=b("React")).jsxs(b("XUIDialog.react"),{hideOnEscape:!1,isStrictlyControlled:!0,onHide:a.onHide,shown:a.show,width:k,children:[c.jsx(b("XUIDialogTitle.react"),{showCloseButton:!a.closeButtonsDisabled,children:a.title}),c.jsx(b("XUIDialogBody.react"),{children:a.children}),c.jsxs(b("XUIDialogFooter.react"),{children:[c.jsx(b("XUIDialogCancelButton.react"),{disabled:a.closeButtonsDisabled}),c.jsx(b("XUIDialogButton.react"),{action:"confirm",disabled:a.actionButtonDisabled,label:a.actionButtonLabel,onClick:a.onDialogConfirm,use:"confirm"})]})]})}function n(a){var c=Boolean(a.label)?babelHelpers["extends"]({},b("Tooltip").propsFor(a.label)):{};function d(){return function(){i.logBulkActionClick(a.id,a.selectedThreads),(a.isDisabled?b("emptyFunction"):a.onClick)()}}return b("React").jsx(b("CenteredContainer.react"),{className:"_8hgm",fullHeight:!0,horizontal:!1,onClick:d(),vertical:!0,children:b("React").jsx("div",babelHelpers["extends"]({className:b("joinClasses")((a.isDisabled?"":"_8hgn")+(a.isDisabled?" _8j4u":""),a.className)},c))},a.id)}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,dialogContent:null},d.$1=b("React").createRef(),d.$5=function(){var a;a=(a=d.$1)==null?void 0:a.current;a=(a=a)!=null?a:{};var c=a.executeAction;a=a.type;c&&a&&(d.$3(!1),b("promiseDone")(c(),d.$4.bind(babelHelpers.assertThisInitialized(d),a),function(a){return d.$2(!0,!0)}))},d.$6=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Done"),component:b("React").jsx(b("PagesManagerInboxBulkActionComponent.react"),{onValidationFailed:function(){return d.$3(!1,!0)},onValidationPassed:function(){return d.$3(!0,!1)},ref:d.$1,type:j.LABEL}),title:i.getBulkLabelDialogTitle(),actionButtonDisabled:!0,closeButtonsDisabled:!1}})},d.$7=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Assign"),component:b("React").jsx(b("PagesManagerInboxBulkActionComponent.react"),{onValidationFailed:function(){return d.$3(!1)},onValidationPassed:function(){return d.$3(!0)},ref:d.$1,type:j.ASSIGN_ADMIN}),title:i.getBulkAssignAdminDialogTitle(d.props.selectedThreads),actionButtonDisabled:!1}})},d.$8=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Delete"),component:b("React").jsx(b("PagesManagerInboxBulkActionComponent.react"),{ref:d.$1,type:j.DELETE}),title:i.getBulkDeleteDialogTitle(d.props.selectedThreads),actionButtonDisabled:!1}})},d.$11=[{id:j.LABEL,className:"_8hgo",onClick:d.$6},{id:j.ASSIGN_ADMIN,className:"_8lhv",onClick:d.$7},{id:j.FOLLOW_UP,className:"_8j2d",onClick:d.$10(b("PageCommItemStatus").FOLLOW_UP,j.FOLLOW_UP)},{id:j.DONE,className:"_8j2e",onClick:d.$10(b("PageCommItemStatus").DONE,j.DONE)},{id:j.MARK_UNREAD,className:"_8nj_",onClick:function(){return b("promiseDone")(b("PagesManagerInboxBulkOneClickActionHelper").markAsUnread(),d.$4.bind(babelHelpers.assertThisInitialized(d),j.MARK_UNREAD),b("PagesManagerAction").toggleBulkSelectionMode)}},{id:j.INBOX,className:"_8j2n",onClick:d.$10(b("PageCommItemStatus").TODO,j.INBOX)},{id:j.SPAM,className:"_8j2o",onClick:d.$10(b("PageCommItemStatus").SPAM,j.SPAM)}],d.$12=function(a){return{type:"item",label:i.getToolTipLabel(a.id),onClick:function(){i.logBulkActionClick(a.id,d.props.selectedThreads),a.onClick()},isDisabled:d.props.selectedThreads===0}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a,c){c===void 0&&(c=!1);if(!a&&((a=this.state.dialogContent)==null?void 0:a.closeButtonsDisabled))return;this.setState({showDialog:!1,dialogContent:null},function(){return c&&b("PagesManagerAction").toggleBulkSelectionMode()})};d.$3=function(a,b){b===void 0&&(b=!0),this.setState(function(c){return babelHelpers["extends"]({},c,{dialogContent:babelHelpers["extends"]({},c.dialogContent,{actionButtonDisabled:!a,closeButtonsDisabled:!b})})})};d.$4=function(a,c){Boolean(c)&&b("PagesManagerAction").setBulkActionResult({actionType:a,message:c||""}),this.$2(!0,!0)};d.$9=function(a){__p&&__p();var c=[];switch(this.props.folderSelected){case b("PageCommItemFolder").SPAM:c.push(j.FOLLOW_UP,j.DONE,j.SPAM,j.MARK_UNREAD,j.LABEL,j.ASSIGN_ADMIN);break;case b("PageCommItemFolder").DONE:c.push(j.FOLLOW_UP,j.DONE,j.MARK_UNREAD,j.LABEL);break;case b("PageCommItemFolder").TODO:c.push(j.INBOX);break}return a.filter(function(a){return!c.some(function(b){return b===a.id})})};d.$10=function(a,c){var d=this;return function(){return b("promiseDone")(b("PagesManagerInboxBulkOneClickActionHelper").changeStatus(a),d.$4.bind(d,c),b("PagesManagerAction").toggleBulkSelectionMode)}};d.render=function(){var a=this,c=this.state,d=c.dialogContent;c=c.showDialog;var e=this.props.selectedThreads===0,f={id:j.DELETE,className:"_8j2p",onClick:this.$8};f=this.$9(b("PagesManagerInboxStore").shouldAllowBulkDelete()?[].concat(this.$11,[f]):[].concat(this.$11));f=[f.slice(0,l),f.slice(l)];var g=f[0];f=f[1];return b("React").jsxs(b("React").Fragment,{children:[g.map(function(c){return b("React").createElement(n,babelHelpers["extends"]({},c,{isDisabled:e,key:c.id,label:i.getToolTipLabel(c.id),selectedThreads:a.props.selectedThreads}))}),f.length>0&&b("React").jsx("div",{style:{marginLeft:"5px"},children:b("React").jsx(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:f.map(this.$12),useEllipsisIcon:!0})}),b("React").jsx(m,{actionButtonDisabled:Boolean(d==null?void 0:d.actionButtonDisabled),actionButtonLabel:(d==null?void 0:d.actionButtonLabel)||"",closeButtonsDisabled:Boolean(d==null?void 0:d.closeButtonsDisabled),onDialogConfirm:this.$5,onHide:this.$2.bind(this,!1),show:Boolean(c&&d),title:(d==null?void 0:d.title)||"",children:d==null?void 0:d.component})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxBulkActionsNux.react",["PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxStore","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showNux:b("PagesManagerInboxStore").shouldShowNUX("pages_inbox_bulk_actions")};d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_INBOX_BULK_ACTIONS),d.setState({showNux:!1})};b("PagesManagerBulkActionLogger").logNuxImpression();return d}var d=c.prototype;d.render=function(){var a=g.getBulkActionsNuxText();return b("React").jsx(b("React").Fragment,{children:this.state.showNux&&b("PagesManagerInboxStore").shouldShowBulkActions()&&b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"below",shown:!0,width:"normal",children:a})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxBulkSelectionButtonContainer.react",["cx","fbt","BulkSelectionThreadAction","CenteredContainer.react","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionsNux.react","React","Tooltip","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useEffect;function a(a){__p&&__p();var c,d=a.active;a=a.selectedThreads;var e=null,f=h._("Select Conversations");i(function(a){return b("PagesManagerBulkActionLogger").logThreadCheckboxImpression()},[]);function g(){var a=d?b("BulkSelectionThreadAction").UNSELECT:b("BulkSelectionThreadAction").SELECT;b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:a}});b("PagesManagerAction").toggleBulkSelectionMode()}function j(){return e}return(c=b("React")).jsx(b("CenteredContainer.react"),{className:"_8ic_",fullHeight:!0,horizontal:!1,onClick:b("emptyFunction"),vertical:!0,children:c.jsxs("div",{className:"_3qn7 _3qng",children:[c.jsx("div",{className:"_8id0"}),c.jsx("div",babelHelpers["extends"]({className:"_8hgn"+(a===0?" _8icf":"")+(a>0?" _8icg":"")+(d&&a===0?" _8ics":""),onClick:g,ref:function(a){e=a},role:"button",tabIndex:"0"},b("Tooltip").propsFor(f))),b("React").jsx(b("PagesManagerInboxBulkActionsNux.react"),{contextRef:j})]})})}e.exports=a}),null);
__d("XPagesManagerInboxCreateWECGroupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/create_wec_group/",{group_name:{type:"String"},mailbox_id:{type:"FBID"},icon_id:{type:"FBID"},request_user_id:{type:"Int"}})}),null);
__d("XWECMessagingAttachmentUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/upload/",{request_user_id:{type:"Int"}})}),null);
__d("PagesManagerInboxCreateGroupDialog.react",["ix","cx","fbt","AsyncRequest","ErrorDialog","FBClipboardLink.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FileInput.react","FileInputUploader","FlexLayout.react","Image","Link.react","MessengerSpinner.react","PagesMessagingInboxActionLogger","React","ReactDOM","XPagesManagerInboxCreateWECGroupController","XUITextInput.react","XWECMessagingAttachmentUploadController","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={groupIcon:null,groupName:"",uploadImageInProgress:!1,inviteLink:null};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state=j;d.$1=function(){var a=b("XPagesManagerInboxCreateWECGroupController").getURIBuilder().setInt("request_user_id",d.props.mailboxID).setString("group_name",d.state.groupName).setFBID("mailbox_id",d.props.mailboxID);d.state.groupIcon&&a.setFBID("icon_id",d.state.groupIcon.image_id);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){d.setState(function(){return{inviteLink:a.payload.invite_link}})}).send();a="group_created";b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};d.$2=function(){d.props.onHide(),d.setState(function(a){return j})};d.$3=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{groupName:b}})};d.$4=function(){__p&&__p();var a=b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",d.props.mailboxID).getURI().toString();a=new(b("FileInputUploader"))(b("ReactDOM").findDOMNode(d.refs.fileInput)).setURI(a).setData({images_only:!0}).setAllowCrossOrigin(!0);a.subscribe("progress",function(a,b){d.setState({uploadImageInProgress:!0})});a.subscribe("success",function(a,b){b=(a=b)!=null?(a=a.response)!=null?(a=a.payload)!=null?a.metadata:a:a:a;a=b&&b[0];a==null?d.setState({uploadImageInProgress:!1}):d.setState({groupIcon:a,uploadImageInProgress:!1})});a.subscribe("failure",function(a,c){d.setState({uploadImageInProgress:!1});a=i._("ERROR");c=i._("Uploading image failed, please try again.");b("ErrorDialog").show(a,c)});a.send()};return d}var d=c.prototype;d.render=function(){var a=this.state,c=a.groupName,d=a.groupIcon;a=a.uploadImageInProgress;d=d?b("React").jsx(b("Image"),{height:50,source:d.src,style:{borderRadius:"50%"},width:50}):b("React").jsx(b("Image"),{source:g("513655")});return b("React").jsx(b("FDSModal.react"),{footer:b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),{isDisabled:c===""||!c||!c.replace(/\s/g,"").length||this.state.inviteLink!==null,label:i._("Create"),onClick:this.$1,use:"primary"}),secondaryButton:b("React").jsx(b("FDSCancelButton.react"),{})}),header:b("React").jsx(b("FDSModalHeader.react"),{title:i._("Create Group")}),isShown:this.props.isShown,label:"Create Group",onHide:this.$2,children:b("React").jsx(b("FDSSection.react"),{children:b("React").jsxs(b("FlexLayout.react"),{align:"start",className:"_6bu9",direction:"vertical",children:[b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_3-97",justify:"start",children:[b("React").jsx(b("FileInput.react"),{accept:"image/*",name:"group_icon",onChange:this.$4,ref:"fileInput",children:b("React").jsx(b("Link.react"),{children:b("React").jsxs("div",{className:"_7kmj",desc:"Label for a button that lets people upload a group icon for a new WEC group chat. Having a group icon is optional.",children:[a?b("React").jsx("div",{className:"_75u2 _75u3",children:b("React").jsx(b("MessengerSpinner.react"),{color:"grey",size:24})}):null,a?null:d]})})}),b("React").jsx("div",{className:"_3-9c",children:b("React").jsx(b("FDSText.react"),{color:"primary",size:"header4",children:i._("Add Group Icon")})})]}),b("React").jsxs(b("FlexLayout.react"),{align:"start",className:"_3-97",direction:"vertical",children:[b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-8m",size:"header4",weight:"bold",children:i._("Subject")}),b("React").jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$3,placeholder:i._("Enter a group subject"),value:c})]}),this.state.inviteLink!=null?b("React").jsxs(b("FlexLayout.react"),{align:"start",className:"_3-97",direction:"vertical",children:[b("React").jsx(b("FDSText.react"),{color:"primary",margin:"_3-8m",size:"header4",weight:"bold",children:i._("Invite with a Link")}),b("React").jsxs(b("FlexLayout.react"),{align:"center",direction:"horizontal",children:[b("React").jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy link"),tooltipSuccess:i._("Copied"),value:this.state.inviteLink||"",children:b("React").jsx(b("Image"),{source:g("609121")})}),b("React").jsx("div",{className:"_2pis",children:this.state.inviteLink})]})]}):null]})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderSelector.react",["ix","cssVar","cx","fbt","Image.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showFilter:!0};d.onMultiAdminSearchClick=function(){d.setState(function(){return{showFilter:!1}}),b("PagesManagerInboxFilterAction").changeSearchType("ADMIN"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};d.wrapperRef=b("React").createRef();return d}var d=c.prototype;d.$1=function(a){var c,d=b("PageCommItemStatusUtil").getFolderImage(a,this.props.showNewFolder);return(c=b("React")).jsxs("div",{className:"_4h_z",children:[c.jsx("div",{className:"_4h_-",children:c.jsx(b("Image.react"),{className:"_4i0c",src:d})}),c.jsx("div",{className:"_4h_-","data-testid":this.$2(a),style:{color:b("PageCommItemStatusUtil").getFolderColor(a,this.props.showNewFolder)},children:b("PageCommItemStatusUtil").getLabel(a)})]})};d.$2=function(a){switch(a){case b("PageCommItemFolder").FOLLOW_UP:return"followup_folder";case b("PageCommItemFolder").DONE:return"done_folder";case b("PageCommItemFolder").SPAM:return"spam_folder";case b("PageCommItemFolder").TODO:default:return"inbox_folder"}};d.handleClickOutside=function(a){a=a.target;this.wrapperRef.current&&a instanceof Node&&!this.wrapperRef.current.contains(a)&&this.props.onSelected(this.props.folderSelected)};d.$3=function(){var a;return(a=b("React")).jsx("div",{className:"_4h_x",onClick:this.onMultiAdminSearchClick,children:a.jsxs("div",{className:"_4h_z",children:[a.jsx("div",{className:"_4h_-",children:a.jsx(b("Image.react"),{className:"_4i0c",src:g("946924")})}),a.jsx("div",{className:"_4h_-",style:{color:"#000000"},children:j._("Assigned")})]})})};d.showItem=function(a){var c=this,d=this.props.platform==="INSTAGRAM_DIRECT"&&this.props.shouldShowNewMultiAdminAssignment;d=this.props.threadsManagementStatus==="FILTER"&&(this.props.platform==="MESSENGER"||d&&this.props.platform==="INSTAGRAM_DIRECT"||this.props.showUnifiedThreadlist)&&this.props.platform!=="FACEBOOK"&&this.props.platform!=="INSTAGRAM";return b("React").jsxs("div",{className:"_3xcw","data-testID":"folder_selector",ref:this.wrapperRef,children:[a.map(function(a){return b("React").jsx("div",{className:"_4h_x"+(c.props.folderSelected===a?" _4h_y":""),onClick:function(){return c.props.onSelected(a)},children:c.$1(a)},"item_"+a)}),d?this.$3():null]})};d.render=function(){__p&&__p();var a=this.props.threadsManagementStatus;if(this.props.showNewFolder!==!0){var c=b("PageCommItemStatusUtil").getFolders(this.props.defaultFolder);return this.showItem(c)}switch(a){case"FOLDER":c=b("PageCommItemStatusUtil").getInboxFolders(this.props.defaultFolder);return this.showItem(c);case"FILTER":if(this.state.showFilter){a=b("PageCommItemStatusUtil").getFilters(this.props.defaultFolder);return this.showItem(a)}return null;default:return null}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderSelectorFluxContainer.react",["FluxContainer","PagesManagerInboxFilterStore","PagesManagerInboxHeaderSelector.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return{defaultFolder:a.defaultFolder,folderSelected:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowNewMultiAdminAssignment:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment}};var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxHeaderSelector.react"),{defaultFolder:this.state.defaultFolder,folderSelected:this.state.folderSelected,onSelected:this.props.onSelected,platform:this.props.platform,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,showNewFolder:this.props.showNewFolder,showUnifiedThreadlist:g(),threadsManagementStatus:this.props.threadsManagementStatus})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxListHeaderLeftTopNav.react",["cx","fbt","FDSText.react","Link.react","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxListHeaderSearchBar.react","PagesManagerInboxUtils","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesManagerInboxUtils").setDefaultIGDirectFolder;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(){b("PagesManagerInboxFilterAction").toggleFilterSelector(!1),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem(),i(d.props.folderSelected,d.props.filterType,d.props.pageID)};return d}var d=c.prototype;d.$1=function(){var a,c=b("immutable").Map(this.props.allLabels);return(a=b("React")).jsxs("div",{className:"_65ok",children:[a.jsx(b("Link.react"),{onClick:this.$2,children:a.jsx("div",{className:"_85rp","data-testid":"search_bar_return_button"})}),a.jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.props.contextRef,labels:c,pageID:this.props.pageID})]})};d.$3=function(){return b("React").jsxs(b("Link.react"),{className:"_85mo",onClick:this.props.threadsManagementStatus==="FILTER"?this.props.toggleFilterSelector:this.props.toggleFolderSelector,children:[b("React").jsx("div",{className:"_83m _85rp","data-testid":"return_button"}),b("React").jsx("span",{className:"_83m _102w",children:h._("Close")})]})};d.$4=function(){return b("React").jsx("span",{className:"_7xd- _83m _102w",children:h._("Messages")})};d.$5=function(){var a,c=b("PageCommItemStatusUtil").getLabel(b("PageCommItemStatusUtil").getThreadsManagementStatus(this.props.folderSelected));return(a=b("React")).jsx(b("Link.react"),{className:"_85mo","data-testid":"folder_label",onClick:this.props.toggleFolderSelector,children:a.jsxs("div",{children:[a.jsx("span",{className:"_83m _102w",children:a.jsx(b("FDSText.react"),{display:"truncate",children:c})}),a.jsx("span",{className:"_83m _83aj"})]})})};d.render=function(){if(this.props.isSearchActive)return this.$1();else{if(this.props.threadsManagementStatus!=="NONE")return this.$3();return this.props.filterType==="WEC"?this.$4():this.$5()}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAwayToggleMutation",["DateTime","RelayFBEnvironment","RelayModern","PagesManagerInboxAwayToggleMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAwayToggleMutation.graphql");function a(a,c){var d=function(){return{set_page_away_toggle:{page:{away_toggle_expiration:a.isAway?b("DateTime").localNow().addHours(12).getUnixTimestampSeconds():null,id:a.pageID,is_away_toggle_on:a.isAway}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,is_away:a.isAway,page_id:a.pageID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAwayToggle.react",["cx","fbt","DateTime","FBCheckbox.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","Link.react","PagesManagerInboxAwayToggleMutation","PagesTimeRangeEditorUtilities","React","SUIBusinessTheme","SUIPopoverLayer.react","Tooltip","XPagesManagerInboxController","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("You'll be notified when people send {page name} messages on Instagram and Messenger.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("You'll be notified when people send {page name} messages on Instagram.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)]));return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)])})]})]})}function j(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you messages on Instagram and Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Messenger response rate or response time calculations.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you Instagram messages will receive an away message, and you won't get message notifications.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you messages in Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)]));return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return b("React").jsxs("div",{className:"_7mhr",children:[b("React").jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),b("React").jsxs("div",{className:"_7mhs",children:[b("React").jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),b("React").jsxs(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:[a.isChecked?null:h._("{page name} will be away for 12 hours or as long as you're scheduled to be away.",[h._param("page name",a.pageName)])," ",h._("People who send {page name} messages in Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)])]})]})]})}function k(a){__p&&__p();var c=b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("When you edit your away message, you also can schedule times for your Page to be away each week.")});if(a.hasAwaySchedule){var d=a.nextAwayBlock;if(d==null)c=b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You've scheduled your Page to be always away.")});else{var e=b("DateTime").localCreate(d.from);d=b("DateTime").localCreate(d.to);var f=b("DateTime").localNow(),g=e.getDayOfWeek()===d.getDayOfWeek();c=b("React").jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("Your Page is scheduled to be away next from {nextAwayFrom} to {nextAwayTo}.",[h._param("nextAwayFrom",b("PagesTimeRangeEditorUtilities").getFormatedTime(e,f,g)),h._param("nextAwayTo",b("PagesTimeRangeEditorUtilities").getFormatedTime(d,f))])})}}return b("React").jsxs("div",{className:"_7mht",children:[c,b("React").jsx(b("Link.react"),{href:a.getMessageSettingsURI(),children:h._("Edit Away Message and Schedule")})]})}function l(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:h._("OK"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:h._("Make Page Available?")}),isShown:a.isShown,onHide:a.onCancelClick,children:c.jsx(b("FDSSection.react"),{children:c.jsx(b("FDSText.react"),{children:h._("Because your Page is scheduled to always be away, making your Page available will remove your away schedule. You can schedule times for your Page to be away in the Automated Responses tab.")})})})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showAlwaysAwayDialog:!1},d.handleClickOutside=function(a){a=a.target;d.$2&&a instanceof Node&&!d.$2.contains(a)&&d.setState({showDialog:!1})},d.$3=function(a){d.$2=a},d.$4=function(){b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!0}),d.setState({showDialog:!1})},d.$5=function(){if(!d.props.awayTimeRanges.isEmpty()&&d.props.expireTimestamp==null){d.setState({showAlwaysAwayDialog:!0});return}b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1});d.setState({showDialog:!1})},d.$6=function(){return b("XPagesManagerInboxController").getURIBuilder().setString("page_token",d.props.pageID).setEnum("section","automated_responses").setEnum("automation","away_message").getURI()},d.$7=function(a){d.$1=a},d.$8=function(){return d.$1},d.$9=function(){d.setState(function(a){return{showDialog:!a.showDialog}})},d.$10=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1})},d.$11=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1}),b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)};d.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)};d.render=function(){var a=this.props.nextAwayRange!=null?JSON.parse(this.props.nextAwayRange):null;return b("React").jsxs("div",{children:[b("React").jsx("div",babelHelpers["extends"]({className:"_7xv1",onClick:this.$9,ref:this.$7,role:"button",tabIndex:"0"},b("Tooltip").propsFor(this.props.isAway?h._("Away"):h._("Available")),{children:b("React").jsx("div",{className:"_7xu0"+(this.props.isAway?" _44hk":"")+(this.props.isAway?"":" _44hl")})})),this.state.showDialog?b("React").jsx(b("SUIPopoverLayer.react"),{content:b("React").jsxs("div",{className:"_7mhu",ref:this.$3,children:[b("React").jsx(i,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:!this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$5,pageName:this.props.pageName}),b("React").jsx(j,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$4,pageName:this.props.pageName}),b("React").jsx(k,{getMessageSettingsURI:this.$6,hasAwaySchedule:!this.props.awayTimeRanges.isEmpty(),nextAwayBlock:a})]}),contextRef:this.$8,margin:"_4jnw",offsetY:8,position:"below",theme:b("SUIBusinessTheme")}):null,b("React").jsx(l,{isShown:this.state.showAlwaysAwayDialog,onCancelClick:this.$10,onConfirmClick:this.$11})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAwayToggleContainer.react",["fbt","FluxContainer","PagesManagerInboxAwayToggle.react","PagesManagerInboxFilterStore","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesMarketingAutomationContentUtils","PagesTimeRangeEditorUtilities","React","RelayModern","XUIAmbientNUX.react","PagesManagerInboxAwayToggleContainer_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,j=b("PagesMarketingAutomationContentUtils").getPlatformStatus,k=b("PagesMarketingAutomationContentUtils").getShouldShowIGDirectAutomatedResponse;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l="www_pages_new_away_toggle_nux";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(l)),d.setState({newAwayInfoLocationNuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a;a=(a=b("PagesManagerInboxStore").getConfig().pageName)!=null?a:"";return{commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),newAwayInfoLocationNuxShown:b("PagesManagerInboxStore").shouldShowNUX(l),pageName:a}};var d=c.prototype;d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.$3=function(){var a=this;return!this.state.newAwayInfoLocationNuxShown?null:b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.awayinfobutton},onCloseButtonClick:this.$1,position:"below",shown:!0,children:g._("Tell people your Page is away when you won't be able to respond to messages.")})};d.render=function(){__p&&__p();var a,c,d,e,f,g,h,l=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;l=this.state.commPlatform==="INSTAGRAM_DIRECT"&&l;if(this.state.commPlatform!=="MESSENGER"&&l===!1&&i()===!1)return null;l=(l=this.props)!=null?(l=l.page)!=null?l.away_time_range:l:l;h=(h=this.props)!=null?(h=h.page)!=null?h.away_time_zone:h:h;g=(g=this.props)!=null?(g=g.page)!=null?g.away_toggle_expiration:g:g;f=(f=this.props)!=null?(f=f.page)!=null?f.is_away_toggle_on:f:f;e=(e=this.props)!=null?(e=e.page)!=null?e.id:e:e;if(l==null||f==null||e==null||h==null)return b("React").jsx("div",{});l=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(l);a=(a=this.props.page)==null?void 0:(a=a.admin_info)==null?void 0:(a=a.away_response)==null?void 0:a.platforms;var m=j(a,"MESSENGER"),n=j(a,"INSTAGRAM_DIRECT");c=((c=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:c.igAccountID)!==null;d=(d=b("PagesManagerInboxStore").getConfig().pageName)!=null?d:"";return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxAwayToggle.react"),{awayTimeRanges:l,awayTimezone:h,expireTimestamp:g,getShouldShowIGDirectAutomatedResponse:k(a,"away_message"),igPlatformEnabled:n,isAway:f,isIGDirecConnected:c,messengerPlatformEnabled:m,nextAwayRange:this.props.page.next_away_range,pageID:e,pageName:d,ref:"awayinfobutton"}),this.$3()]})};return c}(b("React").PureComponent);e.exports=a(b("FluxContainer").create(c),{page:h!==void 0?h:h=b("PagesManagerInboxAwayToggleContainer_page.graphql")})}),null);
__d("PagesManagerInboxAwayToggleRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayToggleContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayToggleRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.componentWillUnmount=function(){this.$1.dispose()};d.render=function(){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayToggleRootQuery.graphql"),render:function(a){var c=a.error;a=a.props;return a&&!c?b("React").jsx(b("PagesManagerInboxAwayToggleContainer.react"),babelHelpers["extends"]({},a)):null},variables:{pageID:this.props.pageID}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNewFolderNUX.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="www_pages_inbox_new_folder";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNewFolderNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNewFolderNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[h]};d.render=function(){var a=g._("Quickly see what's unread, has been assigned or needs follow-up.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"below",shown:this.state.shouldShowNewFolderNUX,width:"normal",children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxTopNavCreateWAButtonContainer.react",["cx","fbt","FluxContainer","PagesManagerInboxStore","React","Tooltip"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig().platformConfigs.WEC}};var d=c.prototype;d.render=function(){if(!this.state.config.mailboxID)return null;else return b("React").jsx("div",babelHelpers["extends"]({className:"_6qn4"},b("Tooltip").propsFor(h._("Create group")),{onClick:this.props.onClick}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxListHeaderRightTopNav.react",["cx","fbt","ErrorBoundary.react","Link.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxAwayToggleRoot.react","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxNewFolderNUX.react","PagesManagerInboxTopNavCreateWAButtonContainer.react","PagesMessagingInboxActionLogger","React","Tooltip"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=null;d.getContextRef=function(){return d.$1};d.$4=function(){b("PagesManagerInboxLogger").logSearchClick(!0,d.props.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(d.props.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};return d}var d=c.prototype;d.$2=function(){return this.props.isSearchActive||this.props.filterType==="WEC"?null:b("React").jsx(b("PagesManagerInboxAwayToggleRoot.react"),{className:"_dat",pageID:this.props.pageID})};d.$3=function(){var a=this.props.filterType==="WEC";return this.props.shouldShowCometNewDesign||this.props.selectedCustomerID!=null||this.props.isSearchActive||a?null:b("React").jsx(b("Link.react"),{className:"_dat",onClick:this.$4,children:b("React").jsx("div",babelHelpers["extends"]({className:"_-8b"},b("Tooltip").propsFor(h._("Search"))))})};d.$5=function(){var a=this;if(b("PageCommItemStatusUtil").getThreadsManagementStatus(this.props.folderSelected)===b("PageCommItemFolder").TODO&&this.props.isSearchActive===!1)return b("React").jsxs(b("Link.react"),{className:"_dat","data-testid":"filter_label",onClick:this.props.toggleFilterSelector,children:[b("React").jsx("div",babelHelpers["extends"]({className:"_83ak",ref:function(b){a.$1=b}},b("Tooltip").propsFor(h._("Filter conversations")))),this.props.showNewFolderNux?b("React").jsx(b("PagesManagerInboxNewFolderNUX.react"),{contextRef:this.getContextRef}):null]});else return null};d.$6=function(){return this.props.filterType!=="WEC"?null:b("React").jsx(b("PagesManagerInboxTopNavCreateWAButtonContainer.react"),{onClick:this.props.onShowWACreateGroupDialog})};d.render=function(){return this.props.isFolderChangeActive||this.props.isFilterChangeActive?null:b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs("div",{className:"_das",children:[this.$2(),this.$5(),this.$3(),this.$6()]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderTopNav.react",["cx","CenteredContainer.react","ErrorBoundary.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxAutomationDoneFolderNUX.react","PagesManagerInboxBulkActionsCancelSelectionButton.react","PagesManagerInboxBulkActionsNavBarContainer.react","PagesManagerInboxBulkSelectionButtonContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxCreateGroupDialog.react","PagesManagerInboxFilterAction","PagesManagerInboxHeaderSelectorFluxContainer.react","PagesManagerInboxListHeaderLeftTopNav.react","PagesManagerInboxListHeaderRightTopNav.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesMangerInboxMultiAdminFilterUtil","PagesMessagingInboxActionLogger","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="www_pages_inbox_new_folder";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c)||this;e.state={shouldShowWECCreateGroupDialog:!1};e.toggleFolderSelector=function(){b("PagesManagerInboxFilterAction").toggleFolderSelector(!e.props.isFolderChangeActive)};e.toggleFilterSelector=function(){b("PagesManagerInboxFilterAction").toggleFilterSelector(!e.props.isFilterChangeActive)};e.$3=function(a){__p&&__p();e.props.isFilterChangeActive&&e.toggleFilterSelector();e.props.isFolderChangeActive&&e.toggleFolderSelector();b("PagesManagerInboxLogger").logFolderChangeClick(e.props.filterType,a);b("PagesManagerInboxLogger").logFolderSwitchClick(e.props.filterType,e.props.folderSelected,a);e.props.folderSelected!==a&&b("PagesManagerAction").clearViewListItem();if(e.props.filterType==="INSTAGRAM_DIRECT"||e.props.shouldShowUnifiedThreadlist){var c;b("IGMessageDataMutateAction").forceFetchInbox(e.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,(c=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((c=e.props.filterOwner)==null?void 0:c.id))!=null?c:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(e.props.pageID,a)};e.onShowWACreateGroupDialog=function(){var a="group_create_dialog_clicked";e.setState(function(){return{shouldShowWECCreateGroupDialog:!0}});b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};e.$6=function(){e.setState(function(){return{shouldShowWECCreateGroupDialog:!1}})};return e}var d=c.prototype;d.$2=function(){return!this.props.isFolderChangeActive?null:b("React").jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,showNewFolder:this.props.showNewFolder,threadsManagementStatus:"FOLDER"})};d.$4=function(){return!this.props.isFilterChangeActive?null:b("React").jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,showNewFolder:this.props.showNewFolder,threadsManagementStatus:"FILTER"})};d.$5=function(){var a="NONE";this.props.isFilterChangeActive?a="FILTER":this.props.isFolderChangeActive&&(a="FOLDER");return b("React").jsx(b("PagesManagerInboxListHeaderLeftTopNav.react"),{allLabels:this.props.allLabels,contextRef:this.$1,filterType:this.props.filterType,folderSelected:this.props.folderSelected,isSearchActive:this.props.isSearchActive,pageID:this.props.pageID,searchType:this.props.searchType,threadsManagementStatus:a,toggleFilterSelector:this.toggleFilterSelector,toggleFolderSelector:this.toggleFolderSelector})};d.$7=function(){var a=Boolean(this.props.isBulkSelectionMode);return b("React").jsxs("div",{className:"_3qn7 _3qng",children:[!a&&b("React").jsx(b("PagesManagerInboxListHeaderRightTopNav.react"),{filterType:this.props.filterType,folderSelected:this.props.folderSelected,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,onShowWACreateGroupDialog:this.onShowWACreateGroupDialog,pageID:this.props.pageID,searchType:this.props.searchType,selectedCustomerID:this.props.selectedCustomerID,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign(),showNewFolderNux:b("PagesManagerInboxStore").shouldShowNUX(h),toggleFilterSelector:this.toggleFilterSelector}),this.$8(a)]})};d.$8=function(a){var c;return Boolean(this.props.allowBulkSelection)?b("React").jsxs(b("React").Fragment,{children:[a&&b("React").jsx(b("PagesManagerInboxBulkActionsNavBarContainer.react"),{folderSelected:this.props.folderSelected,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0}),b("React").jsx(b("PagesManagerInboxBulkSelectionButtonContainer.react"),{active:a,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0})]}):null};d.render=function(){var a=this,c=null;!Boolean(this.props.isBulkSelectionMode)?c=this.$5():c=b("React").jsx(b("PagesManagerInboxBulkActionsCancelSelectionButton.react"),{});var d=b("React").jsxs(b("CenteredContainer.react"),{className:"_83i",fullHeight:!0,horizontal:!1,vertical:!0,children:[this.$7(),b("React").jsx(b("PagesManagerInboxCreateGroupDialog.react"),{isShown:this.state.shouldShowWECCreateGroupDialog,mailboxID:this.props.mailboxID,onHide:this.$6,pageID:this.props.pageID})]});return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:b("React").jsxs("div",{children:[b("React").jsxs("div",{className:"_83e","data-testid":"inboxListTopNav",children:[b("React").jsxs(b("CenteredContainer.react"),{className:"_83f",fullHeight:!0,horizontal:!1,vertical:!0,children:[c,b("React").jsx(b("PagesManagerInboxAutomationDoneFolderNUX.react"),{contextRef:function(){return a.$1}})]}),d]}),this.$2(),this.$4(),b("React").jsx("div",{ref:function(b){return a.$1=b}})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderTopNavNUXFluxContainer.react",["fbt","FluxContainer","PagesManagerInboxHeaderTopNavNUX.react","PagesManagerInboxListStore","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="pages_inbox_change_folder";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.state.showChangeFolderNUX&&b("PagesManagerInboxNUXAction").hide()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerInboxListStore")]};c.calculateState=function(){return{changedFolder:b("PagesManagerInboxListStore").hasMutatedItem(),showChangeFolderNUX:b("PagesManagerInboxStore").shouldShowNUX(h)}};var d=c.prototype;d.render=function(){var a=this;if(this.state.showChangeFolderNUX&&this.state.changedFolder){var c=g._("Click to see your folders");return b("React").jsx(b("PagesManagerInboxHeaderTopNavNUX.react"),{contextRef:this.props.contextRef,onComponentMount:function(){return a.$1(h)},onComponentUnmount:this.$2,onDismiss:function(){return a.$3(h)},nuxText:c})}return null};d.$4=function(a){return b("PagesManagerInboxNUX")[a]};d.$1=function(a){b("PagesManagerInboxNUXAction").logView(this.$4(a))};d.$3=function(a){b("PagesManagerInboxNUXAction").dismiss(this.$4(a))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxOldListHeaderTopNav.react",["cx","fbt","CenteredContainer.react","Image.react","Link.react","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxAwayToggleRoot.react","PagesManagerInboxBulkActionsCancelSelectionButton.react","PagesManagerInboxBulkActionsNavBarContainer.react","PagesManagerInboxBulkSelectionButtonContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxCreateGroupDialog.react","PagesManagerInboxFilterAction","PagesManagerInboxHeaderSelectorFluxContainer.react","PagesManagerInboxHeaderTopNavNUXFluxContainer.react","PagesManagerInboxListHeaderSearchBar.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerInboxTopNavCreateWAButtonContainer.react","PagesMessagingInboxActionLogger","React","Tooltip","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c)||this;e.state={shouldShowWECCreateGroupDialog:!1};e.$8=function(){b("PagesManagerInboxFilterAction").toggleFolderSelector(!e.props.isFolderChangeActive)};e.$6=function(a){e.$8(),b("PagesManagerInboxLogger").logFolderChangeClick(e.props.filterType,a),b("PagesManagerInboxLogger").logFolderSwitchClick(e.props.filterType,e.props.folderSelected,a),e.props.folderSelected!==a&&b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeFolder(e.props.pageID,a)};e.$15=function(){var a="group_create_dialog_clicked";e.setState(function(){return{shouldShowWECCreateGroupDialog:!0}});b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};e.$16=function(){e.setState(function(){return{shouldShowWECCreateGroupDialog:!1}})};e.$18=function(){b("PagesManagerInboxLogger").logSearchClick(!0,e.props.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(e.props.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};return e}var d=c.prototype;d.$2=function(){return null};d.$3=function(){var a,c=b("immutable").Map(this.props.allLabels);return(a=b("React")).jsxs("div",{className:"_65ok",children:[a.jsx(b("Link.react"),{onClick:this.$4,children:a.jsx("div",{className:"_3xcy","data-testid":"search_bar_return_button"})}),a.jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.$1,labels:c,pageID:this.props.pageID})]})};d.$5=function(){return!this.props.isFolderChangeActive?null:b("React").jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$6,platform:this.props.filterType,showNewFolder:this.props.showNewFolder,threadsManagementStatus:"FOLDER"})};d.$4=function(){b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem()};d.$7=function(){var a=this;if(this.props.isFolderChangeActive)return b("React").jsxs(b("Link.react"),{className:"_83j",onClick:this.$8,children:[b("React").jsx("div",{className:"_83m _3xcy","data-testid":"return_button"}),b("React").jsx("span",{className:"_83m _102w",children:h._("Return")})]});if(this.props.filterType==="INSTAGRAM_DIRECT"||this.props.filterType==="WEC")return b("React").jsx("span",{className:"_7xd- _83m _102w",children:h._("Messages")});var c=b("PageCommItemStatusUtil").getLabel(this.props.folderSelected);return b("React").jsxs(b("Link.react"),{className:"_83j","data-testid":"folder_label",onClick:this.$8,children:[b("React").jsx("span",{className:"_83m _102w",ref:"changeFolderMenu",children:c}),b("React").jsx(b("PagesManagerInboxHeaderTopNavNUXFluxContainer.react"),{contextRef:function(){return a.refs.changeFolderMenu}}),b("React").jsx("div",{className:"_83m _6j3s"})]})};d.$9=function(){if(this.props.isFolderChangeActive)return null;var a=Boolean(this.props.isBulkSelectionMode);if(!a)return b("React").jsxs("div",{className:"_das",children:[this.$10(),this.$11(),this.$12(),this.$13(),this.$14(a)]});else return b("React").jsx("div",{className:"_das",children:this.$14(a)})};d.$14=function(a){var c;return Boolean(this.props.allowBulkSelection)?b("React").jsx("div",{className:"_dat",children:b("React").jsxs("div",{className:"_3qn7 _3qng",children:[a&&b("React").jsx(b("PagesManagerInboxBulkActionsNavBarContainer.react"),{folderSelected:this.props.folderSelected,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0}),b("React").jsx(b("PagesManagerInboxBulkSelectionButtonContainer.react"),{active:a,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0})]})}):null};d.$13=function(){return this.props.filterType!=="WEC"?null:b("React").jsx(b("PagesManagerInboxTopNavCreateWAButtonContainer.react"),{onClick:this.$15})};d.$10=function(){if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.filterType!=="MESSENGER")return null;if(this.props.searchType==="CONTENT")return null;return this.props.isSearchActive&&this.props.searchType==="LABEL"?null:b("React").jsx(b("Link.react"),{className:"_dat",onClick:this.$17,children:this.props.filterOwner.photoURL!==null&&this.props.filterOwner.photoURL!==void 0&&this.props.filterOwner.photoURL!==""?b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_-w_",src:this.props.filterOwner.photoURL},b("Tooltip").propsFor(h._("Filtered by owner: {owner_name}",[h._param("owner_name",this.props.filterOwner.name)])))):this.props.filterOwner.id==="NONE"?b("React").jsx("div",babelHelpers["extends"]({className:"_2tn8"},b("Tooltip").propsFor(h._("Filtered by: Unassigned")))):b("React").jsx("div",babelHelpers["extends"]({className:"_2tn9"},b("Tooltip").propsFor(h._("Filter by owner"))))})};d.$11=function(){if(this.props.isSearchActive)return null;return this.props.filterType==="WEC"?null:b("React").jsx(b("PagesManagerInboxAwayToggleRoot.react"),{className:"_dat",pageID:this.props.pageID})};d.$12=function(){if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign())return null;if(this.props.selectedCustomerID!==null&&this.props.selectedCustomerID!==void 0)return null;if(this.props.isSearchActive)return null;return this.props.filterType==="WEC"?null:b("React").jsx(b("Link.react"),{className:"_dat",onClick:this.$18,children:b("React").jsx("div",babelHelpers["extends"]({className:"_-8b"},b("Tooltip").propsFor(h._("Search"))))})};d.$17=function(){b("PagesManagerInboxFilterAction").changeSearchType("ADMIN"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};d.render=function(){var a=this,c=null;!Boolean(this.props.isBulkSelectionMode)?c=this.props.isSearchActive?this.$3():this.$7():c=b("React").jsx(b("PagesManagerInboxBulkActionsCancelSelectionButton.react"),{});var d=b("React").jsxs(b("CenteredContainer.react"),{className:"_83i",fullHeight:!0,horizontal:!1,vertical:!0,children:[this.$9(),b("React").jsx(b("PagesManagerInboxCreateGroupDialog.react"),{isShown:this.state.shouldShowWECCreateGroupDialog,mailboxID:this.props.mailboxID,onHide:this.$16,pageID:this.props.pageID})]});return b("React").jsxs("div",{children:[b("React").jsxs("div",{className:"_83e","data-testid":"inboxListTopNav",children:[b("React").jsx(b("CenteredContainer.react"),{className:"_83f",fullHeight:!0,horizontal:!1,vertical:!0,children:c}),d,this.$2()]}),this.$5(),b("React").jsx("div",{ref:function(b){return a.$1=b}})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},AUTOMATED_CHECKOUT:{SET_AUTOMATED_CHECKOUT_ID:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:"",SET_REPLIES:"",SET_TOKENS:"",SET_UPSELL_NUX:"",SET_UPSELL_TOAST:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""},COMPOSER_STATE_REASON:""});e.exports=a}),null);
__d("PagesManagerMessagingComposerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={clearMessage:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:a})},detachAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:a})},fileUploaderReady:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:a})},setAutomatedCheckoutId:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID,automatedCheckoutID:a})},setIsSavedRepliesLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:a})},setMessage:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:a})},setParticipant:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:a})},setSavedReplies:function(a,c){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:a,tokens:c})},setSavedReplyResponses:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES,replies:a})},setSavedReplyTokens:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS,tokens:a})},setShouldShowSavedReplyUpsellToast:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST,shouldShowSavedReplyUpsellToast:a})},setShouldShowSavedReplyUpsellNUX:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX,shouldShowSavedReplyUpsellNUX:a})},setShareLinkUploader:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:a})},startAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:a})},setComposerStateReason:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON,composerStateReason:a})}};e.exports=a}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","MercuryConfig","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","SavedResponsesUtils","URI","XWECMessagingAttachmentUploadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();b=a.call(this,b)||this;b.$PagesManagerMessagingComposerStore1=new Map();b.$PagesManagerMessagingComposerStore3=null;b.$PagesManagerMessagingComposerStore4=!1;b.$PagesManagerMessagingComposerStore5="";b.$PagesManagerMessagingComposerStore6=null;b.$PagesManagerMessagingComposerStore7=!1;b.$PagesManagerMessagingComposerStore8=!1;b.$PagesManagerMessagingComposerStore9=[];b.$PagesManagerMessagingComposerStore10={};b.$PagesManagerMessagingComposerStore11="";b.$PagesManagerMessagingComposerStore12=null;b.$PagesManagerMessagingComposerStore13=null;return b}var d=c.prototype;d.getAllAttachmentsMeta=function(){__p&&__p();var a=this.$PagesManagerMessagingComposerStore14(),b=[];for(var c=this.$PagesManagerMessagingComposerStore1.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;(f.id&&a.indexOf(f.id)!==-1||f.isUploading)&&b.push(f)}return b};d.getAttachedAttachmentIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAttachments():[]};d.getAttachedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getImageFiles():[]};d.getAttachedAnimatedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAnimatedImageFiles():[]};d.getAttachedVideoIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getVideoFiles():[]};d.getAttachedAudioFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAudioFiles():[]};d.getAttachedFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getFiles():[]};d.getAutomatedCheckoutId=function(){return this.$PagesManagerMessagingComposerStore2};d.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore3};d.getIsAttachmentUploading=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.isUploading():!1};d.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};d.getQuickReplyMode=function(){return b("PagesMessagingConfig").sendOnEnter};d.getShouldShowSavedReplyUpsellNUX=function(){return this.$PagesManagerMessagingComposerStore7};d.getShouldShowSavedReplyUpsellToast=function(){return this.$PagesManagerMessagingComposerStore8};d.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};d.getSavedReplyResponses=function(){return this.$PagesManagerMessagingComposerStore9};d.getSavedReplyTokens=function(){return this.$PagesManagerMessagingComposerStore10};d.getMatchingShortcut=function(){return this.$PagesManagerMessagingComposerStore11};d.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore12)return this.$PagesManagerMessagingComposerStore12.getAttachData()};d.getUploadActionFromUserID=function(a,c){if(!c)return null;return a==="WEC"?b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",c).getURI().toString():new(g||(g=b("URI")))(b("MercuryConfig").upload_url).addQueryData("request_user_id",c).toString()};d.$PagesManagerMessagingComposerStore15=function(a,b){this.$PagesManagerMessagingComposerStore1.set(b.upload_id,{id:"",isUploading:!0,name:b.metadata.filename,type:b.metadata.filetype,uploadID:b.upload_id})};d.$PagesManagerMessagingComposerStore16=function(a){var b=this;a.map(function(a){b.$PagesManagerMessagingComposerStore1.set(a.upload_id,{id:"",isUploading:!0,name:a.metadata.name,type:a.metadata.type,uploadID:a.upload_id})})};d.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore5="",this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore18=function(a){this.$PagesManagerMessagingComposerStore1.has(a)&&this.$PagesManagerMessagingComposerStore1["delete"](a)};d.$PagesManagerMessagingComposerStore19=function(){this.$PagesManagerMessagingComposerStore12&&this.$PagesManagerMessagingComposerStore12.clear()};d.$PagesManagerMessagingComposerStore20=function(a){var b;this.$PagesManagerMessagingComposerStore1.has(a.upload_id)&&(b=this.$PagesManagerMessagingComposerStore1.get(a.upload_id),b.id=this.$PagesManagerMessagingComposerStore21(a),b.isUploading=!1,this.$PagesManagerMessagingComposerStore1.set(a.upload_id,b))};d.$PagesManagerMessagingComposerStore14=function(){if(!this.$PagesManagerMessagingComposerStore3)return[];var a=this.$PagesManagerMessagingComposerStore3;return[].concat(a.getAttachments(),a.getImageFiles(),a.getAnimatedImageFiles(),a.getVideoFiles(),a.getAudioFiles(),a.getFiles())};d.$PagesManagerMessagingComposerStore21=function(a){return a.metadata.image_id||a.metadata.gif_id||a.metadata.video_id||a.metadata.audio_id||a.metadata.file_id};d.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore22();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore20(a.attachment);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore16(a.files);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore23(a.uploadID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore24();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID:this.$PagesManagerMessagingComposerStore25(a.automatedCheckoutID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore17();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore26(a.message);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore27(a.participant);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore28(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES:this.$PagesManagerMessagingComposerStore29(a.replies);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS:this.$PagesManagerMessagingComposerStore30(a.tokens);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX:this.$PagesManagerMessagingComposerStore31(a.shouldShowSavedReplyUpsellNUX);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST:this.$PagesManagerMessagingComposerStore32(a.shouldShowSavedReplyUpsellToast);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore33(a.uploader);break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore19();break;case b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore34(a.uploader);this.$PagesManagerMessagingComposerStore35();break;case b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON:this.$PagesManagerMessagingComposerStore13=a.composerStateReason;this.__emitChange();break}};d.$PagesManagerMessagingComposerStore24=function(){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeAttachments(),this.$PagesManagerMessagingComposerStore1.clear())};d.$PagesManagerMessagingComposerStore23=function(a){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeOneAttachment(a),this.$PagesManagerMessagingComposerStore18(a))};d.$PagesManagerMessagingComposerStore22=function(){var a=this;this.$PagesManagerMessagingComposerStore1.forEach(function(b,c){b.isUploading&&a.$PagesManagerMessagingComposerStore1["delete"](b.uploadID)})};d.$PagesManagerMessagingComposerStore25=function(a){this.$PagesManagerMessagingComposerStore2=a};d.$PagesManagerMessagingComposerStore34=function(a){this.$PagesManagerMessagingComposerStore3=a};d.$PagesManagerMessagingComposerStore28=function(a){this.$PagesManagerMessagingComposerStore4=a};d.$PagesManagerMessagingComposerStore26=function(a){this.$PagesManagerMessagingComposerStore5=a,a.length>=3&&b("SavedResponsesUtils").checkHasMatchingShortcut(a,this.$PagesManagerMessagingComposerStore9)?this.$PagesManagerMessagingComposerStore11=a.toLowerCase():this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore27=function(a){this.$PagesManagerMessagingComposerStore6=a};d.$PagesManagerMessagingComposerStore29=function(a){this.$PagesManagerMessagingComposerStore9=a};d.$PagesManagerMessagingComposerStore30=function(a){var b=Object.keys(this.$PagesManagerMessagingComposerStore10).length;this.$PagesManagerMessagingComposerStore10=a;b===0&&this.$PagesManagerMessagingComposerStore9!==null&&this.$PagesManagerMessagingComposerStore29(this.$PagesManagerMessagingComposerStore9)};d.$PagesManagerMessagingComposerStore31=function(a){this.$PagesManagerMessagingComposerStore7=a};d.$PagesManagerMessagingComposerStore32=function(a){this.$PagesManagerMessagingComposerStore8=a};d.$PagesManagerMessagingComposerStore33=function(a){this.$PagesManagerMessagingComposerStore12=a};d.$PagesManagerMessagingComposerStore35=function(){var a=this.$PagesManagerMessagingComposerStore3;a&&a.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore15.bind(this))};d.getComposerStateReason=function(){return this.$PagesManagerMessagingComposerStore13};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingComposerDispatcher"))}),null);
__d("PagesManagerInboxSavedRepliesUpsellToastContainer.react",["cx","fbt","FDSGuidanceToast.react","FDSGuidanceToastCloseButton.react","FluxContainer","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a){return{shouldShowToast:b("PagesManagerMessagingComposerStore").getShouldShowSavedReplyUpsellToast()}};var d=c.prototype;d.$1=function(){b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!1)};d.render=function(){return this.state.shouldShowToast?b("React").jsx("div",{className:"_8qgr",children:b("React").jsx(b("FDSGuidanceToast.react"),{closeButton:b("React").jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:this.$1}),content:h._("Added to Saved Replies"),type:"success"})}):null};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxNavListView.react",["cx","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAutomationToastContainer.react","PagesManagerInboxBanToastContainer.react","PagesManagerInboxBulkActionsNoticeContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFolderChangeNoticeContainer.react","PagesManagerInboxListFluxContainer.react","PagesManagerInboxListHeaderTopNav.react","PagesManagerInboxOldListHeaderTopNav.react","PagesManagerInboxSavedRepliesUpsellToastContainer.react","PagesManagerInboxStore","React","ResponsiveBlock.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.filterFolder===b("PageCommItemFolder").TODO&&b("PagesManagerAction").setListHeaderHeight(0)};d.$1=function(a,c){b("PagesManagerAction").setListNavigationHeight(c)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.props.filterType),c=this.props.selectedThreads?this.props.selectedThreads.count():0;return b("React").jsxs("div",{className:"_6j3i",children:[b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&this.props.isSearchActive?null:b("React").jsx(b("ResponsiveBlock.react"),{onResize:this.$1,children:this.props.showNewFolder||this.props.shouldShowUnifiedThreadlist&&(this.props.filterType==="INSTAGRAM_DIRECT"||this.props.filterType==="MESSENGER")?b("React").jsx(b("PagesManagerInboxListHeaderTopNav.react"),{allLabels:this.props.allLabels,allowBulkSelection:this.props.allowBulkSelection,filterOwner:this.props.filterOwner,filterType:this.props.filterType,folderSelected:this.props.filterFolder,isBulkSelectionMode:this.props.isBulkSelectionMode,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,mailboxID:a,pageID:this.props.pageID,searchTerm:this.props.searchTerm,searchType:this.props.searchType,selectedCommentView:this.props.selectedCommentView,selectedCustomerID:this.props.selectedCustomerID,selectedThreadsCount:c,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist,showNewFolder:this.props.showNewFolder}):b("React").jsx(b("PagesManagerInboxOldListHeaderTopNav.react"),{allLabels:this.props.allLabels,allowBulkSelection:this.props.allowBulkSelection,filterOwner:this.props.filterOwner,filterType:this.props.filterType,folderSelected:this.props.filterFolder,isBulkSelectionMode:this.props.isBulkSelectionMode,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,mailboxID:a,pageID:this.props.pageID,searchTerm:this.props.searchTerm,searchType:this.props.searchType,selectedCommentView:this.props.selectedCommentView,selectedCustomerID:this.props.selectedCustomerID,selectedThreadsCount:c,showNewFolder:this.props.showNewFolder})}),b("React").jsxs("div",{className:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8daj":"_29xb",children:[b("React").jsx(b("PagesManagerInboxListFluxContainer.react"),{height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:a,onSelectionChange:b("PagesManagerAction").handleSelectionMapChange,paddingBottom:0,pageName:this.props.pageName}),b("React").jsx(b("PagesManagerInboxFolderChangeNoticeContainer.react"),{pageID:a}),b("React").jsx(b("PagesManagerInboxBulkActionsNoticeContainer.react"),{}),b("React").jsx(b("PagesManagerInboxBanToastContainer.react"),{pageID:a}),b("React").jsx(b("PagesManagerInboxAutomationToastContainer.react"),{activeType:this.props.filterType,commItemFolder:this.props.filterFolder,pageID:a,selectedCustomerID:this.props.selectedCustomerID}),b("React").jsx(b("PagesManagerInboxSavedRepliesUpsellToastContainer.react"),{})]})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListView.react",["FluxContainer","JSResource","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerCustomLabelsStore","PagesManagerInboxCometSearchBarContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","PagesManagerInboxNavListView.react","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","QuickPerformanceLogger","React","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("lazyLoadComponent")(b("JSResource")("PagesAutomatedResponsesList.react").__setRef("PagesManagerInboxListView.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(a,c){__p&&__p();a=c.config.validPlatformTypes;var d=b("PagesManagerInboxFilterStore").getActiveFolder(),e=b("PageCommItemStatusUtil").getFolderQECheck();d!==b("PageCommItemFolder").TODO&&(a=e?a.filter(function(a){return a!=="WEC"}):a.filter(function(a){return a!=="WEC"&&a!=="INSTAGRAM_DIRECT"}));e=b("PagesManagerInboxFilterStore").getActiveType();var f=c.config.platformConfigs.MESSENGER,g=c.config.platformConfigs.FACEBOOK;f=e==="MESSENGER"&&Boolean(f.showBulkSelection);c=c.config.inboxRedesignConfig.shouldShowSettingsRedesign;return{filterFolder:d,filterOwner:b("PagesManagerInboxFilterStore").getActiveOwner(),filterType:e,isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),isFolderChangeActive:b("PagesManagerInboxFilterStore").getIsFolderChangeActive(),isFilterChangeActive:b("PagesManagerInboxFilterStore").getIsFilterChangeActive(),searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm(),searchType:b("PagesManagerInboxFilterStore").getSearchType(),selectedCustomerID:b("PagesManagerInboxFilterStore").getPageCustomerID(),layoutHeight:b("PagesManagerStore").getLayoutHeight(),listHeaderHeight:b("PagesManagerStore").getListHeaderHeight(),validPlatformTypes:a,selectedCommentView:g.selectedCommentView||"NOT_SELECTED",listNavHeight:b("PagesManagerStore").getListNavigationHeight(),allLabels:b("PagesManagerCustomLabelsStore").getLabels(),selectionMode:f&&b("PagesManagerStore").isBulkSelectionMode(),allowBulkSelection:f,selectedThreads:f?b("PagesManagerStore").getSelectedThreads():null,showSettingsRedesign:c}};function c(b,c){var d;d=a.call(this,b)||this;d.$3=function(){d.$2=!0};d.$1=0;d.$2=!1;return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.navMode==="messages"&&!this.$2&&((this.state.filterType==="MESSENGER"||this.state.filterType==="INSTAGRAM_DIRECT"||this.state.filterType==="FACEBOOK")&&(this.$1=Date.now()),this.state.filterType==="MESSENGER"&&b("QuickPerformanceLogger").markerStart(36241413))};d.render=function(){var a=this.state.layoutHeight-this.state.listNavHeight,c=a-this.state.listHeaderHeight,d=this.props.config.inboxRedesignConfig.shouldShowNewMessengerFolder&&this.state.filterType==="MESSENGER"||this.props.config.inboxRedesignConfig.shouldShowNewIGDirectFolder&&this.state.filterType==="INSTAGRAM_DIRECT"||this.props.config.inboxRedesignConfig.shouldShowNewCommentsFolder&&(this.state.filterType==="INSTAGRAM"||this.state.filterType==="FACEBOOK"),e=null;switch(this.props.navMode){case"automated_responses":e=b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("PagesManagerInboxListLoading.react"),{height:a}),children:b("React").jsx(h,{height:a,pageID:this.props.pageID,showSettingsRedesign:this.state.showSettingsRedesign})});break;case"messages":e=b("React").jsxs("div",{children:[b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?b("React").jsx(b("PagesManagerInboxCometSearchBarContainer.react"),{pageID:this.props.pageID}):null,b("React").jsx(b("PagesManagerInboxNavListView.react"),{allLabels:this.state.allLabels,allowBulkSelection:this.state.allowBulkSelection,filterFolder:this.state.filterFolder,filterOwner:this.state.filterOwner,filterType:this.state.filterType,height:c-b("PagesManagerInboxCometUtil").cometSearchInputHeight(),isBulkSelectionMode:this.state.selectionMode,isFilterChangeActive:this.state.isFilterChangeActive,isFolderChangeActive:this.state.isFolderChangeActive,isSearchActive:this.state.isSearchActive,loadEndEventLogged:this.$2,loadStartTime:this.$1,logLoadEndEvent:this.$3,pageID:this.props.pageID,pageName:this.props.pageName,searchTerm:this.state.searchTerm,searchType:this.state.searchType,selectedCommentView:this.state.selectedCommentView,selectedCustomerID:this.state.selectedCustomerID,selectedThreads:this.state.selectedThreads,shouldShowUnifiedThreadlist:g(),showNewFolder:d,validPlatformTypes:this.state.validPlatformTypes})]})}return e};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxNavBarSavedResponsesNUX.react",["fbt","FDSText.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="saved_responses_to_automated_responses",i="business_inbox_ig_direct_automated_response";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowSaveResponseNUX:d.$1(),shouldShowIGAutomatedResponseNUX:d.$2()},d.$4=function(){d.state.shouldShowSaveResponseNUX===!0?(b("PagesManagerInboxNUXAction").dismiss(d.$3(h)),d.setState({shouldShowSaveResponseNUX:!1})):d.state.shouldShowIGAutomatedResponseNUX&&(b("PagesManagerInboxNUXAction").dismiss(d.$3(i)),d.setState({shouldShowIGAutomatedResponseNUX:!1}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(this.$3(h));return a};d.$2=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$3(i));return a};d.$3=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:8,onCloseButtonClick:this.$4,position:"below",shown:this.state.shouldShowSaveResponseNUX||this.state.shouldShowIGAutomatedResponseNUX,width:"custom",children:b("React").jsxs(b("FDSText.react"),{color:"white",size:"body3",children:[this.state.shouldShowSaveResponseNUX?g._("Edit your instant reply and away message in the Automated Responses tab."):null,this.state.shouldShowIGAutomatedResponseNUX?g._("Now you can send instant replies and away messages on both Messenger and Instagram."):null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerPageCommItemEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerInboxNavBarCounter.react",["FluxContainer","IGMessageInboxStore","PagesCommsInboxTypedLogger","PagesManagerPageCommItemEditSubscriptionHandler","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={count:c.props.initialCount},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){if(c.platform==="INSTAGRAM_DIRECT"){a=b("IGMessageInboxStore").getLocallyUpdatedUnreadCount();if(a!=null)return{count:a}}return{count:c.initialCount}};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){__p&&__p();switch(a.props.platform){case"FACEBOOK":var d=c.page_comm_item_edit_subscribe.page.comms_hub_config.facebook_badge_count;a.state.count!==d&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("FACEBOOK",d),a.setState({count:d}));break;case"INSTAGRAM":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("INSTAGRAM",c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count}));break;case"MESSENGER":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("MESSENGER",c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count),new(b("PagesCommsInboxTypedLogger"))().setEvent("graphql_subscription_received").setFunnel("messenger_badging").setMessageID(c.page_comm_item_edit_subscribe.page_comm_item.id).setMessagingPlatform("messenger").setClientTime(Date.now()).log(),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count}));break;case"WEC":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("WEC",c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count}));break}})};d.componentDidUpdate=function(a,b){this.props.platform==="INSTAGRAM_DIRECT"&&b!=null&&b.count!==this.state.count&&(this.props.setCountForPlatform&&this.props.setCountForPlatform(this.props.platform,this.state.count))};d.componentWillUnmount=function(){this.$1!==null&&this.$1!==void 0&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.render=function(){return this.props.children(this.state.count)};return c}(b("React").PureComponent);a.defaultProps={shouldShowNewCommentFlow:!1};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxNavBarHeaderRowCard.react",["cx","fbt","FDSText.react","Image.react","React","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.count>20?a=h._("20+"):this.props.count>0&&(a=this.props.count);return b("React").jsxs("div",{className:"_6idj _6ph8 _6w26"+(this.props.shouldShowSelectedBlueBar&&this.props.isSelected?" _8jlq":""),"data-testid":this.props.rowId,ref:this.props.rowRef,children:[b("React").jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?this.props.title:null,children:b("React").jsxs("div",{className:"_6ph7",children:[a!==null&&this.props.isCollapsed?b("React").jsx("div",{className:"_6idk _6uw_",children:a}):null,b("React").jsx(b("Image.react"),{src:this.props.image})]})}),b("React").jsx("div",{className:"_6lhl",children:b("React").jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:this.props.isSelected?"bold":"normal",children:this.props.title})}),a!==null?b("React").jsx("div",{className:"_6idk _6idh","data-testid":this.props.countId,children:b("React").jsx(b("FDSText.react"),{color:"white",size:"body2",children:b("React").jsxs("div",{children:[" ",a]})})}):b("React").jsx("div",{className:"_7hm0","data-testid":this.props.countId})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarMessengerRowCard.react",["ix","cx","fbt","FDSText.react","Image.react","LineClamp.react","Link.react","MessengerState.bs","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=i._("Messenger"),d=this.props.isSelected?g("516653"):g("499159");return b("React").jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID,children:function(e){e=b("MessengerState.bs").unreadCounts(e).inbox?b("MessengerState.bs").unreadCounts(e).inbox.size:b("MessengerState.bs").initialUnreadCounts(e).inbox;a.props.setCountForPlatform("MESSENGER",e);e>20?e=i._("20+"):e===0&&(e=null);return b("React").jsxs(b("Link.react"),{className:"_6ie2 _6w26"+(a.props.isSelected?"":" _6idd")+(a.props.isSelected?" _6jio":""),"data-testid":a.props.rowPlatformId,onClick:a.props.onClick,children:[b("React").jsx(b("Tooltip.react"),{position:"right",tooltip:a.props.isCollapsed?c:null,children:b("React").jsxs("div",{className:"_6ph7",children:[e!==null&&a.props.isCollapsed?b("React").jsx("div",{className:(a.props.isSelected?"":"_6uw-")+(a.props.isSelected?" _6idk":"")+(a.props.isSelected?"":" _6idg")+" _6uw_"+(a.props.hideBadgeCount===!0?" _8nzr":""),children:e}):null,b("React").jsx(b("Image.react"),{src:d})]})}),b("React").jsx("div",{className:"_6mif",children:b("React").jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:a.props.isSelected?"bold":"normal",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:c})})}),e!==null?b("React").jsx("div",{className:(a.props.isSelected?"_6jir":"")+(a.props.isSelected?"":" _6idg")+" _6idh"+(a.props.hideBadgeCount===!0?" _8nzr":""),"data-testid":"messenger_message_count",children:e}):b("React").jsx("div",{className:"_7hm0","data-testid":"messenger_message_count"})]})}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerIGTabUpsell.react",["ix","Image.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMessagingInboxActionLogger","React","asset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="page_inbox_instagram_direct_upsell";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;!c.props.isSelected&&!c.$1()&&b("PagesManagerInboxStore").shouldShowNUX(h)&&b("PagesManagerInboxNUXAction").logView(c.$2());return c}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){return((a=a.instagramDirectConfig)==null?void 0:a.igAccountID)!==""}else return b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT.igAccountID!==null};d.$2=function(){return b("PagesManagerInboxNUX")[h]};d.render=function(){b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(this.props.isSelected||this.$1()){b("PagesManagerInboxNUXAction").dismiss(this.$2());return null}return b("PagesManagerInboxStore").shouldShowNUX(h)?b("React").jsx(b("Image.react"),{src:g("638982")}):null};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarRowCard.react",["cx","fbt","ix","FDSText.react","Image.react","LineClamp.react","Link.react","PagesManagerIGTabUpsell.react","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){switch(a){case"MESSENGER":return"messenger_message_count";default:return""}}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c;switch(this.props.platform){case"ALL":a=this.props.isSelected?i("1185512"):i("591501");c=h._("All Messages");break;case"MESSENGER":a=this.props.isSelected?i("516653"):i("499159");c=h._("Messenger");break;case"WEC":a=this.props.isSelected?i("681043"):i("681044");c=h._("WhatsApp");break;case"INSTAGRAM_DIRECT":a=this.props.isSelected?i("764453"):i("764452");c=h._("Instagram Direct");break;case"FACEBOOK":a=this.props.isSelected?i("503923"):i("534917");c=h._("Facebook");break;case"INSTAGRAM":a=this.props.isSelected?i("649799"):i("649798");c=h._("Instagram");break}var d=null;this.props.count!==null&&this.props.count!==void 0&&this.props.count>0&&(d=this.props.count>20?h._("20+"):this.props.count);var e=null;this.props.platform==="INSTAGRAM_DIRECT"&&(e=b("React").jsx(b("PagesManagerIGTabUpsell.react"),{isSelected:this.props.isSelected}));return b("React").jsxs(b("Link.react"),{className:"_6ie2 _6w26"+(this.props.isSelected?"":" _6idd")+(this.props.isSelected&&this.props.platform==="ALL"?" _8p-u":"")+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jio":"")+(this.props.isSelected&&this.props.platform==="WEC"?" _6wv4":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jip":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jiq":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _6z7o":""),"data-testid":this.props.rowPlatformId,onClick:this.props.onClick,children:[b("React").jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?c:null,children:b("React").jsxs("div",{className:"_6ph7",children:[d!==null&&this.props.isCollapsed?b("React").jsx("div",{className:(this.props.isSelected?"":"_6uw-")+(this.props.isSelected?" _6idk":"")+(this.props.isSelected?"":" _6idg")+" _6uw_"+(this.props.hideBadgeCount?" _8nzr":""),children:d}):null,b("React").jsx(b("Image.react"),{src:a}),b("React").jsx("div",{children:this.props.isCollapsed&&this.props.platform==="INSTAGRAM_DIRECT"?b("React").jsx("div",{className:"_7kx1",children:e}):null})]})}),b("React").jsx("div",{className:"_6mif",children:b("React").jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:this.props.isSelected?"bold":"normal",children:b("React").jsx(b("LineClamp.react"),{lines:1,children:c})})}),d!==null?b("React").jsx("div",{className:(this.props.isSelected&&this.props.platform==="ALL"?"_8p-v":"")+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jir":"")+(this.props.isSelected&&this.props.platform==="WEC"?" _6wv5":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jis":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jit":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _85r0":"")+(this.props.isSelected?"":" _6idg")+" _6idh"+(this.props.hideBadgeCount===!0?" _8nzr":""),"data-testid":j(this.props.platform),children:d}):b("React").jsx("div",{className:"_7hm0","data-testid":j(this.props.platform)}),e]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxRevampIGCommentTabNUX.react",["fbt","PagesManagerInboxNavBarRowCard.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","ReactDOM","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="page_inbox_ig_comment_new_experience";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowIGCommentRevampNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowIGCommentRevampNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){if(!this.checkDOMContainsRef())return!1;var a=b("PagesManagerInboxStore").shouldShowNUX(h);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[h]};d.checkDOMContainsRef=function(){try{return b("ReactDOM").findDOMNode(this.props.contextRef())!=null}catch(a){return!1}};d.render=function(){if(!this.checkDOMContainsRef())return null;var a=g._("Now you can find new Instagram comments and replies to comments more easily.");return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"below",shown:this.state.shouldShowIGCommentRevampNUX,width:"normal",children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBlock.react",["cx","PagesManagerInboxAccordion.react","PagesManagerInboxNavBarCounter.react","PagesManagerInboxNavBarHeaderRowCard.react","PagesManagerInboxNavBarMessengerRowCard.react","PagesManagerInboxNavBarRowCard.react","PagesManagerInboxRevampIGCommentTabNUX.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=null,c.$3=null,c.$4=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$5=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$6=function(a){var c=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM;if(c.shouldShowIGRevampComments!==!0)return null;var d=this.$3;return a==="INSTAGRAM"&&d!=null?b("React").jsx(b("PagesManagerInboxRevampIGCommentTabNUX.react"),{contextRef:function(){return d}}):null};d.render=function(){__p&&__p();var a=this;if(this.props.shouldShow===!1)return null;var c=!1;this.props.rows.length>0?this.props.rows.forEach(function(b){if(!b.shouldShow)return;a.props.detailViewMode===a.props.selectedNavMode&&!c&&(c=b.platform===a.props.filterSelected)}):c=this.props.selectedNavMode===this.props.detailViewMode;return b("React").jsx(b("PagesManagerInboxAccordion.react"),{disableCollapse:!c,header:b("React").jsx(b("PagesManagerInboxNavBarHeaderRowCard.react"),{count:this.$5(),countId:this.props.countID,image:c?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:c,rowId:this.props.rowId,rowRef:this.props.rowRef,shouldShowSelectedBlueBar:this.props.shouldShowUnifiedThreadlist===!0,title:this.props.headerTitle}),initialExpanded:this.props.initialExpanded,onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){return d.shouldShow?d.platform==="MESSENGER"&&a.props.shouldUpdateBadgeCountLocally?b("React").jsx("div",{className:a.props.shouldShowUnifiedThreadlist===!0?"_8nzr":"",children:b("React").jsx(b("PagesManagerInboxNavBarMessengerRowCard.react"),{initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$4})},d.rowPlatformId):b("React").jsxs("div",{className:a.props.shouldShowUnifiedThreadlist===!0?"_8nzr":"",children:[b("React").jsx(b("PagesManagerInboxNavBarCounter.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,pageID:a.props.pageID,platform:d.platform,setCountForPlatform:a.$4,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow,children:function(e){return b("React").jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:e,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,ref:function(b){d.platform==="FACEBOOK"?a.$2=b:d.platform==="INSTAGRAM"&&(a.$3=b)},rowPlatformId:d.rowPlatformId})}}),a.$6(d.platform)]},d.rowPlatformId):null})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistNavBlock.react",["cx","PagesManagerInboxAccordion.react","PagesManagerInboxNavBarCounter.react","PagesManagerInboxNavBarHeaderRowCard.react","PagesManagerInboxNavBarMessengerRowCard.react","PagesManagerInboxNavBarRowCard.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.render=function(){__p&&__p();var a=this,c=this.props.rows.some(function(b){return b.shouldShow&&b.platform===a.props.filterSelected})&&this.props.selectedNavMode===this.props.detailViewMode;return b("React").jsx(b("PagesManagerInboxAccordion.react"),{disableCollapse:!c,header:b("React").jsx(b("PagesManagerInboxNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:c?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:c,rowId:this.props.rowId,rowRef:this.props.rowRef,shouldShowSelectedBlueBar:!1,title:this.props.headerTitle}),initialExpanded:this.props.initialExpanded,onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){__p&&__p();if(d.shouldShow)switch(d.platform){case"MESSENGER":if(a.props.shouldUpdateBadgeCountLocally)return b("React").jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab===!1?"_8nzr":"",children:b("React").jsx(b("PagesManagerInboxNavBarMessengerRowCard.react"),{hideBadgeCount:!0,initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2})},d.rowPlatformId);break;case"ALL":return b("React").jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:a.$3(),isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,rowPlatformId:d.rowPlatformId},d.rowPlatformId);default:return b("React").jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab===!1?"_8nzr":"",children:b("React").jsx(b("PagesManagerInboxNavBarCounter.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,pageID:a.props.pageID,platform:d.platform,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!1,children:function(e){return b("React").jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:e,hideBadgeCount:!0,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,rowPlatformId:d.rowPlatformId})}})},d.rowPlatformId)}return null})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBar.react",["ix","cssVar","cx","fbt","BizEmailMarketingNux.react","PagesManagerInboxLogger","PagesManagerInboxNavBarSavedResponsesNUX.react","PagesManagerInboxNavBlock.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistNavBlock.react","PagesManagerInboxUtils","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("PagesManagerInboxUtils").changeInboxTab,l=b("PagesManagerInboxUtils").changeSelectedUTLFolder;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:window.innerWidth<=parseInt("1279px",10)},c.$5=function(){var a=window.innerWidth<=parseInt("1279px",10);c.setState({isCollapsed:a})},c.$6=function(a,b){k(a,b,c.props.filterSelected,c.props.pageID)},c.$7=function(a,b){l(a,b,c.props.utlFolderSelected,c.props.pageID)},c.$8=function(a){c.$1=a},c.$9=function(a){c.$2=a},c.$10=function(a){c.$3=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$4(),window.addEventListener("resize",this.$5)};d.$4=function(){b("PagesManagerInboxLogger").logAutomatedResponsesRendered()};d.render=function(){var a=this;return b("React").jsxs("div",{className:"_6idi","data-testid":"list_nav_container",style:{height:this.props.height},children:[this.props.shouldShowUnifiedThreadlistSeparatedTab===!0&&this.props.shouldShowUnifiedThreadlist===!0?b("React").jsx(b("PagesManagerInboxUnifiedThreadlistNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$7,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$8,rows:[{shouldShow:!0,platform:"ALL",rowPlatformId:"all_messages_row_card",count:0},{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("609713"),selectedNavMode:this.props.selectedNavMode,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("649812"),utlFolderSelected:this.props.utlFolderSelected}):b("React").jsx(b("PagesManagerInboxNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$8,rows:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showWEC,platform:"WEC",count:this.props.badgeCountMap.WEC,rowPlatformId:"wec_row_card"},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("609713"),selectedNavMode:this.props.selectedNavMode,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("649812")}),b("React").jsx(b("PagesManagerInboxNavBlock.react"),{countID:"comment_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Comments & More"),initialExpanded:!(this.props.shouldShowUnifiedThreadlist&&!this.props.shouldShowUnifiedThreadlistSeparatedTab)||this.props.filterSelected==="FACEBOOK"||this.props.filterSelected==="INSTAGRAM",isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"comments_header_row_card",rows:[{shouldShow:!0,platform:"FACEBOOK",count:this.props.badgeCountMap.FACEBOOK,rowPlatformId:"facebook_row_card"},{shouldShow:!0,platform:"INSTAGRAM",count:this.props.badgeCountMap.INSTAGRAM,rowPlatformId:"ig_row_card"}],selectedIcon:g("649809"),selectedNavMode:this.props.selectedNavMode,shouldShowNewCommentFlow:this.props.shouldShowNewCommentFlow,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("510901")}),b("React").jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"automated_responses",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Automated Responses"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"automation_card",rowRef:this.$9,rows:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse?[]:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_automated_responses_row_card"}],selectedIcon:g("653900"),selectedNavMode:this.props.selectedNavMode,shouldShow:!0,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("653903")}),b("React").jsx(b("PagesManagerInboxNavBarSavedResponsesNUX.react"),{contextRef:function(){return a.$2}}),b("React").jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"commerce_email",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"commerce_email",rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showCommerceEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")}),b("React").jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"email_campaign",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Marketing Emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"email_card",rowRef:this.$10,rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")}),b("React").jsx(b("BizEmailMarketingNux.react"),{contextRef:function(){return a.$3}}),b("React").jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"contacts",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Contacts"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"contact_card",rows:[],selectedIcon:g("709450"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("514164")})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavContainer.react",["FluxContainer","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerInboxNavBar.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){a=b("PagesManagerInboxStore").getConfig();var c=a.validPlatformTypes,d=b("PagesManagerInboxFilterStore").getActiveFolder();d!==b("PageCommItemFolder").TODO&&(c=b("PageCommItemStatusUtil").getFolderQECheck()?c.filter(function(a){return a!=="WEC"}):c.filter(function(a){return a!=="WEC"&&a!=="INSTAGRAM_DIRECT"}));d=b("PagesManagerInboxFilterStore").getActiveType();var e=b("PagesManagerInboxFilterStore").getActiveUTLFolder();return{filterType:d,utlFolderType:e,layoutHeight:b("PagesManagerStore").getLayoutHeight(),validPlatformTypes:c,showCommerceEmail:a.showCommerceEmail,showEmailCampaign:a.showEmailCampaign,navMode:b("PagesManagerInboxStore").getCurrentNavMode(),badgeCountMap:a.badgeCounts,shouldShowNewCommentFlow:a.platformConfigs.FACEBOOK.selectedCommentView==="TOP_LEVEL_COMMENT"}};var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxNavBar.react"),{badgeCountMap:this.state.badgeCountMap,filterSelected:this.state.filterType,height:this.state.layoutHeight,pageID:this.props.pageID,selectedNavMode:this.state.navMode,shouldShowNewCommentFlow:this.state.shouldShowNewCommentFlow,shouldShowUnifiedThreadlist:g(),shouldShowUnifiedThreadlistSeparatedTab:h(),showCommerceEmail:this.state.showCommerceEmail,showEmailCampaign:this.state.showEmailCampaign,showIGDirect:this.state.validPlatformTypes.includes("INSTAGRAM_DIRECT"),showWEC:this.state.validPlatformTypes.includes("WEC"),utlFolderSelected:this.state.utlFolderType})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxCometAccordion.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.detailViewMode==="messages"?b("React").jsxs("div",{children:[this.props.header,this.props.children]}):b("React").jsxs("div",{className:this.props.className,children:[b("React").jsx(b("Link.react"),{className:"_6q2e"+(this.props.useDefaultCursor===!0?" _6_nb":""),onClick:this.$1,children:this.props.header}),this.props.children]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistCometNavBlock.react",["cx","fbt","PagesManagerInboxCometAccordion.react","PagesManagerInboxCometNavBarHeaderRowCard.react","PagesManagerInboxCometNavBarMessengerRowCard.react","PagesManagerInboxCometNavBarRowCard.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},c.$4=function(){c.props.formatChange("ALL",c.props.detailViewMode)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$5=function(a){return b("React").jsxs(b("React").Fragment,{children:[this.props.shouldShowUnifiedThreadlistSeparatedTab===!0?b("React").jsx("div",{className:"_8hs9",children:this.props.isCollapsed?null:this.props.headerTitle}):null,b("React").jsx(b("PagesManagerInboxCometNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:a?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:a,onClick:this.$4,rowId:this.props.rowId,rowRef:this.props.rowRef,title:this.props.shouldShowUnifiedThreadlistSeparatedTab===!0?h._("All Messages"):this.props.headerTitle})]})};d.render=function(){var a=this;if(this.props.shouldShow===!1)return null;var c=this.props.rows.some(function(b){return b.shouldShow&&b.platform===a.props.filterSelected})&&this.props.selectedNavMode===this.props.detailViewMode;return b("React").jsx(b("PagesManagerInboxCometAccordion.react"),{detailViewMode:this.props.detailViewMode,disableCollapse:!c,header:this.$5(this.props.utlFolderSelected==="ALL"&&c),onClick:b("emptyFunction"),children:this.props.rows&&this.props.rows.map(function(d,e){return d.shouldShow?d.platform==="MESSENGER"?b("React").jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab!==!0?"_8nzr":"",children:b("React").jsx(b("PagesManagerInboxCometNavBarMessengerRowCard.react"),{hideBadgeCount:!0,initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2},d.rowPlatformId)},d.rowPlatformId):b("React").jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab!==!0?"_8nzr":"",children:b("React").jsx(b("PagesManagerInboxCometNavBarRowCard.react"),{hideBadgeCount:!0,initialCount:d.count!==null&&d.count!==void 0?d.count:0,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,platform:d.platform,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow})},d.rowPlatformId):null})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerBulkActionsDetailSection.react",["cx","fbt","BulkSelectionThreadAction","LeftRight.react","PagesManagerAction","PagesManagerBulkActionLogger","React","Text.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c,d=a.selectedThreads;a=a.height;function e(){b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:b("BulkSelectionThreadAction").UNSELECT}}),b("PagesManagerAction").clearBulkSelection()}return(c=b("React")).jsxs(c.Fragment,{children:[c.jsxs(b("LeftRight.react"),{className:"_2pif _2pik",children:[c.jsx("div",{}),c.jsx("div",{className:"_8iwy _8iwz",onClick:e,role:"button",tabIndex:"0"})]}),c.jsx("div",{className:"_3qn7 _61-1 _3qng",style:{height:a},children:c.jsx("div",{className:"_8j4v",children:h._({"*":"{Number of conversations} conversations selected","_1":"{Number of conversations} conversation selected"},[h._param("Number of conversations",c.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:d})),h._plural(d)])})})]})}e.exports=a}),null);
__d("PagesManagerInboxWelcomeDialogNUX.react",["cx","fbt","ix","Image.react","Link.react","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a?c.props.onDialogShow():c.props.onDialogHide()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onDialogShow()};d.componentWillUnmount=function(){this.props.onDialogHide()};d.$2=function(){var a=b("React").jsx(b("XUIButton.react"),{className:"_2d82",label:h._("OK"),onClick:this.props.onDialogHide,use:"confirm"});return!this.props.onSwitchOldInbox?a:b("React").jsxs("div",{children:[b("React").jsx(b("XUIButton.react"),{className:"_457i",label:h._("Use Previous Version"),onClick:this.props.onSwitchOldInbox}),a]})};d.render=function(){var a;return(a=b("React")).jsx(b("XUIDialog.react"),{onToggle:this.$1,shown:!0,width:480,children:a.jsxs(b("XUIDialogBody.react"),{className:"_2d7q",children:[a.jsxs("div",{className:"_2d7r",children:[a.jsx("div",{className:"_2d7s",children:h._("Welcome to Inbox")}),a.jsx("div",{className:"_2d7-",children:h._("Manage conversations with customers from Messenger, Instagram and your Page in one place.")})]}),a.jsx(b("Link.react"),{className:"_2d7_",onClick:this.props.onDialogHide,children:a.jsx("div",{className:"_21_d"})}),a.jsx(b("Image.react"),{className:"_2d80",src:i("94977")}),a.jsx("div",{className:"_2d81",children:this.$2()})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWelcomeDialogNUXContainer.react",["FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxWelcomeDialogNUX.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="pages_inbox_welcome_dialog";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{shouldShowNUX:b("PagesManagerInboxStore").shouldShowNUX(g)}};var d=c.prototype;d.$1=function(){b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[g])};d.$2=function(){b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[g])};d.render=function(){return!this.state.shouldShowNUX?null:b("React").jsx(b("PagesManagerInboxWelcomeDialogNUX.react"),{onDialogHide:this.$2,onDialogShow:this.$1})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxLoggerStore",["FluxStore","PagesManagerDispatcher","PagesManagerInboxLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("PagesManagerDispatcher"))||this}var d=c.prototype;d.__onDispatch=function(a){a=a.type;if(a===void 0)return;b("PagesManagerInboxLogger").create(a).log()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramPostComposerStore.react",["FluxStore","PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxInstagramPostComposerStore1="";c.$PagesManagerInboxInstagramPostComposerStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET:this.$PagesManagerInboxInstagramPostComposerStore3(a.message);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY:this.$PagesManagerInboxInstagramPostComposerStore4(a.replyMetadata.username);this.$PagesManagerInboxInstagramPostComposerStore5(a.replyMetadata.parent_comment_id);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerInboxInstagramPostComposerStore1="";this.$PagesManagerInboxInstagramPostComposerStore5(null);this.__emitChange();break}};d.getMessage=function(){return this.$PagesManagerInboxInstagramPostComposerStore1};d.$PagesManagerInboxInstagramPostComposerStore3=function(a){this.$PagesManagerInboxInstagramPostComposerStore1=a};d.getParentCommentID=function(){return this.$PagesManagerInboxInstagramPostComposerStore2};d.$PagesManagerInboxInstagramPostComposerStore5=function(a){this.$PagesManagerInboxInstagramPostComposerStore2=a};d.$PagesManagerInboxInstagramPostComposerStore4=function(a){this.$PagesManagerInboxInstagramPostComposerStore1="@".concat(a).concat(" ")};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramCommentDeleteMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentDeleteMutation.graphql");function a(a,c){__p&&__p();var d=function(c,d){c=c.get(a.instagram_media_id);if(!c)return;var e=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");e&&h.deleteNode(e,a.instagram_comment_id);c&&h.deleteNode(c,a.instagram_comment_id);c=d==null?void 0:(e=d.instagram_comment_delete)==null?void 0:e.parent_instagram_comment_id;c!=null&&b("PagesManagerInboxIGCommentAction").deleteReply(c)};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_comment_id:a.instagram_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramUserPhotoContainer.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_2q1j"+(this.props.shape==="circle"?" _kpb":"");return b("React").jsx(b("Image.react"),{className:a,height:this.props.imageSize,src:this.props.imageURI,width:this.props.imageSize})};return c}(b("React").PureComponent);a.defaultProps={shape:"square"};e.exports=a}),null);
__d("PagesManagerInboxInstagramCommentRow.react",["cx","fbt","ContextualDialogArrow","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramUserPhotoContainer.react","PopoverMenu.react","React","ReactXUIMenu","TextWithEntities.react","Timestamp.react","XUICard.react","XUIDotsButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReactXUIMenu").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.props.commentID===null||d.props.commentID===void 0)return;b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:d.props.commentID,instagram_media_id:d.props.igMediaID})},d.$4=function(){if(d.props.igUsername===null||d.props.igUsername===void 0||d.props.commentID===null)return;b("PagesManagerInboxInstagramPostComposerActions").linkReply({username:d.props.igUsername,parent_comment_id:d.props.commentID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a,c=(a=b("React")).jsx(b("ReactXUIMenu"),{children:a.jsx(i,{onClick:this.$2,children:h._("Delete")})});return a.jsx(b("PopoverMenu.react"),{alignv:"middle",layerBehaviors:[b("ContextualDialogArrow")],menu:c,children:a.jsx(b("XUIDotsButton.react"),{className:"_88me",size:"medium",tooltip:h._("Options")})})};d.$3=function(){return b("React").jsxs("div",{className:"_88mf",children:[b("React").jsx("div",{className:"_88mg",children:b("React").jsx(b("Timestamp.react"),{minimize:!0,time:Number(this.props.creationTime),useLargerTimeUnits:!0})}),this.props.likeCount!==void 0&&this.props.likeCount!==null&&this.props.likeCount>0&&b("React").jsx("div",{className:"_88ml",children:h._({"*":"{like count} likes","_1":"{like count} like"},[h._param("like count",this.props.likeCount),h._plural(this.props.likeCount)])}),b("React").jsx(b("Link.react"),{className:"_88mm",onClick:this.$4,children:h._("Reply")})]})};d.render=function(){var a;return(a=b("React")).jsx(b("XUICard.react"),{className:"_88mn","data-testid":"ig_comment_row",children:a.jsxs(b("Layout.react"),{className:"_88mo",children:[a.jsx(b("LayoutColumn.react"),{children:a.jsx("div",{className:"_8b8t",children:a.jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:this.props.profilePictureURI,shape:"circle"})})}),a.jsxs(b("LayoutColumn.react"),{className:"_8ax9",children:[a.jsxs(b("XUIText.react"),{className:"_8b8s",children:[a.jsx("span",{className:"_88mq",children:this.props.igUsername}),a.jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]}),this.$3()]}),a.jsx(b("LayoutFillColumn.react"),{children:this.$1()})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramRepliesContainer.react",["cx","fbt","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramCommentRow.react","React","RelayModern","XUIButton.react","XUICard.react","PagesManagerInboxInstagramRepliesContainer_item.graphql","PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={numRepliesShowing:c.props.numRepliesShowingInitially},c.$1=function(){var a;a=(a=(a=c.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;c.state.numRepliesShowing<a?c.setState({numRepliesShowing:a}):c.$2()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);if(a==null){a=((a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:a.edges)||[];b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a.length,numRepliesShowing:0})}};d.componentDidUpdate=function(){var a;a=(a=(a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;var c=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);c!=null&&b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a,numRepliesShowing:this.state.numRepliesShowing})};d.$2=function(){this.$3()?this.$4():this.$5()};d.$3=function(){return this.props.relay.hasMore()};d.$4=function(){var a=this;this.props.relay.loadMore(k,function(){var b;b=(b=(b=a.props.item)==null?void 0:(b=b.instagram_replies)==null?void 0:(b=b.edges)==null?void 0:b.length)!=null?b:0;a.setState({numRepliesShowing:b})})};d.$5=function(){this.setState({numRepliesShowing:0})};d.render=function(){__p&&__p();var a=this,c,d;c=((c=this.props.item)==null?void 0:c.reply_count)||0;d=((d=this.props.item)==null?void 0:(d=d.instagram_replies)==null?void 0:d.edges)||[];if(c===0)return null;d=this.state.numRepliesShowing>0?d.slice(-this.state.numRepliesShowing).map(function(c){var d;return b("React").jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:(d=c.node)==null?void 0:d.id,creationTime:(d=c.node)==null?void 0:d.creation_time,igMediaID:a.props.igMediaID,igUsername:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:d.username,likeCount:(d=c.node)==null?void 0:d.like_count,message:(d=c.node)==null?void 0:d.text,pageID:a.props.pageID,profilePhotoSize:a.props.profilePhotoSize,profilePictureURI:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:(d=d.profile_picture_24)==null?void 0:d.uri},(d=c.node)==null?void 0:d.id)}):null;if(this.state.numRepliesShowing<c){c=c-this.state.numRepliesShowing;c=h._("View replies ({reply count})",[h._param("reply count",c)])}else c=h._("Hide replies");return b("React").jsx(b("XUICard.react"),{className:"_8e5p",children:b("React").jsxs("div",{className:"_8e3n",children:[b("React").jsx(b("XUIButton.react"),{className:"_8e3o",image:b("React").jsx("div",{className:"_8e3p"}),label:c,onClick:this.$1,use:"default"}),d]})})};return c}(b("React").PureComponent);e.exports=a(c,{item:i!==void 0?i:i=b("PagesManagerInboxInstagramRepliesContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.item)==null?void 0:a.instagram_replies},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,instagramCommentID:a.item.id}},query:j!==void 0?j:j=b("PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramRepliesFluxContainer.react",["FluxContainer","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramRepliesContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=3,i=g!==void 0?g:g=b("PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxIGCommentStore")]};c.calculateState=function(a,c){var d=b("PagesManagerInboxIGCommentStore").getUpdatedCommentID(),e=b("PagesManagerInboxIGCommentStore").getReplyInfo(c.parentCommentID),f={numRepliesToLoad:Math.min(c.replyCount,h),numRepliesToShow:0};if(e==null||c.parentCommentID!==d){return(c=a)!=null?c:f}return{numRepliesToLoad:e.numRepliesLoaded,numRepliesToShow:e.numRepliesShowing}};var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:i,render:function(c){c.error;c=c.props;return c?b("React").jsx(b("PagesManagerInboxInstagramRepliesContainer.react"),{igMediaID:a.props.igMediaID,item:c.item,numRepliesShowingInitially:a.state.numRepliesToShow,pageID:a.props.pageID,parentCommentID:a.props.parentCommentID,profilePhotoSize:a.props.profilePhotoSize}):null},variables:{count:this.state.numRepliesToLoad,instagramCommentID:this.props.parentCommentID}})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxInstagramCommentRowContainer.react",["PagesManagerInboxInstagramCommentRow.react","PagesManagerInboxInstagramRepliesFluxContainer.react","React","RelayModern","PagesManagerInboxInstagramCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.item.id||"",d=this.props.item.reply_count||0;return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igMediaID:this.props.igMediaID,igUsername:(a=this.props.item.instagram_actor)==null?void 0:a.username,likeCount:this.props.item.like_count,message:this.props.item.text,pageID:this.props.pageID,profilePhotoSize:h,profilePictureURI:(a=this.props.item.instagram_actor)==null?void 0:(a=a.profile_picture_24)==null?void 0:a.uri}),b("React").jsx(b("PagesManagerInboxInstagramRepliesFluxContainer.react"),{igMediaID:this.props.igMediaID,pageID:this.props.pageID,parentCommentID:c,profilePhotoSize:h,replyCount:d})]})};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentsContainer.react",["cx","fbt","List.react","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxLogger","React","RelayModern","XUIButton.react","PagesManagerInboxInstagramCommentsContainer_igPost.graphql","PagesManagerInboxInstagramCommentsContainer_item.graphql","PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.relay.loadMore(l)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.item.id||"";b("PagesManagerInboxLogger").itemRendered(a);this.props.onInitialLoad&&this.props.onInitialLoad()};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:b("React").jsx("div",{className:"_8b4-",children:b("React").jsx(b("XUIButton.react"),{className:"_8ax7",image:b("React").jsx("div",{className:"_8ax8"}),label:h._("View more comments"),onClick:this.$1,use:"default"})})};d.render=function(){var a=this,c;c=((c=this.props.igPost.ig_comments)==null?void 0:c.edges)||[];var d=this.props.igPost.id||"";return b("React").jsxs("div",{"data-testid":"ig_comment_post",children:[this.$3(),b("React").jsx(b("List.react"),{children:c.map(function(c){return c.node!==null&&c.node!==void 0&&c.node.id!==null&&c.node.id!==void 0?b("React").jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:d,item:c.node,pageID:a.props.pageID},c.node.id):null})})]})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.igPost)==null?void 0:a.ig_comments},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCarouselDots.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[];for(var c=0;c<this.props.length;c++)a.push(b("React").jsx("td",{children:b("React").jsx("div",{className:"_2nqj"+(c===this.props.index?" _2nqk":"")})},c.toString()));return b("React").jsx("table",{className:this.props.className,children:b("React").jsx("tbody",{children:b("React").jsx("tr",{children:a})})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostPhotoContainer.react",["ix","cx","CenteredContainer.react","Image.react","PagesManagerInboxInstagramPostCarouselDots.react","React","RelayModern","fbglyph","PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b;b=a.call(this)||this;b.$2=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex+1})};b.$3=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex-1})};b.$4=function(){b.$1&&(b.props.onImageInitialLoad&&b.props.onImageInitialLoad(),b.$1=!1)};b.state={selectedMediaIndex:0};b.$1=!0;return b}var d=c.prototype;d.render=function(){var a,c;c=(c=this.props.igPost)!=null?(c=c.child_medias)!=null?(c=c[this.state.selectedMediaIndex])!=null?(c=c.image)!=null?c.uri:c:c:c:c;a=(a=this.props.igPost)!=null?(a=a.image)!=null?a.uri:a:a;var d=b("React").jsx(b("Image.react"),{className:"_2v6z _2v6-",onClick:this.$2,src:g("114597")}),e=b("React").jsx(b("Image.react"),{className:"_2v6z _2v6_",onClick:this.$3,src:g("114587")});return b("React").jsxs("div",{className:"_2v70",children:[b("React").jsx(b("Image.react"),{height:this.props.imageSize,onLoad:this.$4,src:this.props.igPost.has_multiple_media===!0?c:a,width:this.props.imageSize}),this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex>0?e:null,this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex<this.props.igPost.child_medias.length-1?d:null,this.props.igPost.has_multiple_media===!0&&b("React").jsx(b("CenteredContainer.react"),{className:"_2qws",children:b("React").jsx(b("PagesManagerInboxInstagramPostCarouselDots.react"),{index:this.state.selectedMediaIndex,length:this.props.igPost.child_medias.length})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramContextCard.react",["cx","fbt","PagesManagerInboxCommentContextCardSectionLayout.react","PagesManagerInboxInstagramPostPhotoContainer.react","React","RelayModern","ScrollableArea.react","TextWithEntities.react","XUIText.react","formatDate","PagesManagerInboxInstagramContextCard_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j="Instagram User",k=236,l=1e3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPublishedDate=function(){if(this.props.igPost.creation_time!=null){var a=b("formatDate")(new Date(this.props.igPost.creation_time*l),{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return b("React").jsx("div",{className:"_8axa",children:a.replace(/\,[^,]+$/,"")})}else return null};d.render=function(){var a,c,d;a=(a=(a=this.props.igPost)==null?void 0:(a=a.instagram_actor)==null?void 0:a.username)!=null?a:j;c=(c=this.props.igPost)==null?void 0:c.caption_text;d=((d=this.props.igPost)==null?void 0:d.caption_text)?b("React").jsxs(b("XUIText.react"),{children:[b("React").jsx("span",{className:"_8axb",children:a}),b("React").jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:c})]}):null;return b("React").jsx("div",{children:b("React").jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[b("React").jsx("div",{className:"_8axc",children:b("React").jsx("div",{className:"_8axd",children:b("React").jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:k})})}),b("React").jsx(b("PagesManagerInboxCommentContextCardSectionLayout.react"),{children:b("React").jsxs("div",{className:"_8axe",children:[b("React").jsxs("div",{className:"_8b8w",children:[b("React").jsx("div",{className:"_8axf",children:h._({"*":"{number} likes","_1":"1 like"},[h._plural((a=this.props.igPost)==null?void 0:a.like_count,"number")])}),this.showPublishedDate()]}),d]})})]})})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramContextCard_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRow.react",["cx","fbt","Layout.react","Link.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","TextWithEntities.react","Timestamp.react","Tooltip","XUICard.react","XUIText.react","formatDate","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=600;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){if(c.props.igUser===null||c.props.igUser===void 0||c.props.commentID===null)return;c.props.onReplyComment({username:c.props.igUser.username,parent_comment_id:c.props.commentID})},c.$2=function(){if(c.props.commentID===null||c.props.commentID===void 0)return;c.props.onDeleteComment(c.props.commentID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return!this.props.showActions?null:b("React").jsxs("div",{className:"_3i54",children:[b("React").jsx(b("Link.react"),{onClick:this.$2,children:b("React").jsx("div",babelHelpers["extends"]({className:"_3ybh"},b("Tooltip").propsFor(h._("Delete")),{"data-tooltip-delay":k}))}),b("React").jsx(b("Link.react"),{onClick:this.$3,children:b("React").jsx("div",babelHelpers["extends"]({className:"_3ybi"},b("Tooltip").propsFor(h._("Reply")),{"data-tooltip-delay":k}))})]})};d.render=function(){var a;a=(a=this.props.igUser)!=null?(a=a.profile_picture_24)!=null?a.uri:a:a;return b("React").jsx(b("XUICard.react"),{className:b("joinClasses")(this.props.showActions?"_3i4z":"",this.props.className),"data-testid":"ig_comment_row",children:b("React").jsxs(b("Layout.react"),{className:"_3i4-",children:[b("React").jsx(i,{children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:a,shape:"circle"})}),b("React").jsx(j,{children:b("React").jsx("div",{className:"_3i4_",children:b("React").jsxs(b("XUIText.react"),{children:[b("React").jsx("span",{className:"_3i53",children:this.props.igUser&&this.props.igUser.username}),b("React").jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]})})}),b("React").jsxs(i,{children:[this.$1(),b("React").jsx("div",{className:"_3i55",children:b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.creationTime,"M j"),time:Number(this.props.creationTime)})})]})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCaptionContainer.react",["PagesManagerInboxInstagramPostCommentRow.react","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!this.props.igPost.caption_text?null:b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{className:this.props.className,creationTime:this.props.igPost.creation_time,igUser:this.props.igPost.instagram_actor,message:this.props.igPost.caption_text,onDeleteComment:b("emptyFunction"),onReplyComment:b("emptyFunction"),profilePhotoSize:h,showActions:!1})};return c}(b("React").Component);e.exports=a(c,{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRowContainer.react",["PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostCommentRow.react","PagesManagerInboxInstagramPostComposerActions","React","RelayModern","PagesManagerInboxInstagramPostCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:a,instagram_media_id:d.props.instagram_media_id})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").linkReply(a)};d.render=function(){var a=this,c;c=((c=this.props.item)!=null?c.replies:c)||[];c=c.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:c.id,creationTime:c.creation_time,igUser:c.instagram_actor,message:c.text,onDeleteComment:a.$1,onReplyComment:a.$2,profilePhotoSize:h,showActions:!0})});return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igUser:this.props.item.instagram_actor,message:this.props.item.text,onDeleteComment:this.$1,onReplyComment:this.$2,profilePhotoSize:h,showActions:!0}),c]})};return c}(b("React").PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentsContainer.react",["cx","fbt","Link.react","List.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxInstagramPostCaptionContainer.react","PagesManagerInboxInstagramPostCommentRowContainer.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql","PagesManagerInboxInstagramPostCommentsContainer_item.graphql","PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){return a.props.relay.refetchConnection(a.props.igPost.instagram_comments.edges.length,b("emptyFunction"))});b("PagesManagerInboxLogger").itemRendered(this.props.item.id)};d.componentWillUnmount=function(){this.$1&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:b("React").jsx("div",{className:"_13ze",children:b("React").jsx(b("Link.react"),{className:"_2nye",onClick:this.$4,children:h._("Load more comments")})})};d.render=function(){var a=this,c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return b("React").jsxs("div",{children:[b("React").jsx(b("PagesManagerInboxInstagramPostCaptionContainer.react"),{className:(this.$2()?"_3-96":"")+(this.$2()?"":" _3-95"),igPost:this.props.igPost}),this.$3(),b("React").jsx(b("List.react"),{children:c.shouldShowIGRevampComments?this.props.igPost.instagram_comments.edges.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)}):this.props.igPost.instagram_comments.edges.map(function(c){return b("React").jsx(b("PagesManagerInboxInstagramPostCommentRowContainer.react"),{instagram_media_id:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramPostCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.igPost)!=null?a.instagram_comments:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentCreateMutation",["ClientIDs","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentCreateMutation.graphql");function a(a,c){__p&&__p();var d=function(b){__p&&__p();var c=b.get(a.instagram_media.id);if(!c)return;var d=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");b=b.getRootField("instagram_comment_create");if(!b)return;b=b.getLinkedRecord("instagram_media_comment_edge");d&&b&&h.insertEdgeAfter(d,b);c&&b&&h.insertEdgeAfter(c,b)},e=function(){var c=a.instagram_media.instagram_actor;return{instagram_comment_create:{instagram_media_comment_edge:{node:{id:b("ClientIDs").getNewClientID(),creation_time:Math.round(Date.now()/1e3),text:a.text,instagram_actor:{id:c.id,username:c.username,profile_picture:{uri:c.profile_picture_24.uri}}}}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposer.react",["cx","fbt","CenteredContainer.react","Layout.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","ShimButton.react","XUITextInput.react","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=32;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(a.comment!==this.props.comment&&a.comment!==""){var c=this.$1;c&&b("setImmediate")(function(){return c.focusInput()})}};d.render=function(){var a=this,c;c=(c=this.props.igUser)!=null?(c=c.profile_picture_32)!=null?c.uri:c:c;return b("React").jsxs(b("Layout.react"),{className:"_1fn3",children:[b("React").jsx(i,{className:"_1fn4",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:c,imageSize:k})})}),b("React").jsx(j,{children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("XUITextInput.react"),{className:"_1fn5",ref:function(b){return a.$1=b},onChange:this.props.onCommentChange,onEnter:this.props.handleComment,placeholder:h._("Add a comment..."),value:this.props.comment})})}),b("React").jsx(i,{children:b("React").jsx("div",{className:"_45d7",children:b("React").jsx("div",{className:"_45d8"})})}),b("React").jsx(i,{children:this.$2()})]})};d.$2=function(){var a=this.props.comment==="",c=b("React").jsx("div",{className:"_1fn8"+(a?" _45df":"")+(a?"":" _45dg")});a||(c=b("React").jsx(b("ShimButton.react"),{onClick:this.props.handleComment,children:c}));return b("React").jsx(b("CenteredContainer.react"),{className:a?"":"_45d5",fullHeight:!0,horizontal:!1,vertical:!0,children:c})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramReplyCreateMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramReplyCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("PagesManagerInboxInstagramReplyCreateMutation.graphql");function a(a,c){__p&&__p();var d=function(a,c){__p&&__p();var d;d=(d=c.instagram_reply_create)==null?void 0:(d=d.instagram_reply)==null?void 0:d.id;c=(c=c.instagram_reply_create)==null?void 0:(c=c.instagram_reply)==null?void 0:c.parent_comment_id;if(!d||!c)return;d=a.get(d);var e=a.get(c);if(!d||!e)return;e=i.getConnection(e,"PagesManagerInboxInstagramRepliesContainer_instagram_replies");if(!e)return;a=i.createEdge(a,e,d,"InstagramCommentInstagramRepliesEdge");e&&a&&i.insertEdgeAfter(e,a);b("PagesManagerInboxIGCommentAction").reply(c)},e=function(){var b=a.instagram_media.instagram_actor;return{instagram_reply_create:{instagram_reply:{id:a.actor_id,text:a.text,creation_time:Math.round(Date.now()/1e3),like_count:0,instagram_actor:{id:b.id,username:b.username,profile_picture:{uri:b.profile_picture_24.uri}}}}}};return h(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text,parent_comment_id:a.parent_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerContainer.react",["FluxContainer","PagesManagerInboxAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentCreateMutation","PagesManagerInboxInstagramPostComposer.react","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramPostComposerStore.react","PagesManagerInboxInstagramReplyCreateMutation","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostComposerContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={comment:"",parent_comment_id:null},d.$1=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];!!d.state.parent_comment_id&&!!a.shouldShowIGRevampComments?b("PagesManagerInboxInstagramReplyCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment,parent_comment_id:d.state.parent_comment_id}):b("PagesManagerInboxInstagramCommentCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment});b("PagesManagerInboxInstagramPostComposerActions").clearMessage();b("PagesManagerInboxAction").comment();b("PagesManagerInboxLogger").logSendComment("INSTAGRAM",d.props.pageID);d.props.onCreateComment()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxInstagramPostComposerStore.react")]};c.calculateState=function(a){return{comment:b("PagesManagerInboxInstagramPostComposerStore.react").getMessage(),parent_comment_id:b("PagesManagerInboxInstagramPostComposerStore.react").getParentCommentID()}};var d=c.prototype;d.render=function(){return b("React").jsx(b("PagesManagerInboxInstagramPostComposer.react"),{comment:this.state.comment,handleComment:this.$1,igUser:this.props.igPost.instagram_actor,onCommentChange:c.$2})};return c}(b("React").PureComponent);c.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").setMessage(a.target.value)};e.exports=a(b("FluxContainer").create(c),{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostComposerContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostSummaryContainer.react",["cx","fbt","CenteredContainer.react","React","RelayModern","PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_2p4t",children:[a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4w",children:a.jsx("div",{className:"_u84"})}),a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4x",children:this.props.igPost.like_sentence.text}),this.$1()]})};d.$1=function(){var a=this.props.igPost.comment_count;return!a?null:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4y",children:h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])})};return c}(b("React").Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostPhotoCardContainer.react",["cx","ImageBlock.react","PagesManagerInboxInstagramPostPhotoContainer.react","PagesManagerInboxInstagramPostSummaryContainer.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","RelayModern","Timestamp.react","XUICard.react","XUICardSection.react","formatDate","PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=476,j=32;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props.igPost)!=null?(a=a.instagram_actor)!=null?(a=a.profile_picture_32)!=null?a.uri:a:a:a;return b("React").jsxs(b("XUICard.react"),{className:"_4cye",children:[b("React").jsxs(b("XUICardSection.react"),{children:[b("React").jsxs(b("ImageBlock.react"),{spacing:"medium",children:[b("React").jsx("div",{className:"_4cyf",children:b("React").jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:a,imageSize:j})}),b("React").jsxs("div",{className:"_4cyg",children:[b("React").jsx("div",{className:"_4cyh",children:this.props.igPost.instagram_actor.username}),b("React").jsx("div",{className:"_4cyi",children:b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})})]})]}),b("React").jsx("div",{className:"_4cyk",children:b("React").jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:i,onImageInitialLoad:this.props.onImageInitialLoad})})]}),b("React").jsx(b("XUICardSection.react"),{background:"light-wash",children:b("React").jsx(b("PagesManagerInboxInstagramPostSummaryContainer.react"),{igPost:this.props.igPost})})]})};return c}(b("React").Component);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostContainer.react",["cx","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentsContainer.react","PagesManagerInboxInstagramContextCard.react","PagesManagerInboxInstagramPostCommentsContainer.react","PagesManagerInboxInstagramPostComposerContainer.react","PagesManagerInboxInstagramPostPhotoCardContainer.react","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostContainer_igPost.graphql","PagesManagerInboxInstagramPostContainer_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$5=function(){var a=c.$1;a&&a.scrollToBottom&&a.scrollToBottom()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxDetailViewContainer.react"),{componentRef:function(b){a.$1=b},composer:this.$2(),content:this.$3(),contextCard:j.shouldShowIGRevampComments?this.$4():null,height:this.props.height,item:this.props.item,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID})};d.$3=function(){if(j.shouldShowIGRevampComments)return b("React").jsx(b("PagesManagerInboxInstagramCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,onInitialLoad:this.$5,pageID:this.props.mailboxID});else return b("React").jsxs("div",{className:"_hbt","data-testid":"ig_comment_post",children:[b("React").jsx(b("PagesManagerInboxInstagramPostPhotoCardContainer.react"),{igPost:this.props.igPost,onImageInitialLoad:this.$5}),b("React").jsx(b("PagesManagerInboxInstagramPostCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,pageID:this.props.mailboxID})]})};d.$2=function(){return b("React").jsx(b("PagesManagerInboxInstagramPostComposerContainer.react"),{igPost:this.props.igPost,onCreateComment:this.$5,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,ref:"composer"})};d.$4=function(){return b("React").jsx(b("PagesManagerInboxInstagramContextCard.react"),{height:this.props.height,igPost:this.props.igPost})};return c}(b("React").PureComponent);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostContainer_igPost.graphql"),item:i!==void 0?i:i=b("PagesManagerInboxInstagramPostContainer_item.graphql")})}),null);
__d("PagesManagerInboxAdminAssignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminAssignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminAssignMutation.graphql");function a(a,c){var d={message_thread_assign_admin:{thread:{id:a.threadFBID,thread_associated_page_admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemAssignUniqueOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemAssignUniqueOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemAssignUniqueOwnerMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={assign_unique_comm_item_owner:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[{admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemClearOwnersMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemClearOwnersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemClearOwnersMutation.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={clear_comm_item_owners:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,variables:{input:{actor_id:a.pageID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[b("React").jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b},shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment},c),"PagesManagerInboxAdminAssignerRoot.assigner"),b("React").jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{pageID:this.props.pageID,commItemID:this.props.commItemID}})};return c}(b("React").Component);e.exports=a}),null);
__d("JobEmployerUtils",["RelayModern","JobEmployerUtils_page.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;function a(a){var b=(a==null?void 0:a.name)||"",c=(a==null?void 0:a.id)||"";return(a==null?void 0:a.username)||b+"-"+c}g!==void 0?g:g=b("JobEmployerUtils_page.graphql");e.exports={getPageToken:a}}),null);
__d("PagesManagerInboxHeaderJobBanner.react",["ix","cx","ActionList.react","CenteredContainer.react","Image","JobEmployerUtils","JobsATSSetStatusDropdown.react","JobSearchATSLogger","JobSearchStrings","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","React","RelayModern","XPagesManagerManageJobsController","asset","cxMargin","PagesManagerInboxHeaderJobBanner_jobApplication.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;c=a.call(this,c)||this;c.$1=new(b("JobSearchATSLogger"))((d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:(d=d.employer)==null?void 0:d.id,(d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:d.id);return c}var d=c.prototype;d.componentDidMount=function(){this.$1.logJobsMessengerBannerImpression()};d.$2=function(){var a;a=(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:a.employer;a=b("JobEmployerUtils").getPageToken(a);return b("XPagesManagerManageJobsController").getURIBuilder().setString("page_token",a).setFBID("job_application_id",(a=this.props.jobApplication)==null?void 0:a.id).setEnum("referer_mechanism","page_messenger_banner").setEnum("source","messenger").getURI()};d.render=function(){var a;return(a=b("React")).jsxs(b("Layout.react"),{className:"_7esf",children:[a.jsx(b("LayoutColumn.react"),{className:"_3-8t",children:a.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:a.jsx("div",{className:"_7jvj",children:a.jsx(b("Image"),{className:"_7jvk",source:g("616091")})})})}),a.jsx(b("LayoutFillColumn.react"),{children:a.jsxs("div",{className:"_7esi",children:[a.jsxs(b("ActionList.react"),{className:"_7esj",children:[(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.title)==null?void 0:a.text,(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.long_subtitle)==null?void 0:a.text]}),b("React").jsx(b("Link.react"),{className:"_7jvl",href:this.$2(),children:b("JobSearchStrings").VIEW_APPLICATION})]})}),b("React").jsx(b("LayoutColumn.react"),{className:"_3-8t",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("JobsATSSetStatusDropdown.react"),{jobApplication:this.props.jobApplication,logger:this.$1})})})]})};return c}(b("React").PureComponent);e.exports=a(c,{jobApplication:i!==void 0?i:i=b("PagesManagerInboxHeaderJobBanner_jobApplication.graphql")})}),null);
__d("PagesManagerInboxCometHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","CenteredContainer.react","Layout.react","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxCometHeaderView_commItem.graphql","PagesManagerInboxCometHeaderView_igPost.graphql","PagesManagerInboxCometHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=116,q="PageCommItemPart",r=40;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*p):b("PagesManagerAction").setHeaderHeight(p)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.showBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;return a===null||a===void 0||a===""||c!=="FB_PAGE_POST"?null:b("React").jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:this.props.mailboxID,placement:"pages-inbox",targetID:a})};d.showHeaderSubtitle=function(){__p&&__p();var a;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var c=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(c=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var d=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[c,d,b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":d=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.reactors)!=null?c.count:c:c:c;c=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.comments)!=null?c.count:c:c:c;a=(a=this.props.story)!=null?a.creation_time:a;var e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));d=null;c!==null&&c!==void 0&&c!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[e,d,a!==null&&a!==void 0&&a!==0&&b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(a,"M j"),time:a})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491);return b("React").jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:this.props.commItem.id,pageID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{className:"_8g7f",commPlatform:e,commType:d,commentType:c,imageSize:r,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?b("React").jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===q){return(c=b("React")).jsx("div",{children:c.jsxs(b("Layout.react"),{className:"_8g7a",children:[c.jsx(n,{className:"_8g7b",children:c.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),c.jsx(o,{children:c.jsx("div",{className:"_8g7g",children:c.jsx("div",{className:"_8g7h",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return b("React").jsxs("div",{children:[b("React").jsxs(b("Layout.react"),{className:"_8g7a",children:[b("React").jsx(n,{className:"_8g7b",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),b("React").jsx(o,{children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx("div",{className:"_8g7g",children:b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_8g7e",children:this.escapedTitle()}),b("React").jsx("div",{className:"_8g7i",children:this.showHeaderSubtitle()})]})})})}),b("React").jsx(n,{children:b("React").jsx(m,{ChildActionClass:b("PagesManagerInboxCometDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.showBoostButton(),pageID:this.props.mailboxID})})]}),a]})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxCometHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxCometHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxCometHeaderView_story.graphql")})}),null);
__d("PagesManagerInboxAdminUnassignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminUnassignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminUnassignMutation.graphql");function a(a,c){var d={message_thread_unassign_admin:{thread:{id:a.threadFBID}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxMessengerAdminAssigner.react",["ix","cx","fbt","CurrentUser","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxAdminAssignMutation","PagesManagerInboxAdminUnassignMutation","PagesManagerInboxCometUtil","PagesManagerInboxLogger","React","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").jsx("div",{className:"_wy6"})}function k(a){var c;return[(c=b("React")).jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:c.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),c.jsx(j,{},"PagesManagerInboxAdminAssigner.divider"),c.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:c.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$6=function(a){b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto()});var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(c.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"assign","other")};c.$8=function(){b("PagesManagerInboxAdminUnassignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:b("nullthrows")(c.props.pageID)});c.$5.close();var a=b("nullthrows")(c.props.thread.thread_fbid);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"unassign","other")};c.$9=function(){var a=c.props.admins.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?a.profilePicUrl:a;b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a)});c.$5.close();var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.pageID),"assign","other")};c.$10=function(a){return b("React").jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this.props.admins.map(function(a){return{name:a.name,id:a.id,profile_picture:{uri:a.profilePicUrl}}});this.$4.cacheData(a)};d.$7=function(a,c,d,e){a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(this.props.pageID).updateCommItemOwner(a,c,d,e)};d.render=function(){var a=this,c;this.$1=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.name;this.$2=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.id;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.pageName);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?b("React").jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:b("React").jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.pageName?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign Conversation").toString(),value:this.$1?this.$3:null}):b("React").jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:b("React").jsx(k,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1?this.$1:"")]).toString(),value:this.$1?this.$3:null})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","CenteredContainer.react","Layout.react","LineClamp.react","MercuryIDs","MessengerState.bs","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxMessengerAdminAssigner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxHeaderView_commItem.graphql","PagesManagerInboxHeaderView_igPost.graphql","PagesManagerInboxHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=56+1,q="PageCommItemPart",r=40,s=16;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*p):b("PagesManagerAction").setHeaderHeight(p)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.renderBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;if(a===null||a===void 0||a===""||c!=="FB_PAGE_POST")return null;c=b("PagesManagerInboxStore").getPageID();return c==null?null:b("React").jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:c,placement:"pages-inbox",targetID:a})};d.renderHeaderSubtitle=function(){__p&&__p();var a=this,c;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var d=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(d=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var e=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[d,e,b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":e=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.reactors)!=null?d.count:d:d:d;d=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.comments)!=null?d.count:d:d:d;c=(c=this.props.story)!=null?c.creation_time:c;var f=null;e!==null&&e!==void 0&&e!==0&&(f=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return b("React").jsxs(b("ActionList.react"),{children:[f,e,c!==null&&c!==void 0&&c!==0&&b("React").jsx(b("Timestamp.react"),{text:b("formatDate")(c,"M j"),time:c})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.shouldUseMessengerStateForAdminAssignment||(this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491));var g=b("PagesManagerInboxStore").getPageID(),j=b("PagesManagerInboxStore").getPageName(),k=b("PagesManagerInboxStore").getPageAdmins();if(g!=null&&k!=null&&j!=null)return this.props.shouldUseMessengerStateForAdminAssignment?b("React").jsx(b("MessengerState.bs").jsComponent,{fbid:g,children:function(c){return b("React").jsx(b("PagesManagerInboxMessengerAdminAssigner.react"),{admins:k,pageID:g,pageName:j,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,thread:b("MessengerState.bs").threads(c)[b("MercuryIDs").getThreadIDFromUserID(a.props.listItemKey)]})}}):b("React").jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:b("nullthrows")(this.props.commItem.id),pageID:g,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return b("React").jsx(b("PagesManagerInboxProfilePic.react"),{className:"_7ywy",commPlatform:e,commType:d,commentType:c,imageSize:r,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?b("React").jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===q){return(c=b("React")).jsx("div",{children:c.jsxs(b("Layout.react"),{className:"_iyn",children:[c.jsx(n,{className:"_iyp",children:c.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),c.jsx(o,{children:c.jsx("div",{className:"_72od",children:c.jsx("div",{className:"_7ywz",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return b("React").jsxs("div",{children:[b("React").jsxs(b("Layout.react"),{className:"_iyn",children:[b("React").jsx(n,{className:"_iyp",children:b("React").jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:b("React").jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),b("React").jsx(o,{children:b("React").jsx("div",{className:"_72od",children:b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_iyo",children:b("React").jsx(b("LineClamp.react"),{lineHeight:s,lines:1,children:this.escapedTitle()})}),b("React").jsx("div",{className:"_iyr",children:this.renderHeaderSubtitle()})]})})}),b("React").jsx(n,{children:b("React").jsx(m,{ChildActionClass:b("PagesManagerInboxDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.renderBoostButton()})})]}),a]})};return c}(b("React").PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxHeaderView_story.graphql")})}),null);
__d("PagesManagerInboxDeleteNoteMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxDeleteNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxDeleteNoteMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,note_id:a.noteID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("XPagesManagerInboxFacebookPostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/fb_post/",{})}),null);
__d("PagesManagerInboxQueryUtilCommItemRenderTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT:"CONTEXT",INFO:"INFO",HEADER:"HEADER"})}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["ActorURI","AsyncRequest","FluxStore","MercuryThreadlistConstants","MessengerState.bs","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesContextCardSetIsHiddenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("PagesManagerMessagingMessagelistDispatcher"))||this;c.$PagesManagerMessagingMessagelistStore1="";c.$PagesManagerMessagingMessagelistStore2=!1;c.$PagesManagerMessagingMessagelistStore3=!1;c.$PagesManagerMessagingMessagelistStore4=!1;c.$PagesManagerMessagingMessagelistStore6=[];c.$PagesManagerMessagingMessagelistStore7=0;c.$PagesManagerMessagingMessagelistStore9=new Map();c.$PagesManagerMessagingMessagelistStore10=0;c.$PagesManagerMessagingMessagelistStore11=0;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore12(a);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=a.isLoading;this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=a.isLoadingMore;this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var c=a.height;c!==this.$PagesManagerMessagingMessagelistStore7&&(this.$PagesManagerMessagingMessagelistStore7=c,this.__emitChange());break;case b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore10=a.appointmentBannerHeight;this.__emitChange();break;case b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore13(a.pageID,a.isHidden);this.__emitChange();break;case b("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=!1;this.$PagesManagerMessagingMessagelistStore5=null;break;case b("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=!0;this.$PagesManagerMessagingMessagelistStore5=a.preview;this.__emitChange();break;case b("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore14(a.pageID,a.userID,a.isBanned);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.CONTENT_SEARCH_SELECTED_INDEX:this.$PagesManagerMessagingMessagelistStore11=a.contentSearchSelectedIndex;this.__emitChange();break;default:return}};d.$PagesManagerMessagingMessagelistStore12=function(a){this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore1=a.threadID,this.$PagesManagerMessagingMessagelistStore6=a.data.messages};d.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};d.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};d.getMessagelist=function(a,c){if(c!=this.$PagesManagerMessagingMessagelistStore1)return b("MessengerState.bs").getThreadMessagesRangeNow(a,c,0,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){a=this.$PagesManagerMessagingMessagelistStore6.slice();this.$PagesManagerMessagingMessagelistStore5&&a.push(this.$PagesManagerMessagingMessagelistStore5);return a}return this.$PagesManagerMessagingMessagelistStore6};d.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore7};d.isCardHidden=function(){return this.$PagesManagerMessagingMessagelistStore8===void 0||this.$PagesManagerMessagingMessagelistStore8===null?null:this.$PagesManagerMessagingMessagelistStore8};d.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore10};d.$PagesManagerMessagingMessagelistStore13=function(a,c){this.$PagesManagerMessagingMessagelistStore8=c;a=b("ActorURI").create(b("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setData({is_hidden:c}).setMethod("POST").send()};d.$PagesManagerMessagingMessagelistStore15=function(a,b){return a+"_"+b};d.getIsUserBanned=function(a,b){return this.$PagesManagerMessagingMessagelistStore9.get(this.$PagesManagerMessagingMessagelistStore15(a,b))};d.$PagesManagerMessagingMessagelistStore14=function(a,b,c){this.$PagesManagerMessagingMessagelistStore9.set(this.$PagesManagerMessagingMessagelistStore15(a,b),c)};d.getContentSearchSelectedIndex=function(){return this.$PagesManagerMessagingMessagelistStore11};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerInboxQueryUtil",["invariant","FBIDCheck","MediaManagerInboxCustomTabUtils","MercuryIDs","PagesManagerInboxFacebookPostStore","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerInboxQueryRenderer.react","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PagesManagerInboxQueryUtilMessengerQuery.graphql","PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemQuery.graphql","PagesManagerInboxQueryUtilInstagramQuery.graphql","PagesManagerInboxQueryUtilFacebookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l,m,n,o;b("RelayModern").graphql;a={renderWithMessengerThreadQuery:function(a,c,d){return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:h!==void 0?h:h=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:d,variables:{threadToken:[c,a].join("_")}})},renderWithCommItemQuery:function(a,c,d,e){__p&&__p();var f=b("PagesManagerInboxFilterStore").getIsSearchActive(),h=!1;if(f)if(b("FBIDCheck").isUser_deprecated(a))h=!0;else{var m=b("MercuryIDs").getThreadIDFromThreadFBID(b("nullthrows")(a));m=b("PagesManagerMessagingMessagelistStore").getMessagelist(c,m);m.length>0&&(h=!0)}if((b("PagesManagerInboxMercuryUtil").shouldUseMercury()||b("MediaManagerInboxCustomTabUtils").shouldRenderMessengerPreviewHeader())&&(!f||h)){m="";switch(e){case b("PagesManagerInboxQueryUtilCommItemRenderTypes").CONTEXT:m=i!==void 0?i:i=b("PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO:m=j!==void 0?j:j=b("PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER:m=k!==void 0?k:k=b("PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql");break}return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m,render:function(a){var b,c=a.error;a=a.props;b=(b=a)!=null?(b=b.page)!=null?b.page_comm_item_for_message_thread:b:b;if(a&&!c)return d({error:c,props:a},b);!c&&!a||g(0,4573);return d({error:c,props:a},null)},variables:{messageThreadID:a,pageID:c}})}return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:l!==void 0?l:l=b("PagesManagerInboxQueryUtilCommItemQuery.graphql"),render:function(a){var b=a.error;a=a.props;if(a&&!b)return d({error:b,props:a},a.commItem);!b&&!a||g(0,4573);return d({error:b,props:a},null)},variables:{commItemID:a}})},renderWithPlatformPostThreadQuery:function(a,c,d,e,f,h){switch(d){case"INSTAGRAM":return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m!==void 0?m:m=b("PagesManagerInboxQueryUtilInstagramQuery.graphql"),render:h,variables:{commItemID:a,igPostID:c}});case"FACEBOOK":b("PagesManagerInboxFacebookPostStore").get(a,e,!0);return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{query:n!==void 0?n:n=b("PagesManagerInboxQueryUtilFacebookQuery.graphql"),render:h,variables:{commItemID:a,targetID:f}});case"MESSENGER":case"WEC":case"INSTAGRAM_DIRECT":return b("React").jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:o!==void 0?o:o=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:h,variables:{threadToken:[e,c].join("_")}});default:g(0,13808,a)}}};e.exports=a}),null);
__d("PagesManagerPageCommItemDeleteSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_delete_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemDeleteSubscription",["PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerPageCommItemDeleteSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemDeleteSubscription.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&(b("PagesManagerAction").clearViewListItem(),h.deleteNode(d,c))},e=function(a){b("PagesManagerPageCommItemDeleteSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("comm_status"),i=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),j=b("PagesManagerInboxStore").getConfig().platformConfigs,l=b("PagesManagerInboxFilterStore").getActiveType(),m=e.getLinkedRecord("comm_item_owners");m=m&&m.getLinkedRecords("nodes");m=m&&m[0]&&m[0].getLinkedRecord("admin");m=m&&m.getValue("id");var n=b("PagesManagerInboxFilterStore").getActiveOwner().id;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:i,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(d){var o=k(d,f);if(i!==g||n&&n!==m)h.deleteNode(d,f);else if(!o&&!j[l].selectedCommentView==="TOP_LEVEL_COMMENT"){i=h.createEdge(c,d,e,"PageBusinessCommItemsEdge");i&&h.insertEdgeBefore(d,i)}}},e=function(a){b("PagesManagerPageCommItemEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartDeleteSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartDeleteSubscription.graphql");function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_part_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_part_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&h.deleteNode(d,c)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_part_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemPartEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerPageCommItemPartEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_part_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item_part");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("is_important"),i=e.getValue("is_read"),j=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());if(b("PagesManagerInboxFilterStore").getCommentsTab()==="highlighted"&&!g)return;if(b("PagesManagerInboxFilterStore").getCommentsTab()==="unread"&&i)return;g=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:j,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){i=k(g,f);if(!i){d=h.createEdge(c,g,e,"PageBusinessCommItemsEdge");d&&h.insertEdgeBefore(g,d)}}},e=function(a){b("PagesManagerPageCommItemPartEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});e.exports=a}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={resetStep:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:a})},setRootElement:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:a})},setStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_STEP,step:a})},setShouldShowBanner:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:a})},setShouldShowContextCardStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:a})}};e.exports=a}),null);
__d("PagesManagerInboxComposerStateReasonType",[],(function(a,b,c,d,e,f){"use strict";e.exports={DISABLE_LEFT_GROUP:"DISABLE_LEFT_GROUP",ENABLE_NOT_GROUP:"ENABLE_NOT_GROUP",ENABLE_IN_GROUP:"ENABLE_IN_GROUP"}}),null);
__d("GraphQLSubscribeModes",[],(function(a,b,c,d,e,f){"use strict";a={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"};e.exports=a}),null);
__d("GraphQLMutationDataHandler",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a={getMutationType:function(a){!!a&&Object.keys(a).length===1||g(0,3445);return Object.keys(a)[0]}};e.exports=a}),null);
__d("GraphQLSubscriptionTracker",[],(function(a,b,c,d,e,f){"use strict";var g={};a={trackSubscription:function(a,b){g[b]=a},getSubscription:function(a){return g[a]},removeSubscription:function(a){delete g[a]}};e.exports=a}),null);
__d("RelayGraphQLSubscriptionNetworkLayer",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h;a={injectGraphQLSubscriber:function(a){h=a},sendSubscribeRequest:function(a){h||g(0,1910),h.sendSubscribeRequest(a)}};e.exports=a}),null);
__d("RQLSubscription",["invariant","GraphQLMutationDataHandler","GraphQLSubscribeModes","GraphQLSubscriptionTracker","RelayGraphQLSubscriptionNetworkLayer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={sendSubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").SUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},sendUnsubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").UNSUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},handleSubscriptionPayload:function(a){var c=b("GraphQLMutationDataHandler").getMutationType(a);a[c]||g(0,5237);var d="client_subscription_id"in a[c];if(!d)return;d=a[c].client_subscription_id;d||g(0,5238);c=b("GraphQLSubscriptionTracker").getSubscription(d);c&&c.handlePayload(a)}};e.exports=a}),null);
__d("RelayGraphQLSubscriber",["Promise","GraphQLSubscribeModes","GraphQLSubscriptionsTypedLogger","RelayRTIGraphQLSubscriberUtils","RQLSubscription","SkywalkerManager","nullthrows","react-relay-deprecated/classic/query/RelayQuery","react-relay-deprecated/classic/route/RelayMetaRoute","react-relay-deprecated/classic/traversal/flattenRelayQuery","react-relay-deprecated/classic/traversal/printRelayQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRTIGraphQLSubscriberUtils").getTopicAndTransformContext,h={},i=155160167952447;function a(a){__p&&__p();return{sendSubscribeRequest:function(c){var d=this,e,f=this._prepareData(c);c.mode===b("GraphQLSubscribeModes").SUBSCRIBE?e=g(a,f.queryText,f.queryID,f.queryParams,f.topic).then(function(a){var b=a.topic;a=a.transformContext;f.topic=b;a.appID=i;return d._subscribe(f,a)}):c.mode===b("GraphQLSubscribeModes").UNSUBSCRIBE?e=this._unsubscribe(f):e=b("Promise").reject("invalid mode");e["catch"](function(a){return!1})},_prepareData:function(a){var c={input:JSON.stringify(babelHelpers["extends"]({},a.params,{client_subscription_id:a.clientSubscriptionID}))},d=b("react-relay-deprecated/classic/query/RelayQuery").Subscription.create(a.subscription,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$GraphQLSubscriber"),c),e=b("react-relay-deprecated/classic/traversal/printRelayQuery")(b("nullthrows")(b("react-relay-deprecated/classic/traversal/flattenRelayQuery")(d))).text;return{queryText:e,queryID:a.subscriptionQueryID!=null?Number(a.subscriptionQueryID):null,queryParams:c,topic:a.topic!=null?String(a.topic):null,tokenKey:JSON.stringify({params:a.params,text:e}),logger:new(b("GraphQLSubscriptionsTypedLogger"))().setSubscriptionCall(d.getCall().name).setQueryParams(c).setMechanism("skywalker")}},_subscribe:function(a,c){var d=a.topic,e=a.tokenKey,f=a.logger;return new(b("Promise"))(function(a){var g={context:{transformContext:JSON.stringify(c)}};h[e]=b("SkywalkerManager").subscribe(b("nullthrows")(d),function(a){a=JSON.parse(a.payload);f.setEvent("receivepayload").log();b("RQLSubscription").handleSubscriptionPayload(a)},g);f.setEvent("client_subscribe").log();a()})},_unsubscribe:function(a){var c=a.tokenKey,d=a.logger;return new(b("Promise"))(function(a){h[c].unsubscribe(),delete h[c],d.setEvent("client_unsubscribe").log(),a()})}}}e.exports=a}),null);
__d("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239139299490883"};b.getQueryID=function(){return"476383886201370"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1687920431245100"};b.getQueryID=function(){return"184933352139512"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesMessengerAppointmentActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MESSENGER_APPOINTMENT_TOGGLE_DIALOG:null});e.exports=a}),null);
__d("ServicesMessengerAppointmentActions",["ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG;a={toggleDialog:function(a,c,d,e,f){b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{additionalLoggingData:c,onUpdateCompleted:f,referrerData:d,shouldShowDialog:a,startTime:e}})}};e.exports=a}),null);
__d("ServicesMessengerAppointmentStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes","emptyFunction","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG,h={referrerUIComponent:"composer",referrerUISurface:"message"},i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({additionalLoggingData:null,onUpdateCompleted:null,referrerData:null,shouldShowDialog:!1,startTime:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.reduce=function(a,b){var c=b.type;b=b.payload;switch(c){case g:return a.set("shouldShowDialog",b.shouldShowDialog).set("additionalLoggingData",b.additionalLoggingData).set("referrerData",b.referrerData).set("startTime",b.startTime).set("onUpdateCompleted",b.onUpdateCompleted);default:return a}};d.getShouldShowDialog=function(){var a;return(a=this.getState().shouldShowDialog)!=null?a:!1};d.getAdditionalLoggingData=function(){return this.getState().additionalLoggingData};d.getReferrerData=function(){var a;return(a=this.getState().referrerData)!=null?a:h};d.getStartTime=function(){return this.getState().startTime};d.getOnUpdateCompleted=function(){var a;return(a=this.getState().onUpdateCompleted)!=null?a:b("emptyFunction")};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dlite/skywalker_topic/",{})}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","ChannelManager","CurrentUser","DateConsts","FluxContainer","Instant","Link.react","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ReactDOM","RelayGraphQLSubscriptionNetworkLayer","RelayGraphQLSubscriber","ServicesEventsLogger","ServicesAppointmentBadgeSubscription","ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation","ServicesAppointmentComposerBadgeQueryWebGraphQLQuery","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesMessengerAppointmentActions","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","ServicesMessengerAppointmentStore","WebGraphQL","XDliteGraphQLSkywalkerController","XUIAmbientNUX.react","emptyFunction","promiseDone","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("ChannelManager");var i={referrerUIComponent:"composer",referrerUISurface:"message"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.composerBadgeSubscription=null,d.$1=!1,d.handleClick=function(){d.state.showComposerBadge&&b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),page_id:d.props.pageID,user_id:d.props.recipientID}})),d.handleToggleDialog(!0),d.setState({showComposerBadge:!1})},d.handleToggleDialog=function(a){b("ServicesMessengerAppointmentActions").toggleDialog(a,null,i,d.$2(),d.$3)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesMessengerAppointmentNUXStore"),b("ServicesMessengerAppointmentStore")]};c.calculateState=function(a){if(!a)return{additionalLoggingData:null,dialogShown:!1,onUpdateCompleted:b("emptyFunction"),referrerData:i,showComposerBadge:!1,showComposerNUX:!1,startTime:null,timeMentioned:null,timezoneID:b("ServicesDateTimeUtils").getDefaultTimezoneID()};var c=b("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},a,{additionalLoggingData:b("ServicesMessengerAppointmentStore").getAdditionalLoggingData(),dialogShown:b("ServicesMessengerAppointmentStore").getShouldShowDialog(),onUpdateCompleted:b("ServicesMessengerAppointmentStore").getOnUpdateCompleted(),referrerData:b("ServicesMessengerAppointmentStore").getReferrerData(),showComposerNUX:c.showComposerNUX,startTime:b("ServicesMessengerAppointmentStore").getStartTime()})};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerAppointmentNUXActions").loadNUXEligibility(),this.log("booking_admin_composer_icon_impression"),b("RelayGraphQLSubscriptionNetworkLayer").injectGraphQLSubscriber(b("RelayGraphQLSubscriber")(b("XDliteGraphQLSkywalkerController").getURIBuilder().getURI())),this.initShowComposerBadge(),this.subscribeToShowComposerBadge(),this.$1=!0};d.componentWillUnmount=function(){this.composerBadgeSubscription&&(this.composerBadgeSubscription=null),this.$1=!1};d.componentDidUpdate=function(a,b){!b.showComposerBadge&&this.state.showComposerBadge&&this.log("booking_admin_thread_intent_composer_badging_impression")};d.log=function(a){b("ServicesEventsLogger").log(this.props.pageID,a,this.state.referrerData,{customer_id:this.props.recipientID,custom_session_id:b("uuid")()})};d.initShowComposerBadge=function(){var a=this;b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery"))({page_id:this.props.pageID,user_id:this.props.recipientID})),function(c){if(!c)return;c=((c=c)!=null?(c=c.page)!=null?c.services_vertical_info:c:c)||{};var d=c.messenger_appointment_intent_data||{},e=c.time_zone_name;if(!a.$1)return;a.setState({showComposerBadge:!!c.should_show_composer_badge,timeMentioned:d.time_mentioned||null,timezoneID:b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(e)})},function(a){})};d.subscribeToShowComposerBadge=function(){var a=this;this.composerBadgeSubscription=b("ServicesAppointmentBadgeSubscription").subscribe({page_id:this.props.pageID,user_id:this.props.recipientID},function(b){b=((b=b)!=null?b.services_appointment_badge_subscribe:b)||{};if(!a.$1)return;a.setState({showComposerBadge:!!b.should_show_badge,timeMentioned:b.timestamp||null})})};d.$3=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.$2=function(){var a=this.state.timeMentioned;return a&&!(a<b("Instant").now()-b("DateConsts").SEC_PER_WEEK*2)?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a,this.state.timezoneID):null};d.renderCreateAppointmentDialog=function(){var a=this,c=this.state.dialogShown;return!c?null:b("React").jsx(b("ServicesAppointmentDialogRoot.react"),{additionalLoggingData:this.state.additionalLoggingData,causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,jobSearchSurface:"messenger",onToggle:this.handleToggleDialog,onUpdateCompleted:this.state.onUpdateCompleted,pageID:this.props.pageID,referrerData:this.state.referrerData,showMessengerButton:!1,shown:this.state.dialogShown,startTime:this.state.startTime,userID:this.props.recipientID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.renderComposerNUX=function(){if(!this.button)return null;var a=this.state.showComposerNUX;a&&b("ServicesMessengerAppointmentNUXActions").showNUX(5292);return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"right",context:b("ReactDOM").findDOMNode(this.button),shown:a,onCloseButtonClick:function(){return b("ServicesMessengerAppointmentNUXActions").closeNUX(5292)},position:"above",width:"normal",children:h._("Create an appointment from any conversation so customers can get automatic reminders")})};d.render=function(){var a=this,c=h._("Create appointment");return b("React").jsxs("div",{children:[b("React").jsxs(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.handleClick,ref:function(b){return a.button=b},children:[b("React").jsx("div",{className:this.state.showComposerBadge?"_4on2":""}),b("React").jsx("i",{className:"_2em5"})]}),this.renderComposerNUX(),this.renderCreateAppointmentDialog()]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(){return c.props.onDetach(c.props.uploadID)};return c}var d=c.prototype;d.$2=function(){if(this.props.type.startsWith("image"))return h("94995");else if(this.props.type.startsWith("video"))return h("94998");else if(this.props.type.startsWith("audio"))return h("94984");else if(this.props.type.startsWith("text"))return h("94997");return h("94992")};d.$3=function(){return b("React").jsx(b("XUICloseButton.react"),{className:"_2uia",onClick:this.$1})};d.$4=function(){return b("React").jsx("span",{className:"_2uib",children:this.props.isUploading?b("React").jsx(b("XUISpinner.react"),{size:"large"}):b("React").jsx(b("Image.react"),{src:this.$2(),alt:this.props.type})})};d.$5=function(){return b("React").jsx("span",{className:"_2uic",children:this.props.name})};d.render=function(){var a;return(a=b("React")).jsxs("li",{className:"clearfix _2uid",children:[a.jsx("span",{className:"_kqe _kqf",children:this.$4()}),a.jsx("span",{className:"_kqe _kqh",children:this.$5()}),a.jsx("span",{className:"_kqe _kqi",children:this.$3()})]})};return c}(b("React").Component);a.propTypes={attachmentID:(c=b("prop-types")).string,isUploading:c.bool,key:c.string,name:c.string,onDetach:c.func,type:c.string,uploadID:c.string};e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return b("React").jsx(b("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:a.isUploading,name:a.name,onDetach:this.props.onDetach,type:a.type,uploadID:a.uploadID},a.uploadID)};d.render=function(){return this.props.attachments.length>0?b("React").jsx("ul",{className:"_27ru",children:this.props.attachments.map(this.$1,this)}):null};return c}(b("React").Component);a.propTypes={attachments:b("prop-types").array.isRequired,onDetach:b("prop-types").func.isRequired};a.defaultProps={attachments:[]};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesEmptyState.react",["cx","fbt","FDSButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("We offer two shipping options..."),j=h._("Can you provide your order confirmation number so we can..."),k=h._("Here's more info about our upcoming event...");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.$1=function(a){return b("React").jsx("div",{className:"_7t00",children:a})};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_22rs",children:[a.jsxs("div",{className:"_7t01",children:[this.$1(i),this.$1(j),this.$1(k)]}),a.jsx("div",{children:h._("Save replies to frequently asked questions so you can respond more quickly to messages later.")}),a.jsx("div",{className:"_7t02",children:a.jsx(b("FDSButton.react"),{label:h._("Create Saved Reply"),onClick:this.props.onCreateNewReply,size:"large",use:"primary"})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingAutomatedSequenceListItem.react",["ix","cx","fbt","FDSText.react","FluxContainer","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesMarketingAutomationStore","React","SavedResponsesConstants","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onMouseEnter(c.state.message)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(){return{automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),message:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages().introMessage}};var d=c.prototype;d.$1=function(){return this.state.automatedCheckoutMessages&&this.state.automatedCheckoutMessages.introMessage?this.state.automatedCheckoutMessages.introMessage:""};d.$2=function(){return b("React").jsxs("div",{className:"_40g7",children:[b("React").jsxs(b("FDSText.react"),{weight:"bold",children:[i._("Buyer Information")," "]}),b("React").jsx(b("FDSText.react"),{color:"disabled",children:i._("Sequence")})]})};d.$4=function(){var a=i._("Edit");return b("React").jsx(b("LayoutColumn.react"),{className:"_7t98",children:b("React").jsx(b("Tooltip.react"),{tooltip:a,children:b("React").jsx(b("Image.react"),{className:"_7r85",onClick:this.props.onAutomatedSequenceEditClick,src:g("484291")})})})};d.render=function(){if(this.state.automatedCheckoutMessages)return b("React").jsx("li",{className:"_2ph_ _40g6",children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsxs(b("LayoutFillColumn.react"),{onClick:this.props.onAutomatedSequenceSelected,onMouseEnter:this.$3,ref:b("SavedResponsesConstants").automatedSequenceItemRef,children:[this.$2(),this.$1()]}),this.props.isSavedReplyNewUI?this.$4():null]})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["ix","cx","fbt","ActorURI","AsyncRequest","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","SavedResponsesConstants","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","Tooltip.react","XPagesSavedResponsesImageDuplicationController","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=53,k=53;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getDerivedStateFromProps=function(a,c){return{message:b("SavedResponsesTokensUtils").prepareforSend(a.reply.message,a.tokens),isProcessing:c.isProcessing}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={message:"",isProcessing:!1};d.mounted=!1;d.$3=function(){__p&&__p();if(d.state.isProcessing)return;if(!d.props.reply.image){d.props.onClick(d.props.reply,d.state.message,null,d.props.searchTerm);return}var a=d.props.reply.image.id;d.setState({isProcessing:!0});var c=b("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();c=b("ActorURI").create(c,d.props.pageID);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({image_id:a}).setHandler(function(a){a=b("SavedResponsesUtils").generateImageMetadata(""+a.payload.duplicatedImageID);d.props.onClick(d.props.reply,d.state.message,a,d.props.searchTerm);d.mounted&&d.setState({isProcessing:!1})}).send()};d.$4=function(){d.props.onEditClick(d.props.reply)};d.$5=function(){d.props.onDeleteClick(d.props.reply)};d.$6=function(){d.props.onMouseEnter(d.state.message)};return d}var d=c.prototype;d.componentDidMount=function(){this.mounted=!0};d.componentWillUnmount=function(){this.mounted=!1};d.$1=function(){if(this.props.reply.image){var a=this.props.reply.image.id;return b("React").jsx(b("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:j,imageID:a,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:!1,width:k})}};d.$2=function(){if(this.props.reply&&this.props.reply.title!=="")return b("React").jsx("h4",{className:"_40g7",children:this.props.reply.title})};d.$7=function(){var a,c=i._("Edit"),d=i._("Delete");return(a=b("React")).jsxs(b("LayoutColumn.react"),{className:"_7t98",children:[a.jsx(b("Tooltip.react"),{tooltip:c,children:a.jsx(b("Image.react"),{className:"_7r85",onClick:this.$4,src:g("484291")})}),a.jsx(b("Tooltip.react"),{tooltip:d,children:a.jsx(b("Image.react"),{className:"_7r85",onClick:this.$5,src:g("524061")})})]})};d.render=function(){return b("React").jsx("li",{className:b("joinClasses")("_2ph_ _40g6"+(this.state.isProcessing?" _84qn":""),this.props.className),children:b("React").jsxs(b("Layout.react"),{children:[b("React").jsxs(b("LayoutFillColumn.react"),{onClick:this.$3,onMouseEnter:this.$6,onMouseLeave:this.props.onMouseLeave,ref:b("SavedResponsesConstants").replyItemRef,children:[this.$2(),this.state.message]}),b("React").jsx(b("LayoutColumn.react"),{className:"_8frq",children:this.$1()}),this.props.isSavedReplyNewUI?this.$7():null]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["ix","cx","fbt","Image.react","Link.react","PagesManagerMessagingAutomatedSequenceListItem.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$8=function(a,c){return b("React").jsx(b("PagesManagerMessagingSavedRepliesListItem.react"),{className:d.$1(a)?"":"hidden_elem",isSavedReplyNewUI:d.props.isSavedReplyNewUI,onClick:d.props.onReplySelected,onDeleteClick:d.props.onDeleteClick,onEditClick:d.props.onEditClick,onMouseEnter:d.props.onReplyMouseEnter,onMouseLeave:d.props.onReplyMouseLeave,pageID:d.props.pageID,reply:a,searchTerm:d.props.filter,tokens:d.props.tokens},c)};return d}var d=c.prototype;d.$1=function(a){var b=this.props.filter.toLowerCase();return b===""&&this.props.matchingShortcut!==""?a.title!==null&&a.title!==void 0&&a.title.toLowerCase().indexOf(this.props.matchingShortcut)===0:a.message.toLowerCase().indexOf(b)!==-1||(a.title||"").toLowerCase().indexOf(b)!==-1};d.$2=function(){if(this.props.filter!==""){var a=this.props.filter.toLowerCase();return!this.props.replies.some(function(b){return(b.title||"").toLowerCase().indexOf(a)!==-1||b.message.toLowerCase().indexOf(a)!==-1})}return!1};d.$3=function(){return b("React").jsx(b("Link.react"),{className:"_22rv",onClick:this.props.onCreateNewReply,children:i._("Create Saved Reply")})};d.$4=function(){return b("React").jsx("div",{className:"_2ph_ _22ru",children:b("React").jsx("p",{children:this.$3()})})};d.$5=function(){return b("React").jsx("div",{children:b("React").jsx("div",{className:"_2ph_ _22rp",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})})};d.$6=function(){var a=b("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return b("React").jsx(b("ScrollableArea.react"),{fade:!0,height:300,shadow:!1,children:b("React").jsxs("ul",{className:"_22rt",children:[this.$7(),a.map(this.$8,this),b("React").jsx("li",{className:"_2ph_ _22rs",children:this.props.isSavedReplyNewUI?null:this.$4()}),b("React").jsx("li",{className:"_22rs",children:this.props.isSavedReplyNewUI&&this.$2()?b("React").jsxs("div",{className:"_81z3",children:[b("React").jsx(b("Image.react"),{className:"_3-90",src:g("952401")}),i._("No results found")]}):null})]})})};d.$7=function(){if(this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return b("React").jsx(b("PagesManagerMessagingAutomatedSequenceListItem.react"),{isSavedReplyNewUI:this.props.isSavedReplyNewUI,onAutomatedSequenceEditClick:b("SavedResponsesUtils").editAutomatedCheckout,onAutomatedSequenceSelected:this.props.onAutomatedSequenceSelected,onMouseEnter:this.props.onReplyMouseEnter,pageID:this.props.pageID,searchTerm:this.props.filter,tokens:this.props.tokens})};d.render=function(){return b("React").jsxs("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":""),children:[this.props.isLoading?this.$5():null,this.$6()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SavedReplyDeleteReplyConfirmationModal.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{isDisabled:a.isDeleting,label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:c.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:c.jsx(b("FDSModalHeader.react"),{title:g._("Delete Saved Reply?")}),isShown:a.shown,label:"Delete Saved Reply Modal",onHide:a.onHide,width:400,children:c.jsx(b("FDSSection.react"),{children:g._("You won't be able to send this saved reply later.")})})}e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesDeleteSavedResponseMutation","PagesManagerMessagingComposerActions","PagesManagerMessagingSavedRepliesEmptyState.react","PagesManagerMessagingSavedRepliesList.react","PagesMessagingInboxActionLogger","React","SavedReplyDeleteReplyConfirmationModal.react","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.MOST_USED,responseToEdit:null,responseToDelete:null,searchQuery:"",savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,showDeleteModal:!1,isDeleting:!1},d.$1=function(a){d.setState({activeSortingOptionKey:a}),b("PagesMessagingInboxActionLogger").logSavedReplySortClicked(a)},d.$2=function(a){a=a.target.value;d.setState({searchQuery:a})},d.$3=function(){d.setState({searchQuery:""})},d.$4=function(){d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$5=function(){d.setState({savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})},d.$6=function(a){d.setState({responseToEdit:a,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})},d.$7=function(){var a,c=d.state.responseToDelete;if(c==null)return;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.$8(),d.props.onFetchReplies(),d.setState({isDeleting:!1})},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(c.message,null,(a=c.title)!=null?a:"",null,(a=c)!=null?(a=a.image)!=null?a.id:a:a,null,null)},d.$9=function(a){a&&d.props.onFetchReplies(),d.props.upsellSpecificData?(b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellNUX(!0),b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!0),d.props.resetFlyoutTrigger()):d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$8=function(){d.setState({responseToDelete:null,showDeleteModal:!1})},d.$10=function(a){d.setState({responseToDelete:a,showDeleteModal:!0})},d.$11=function(){d.props.onReplyMouseLeave(),d.props.toggleFlyout(),d.props.openAutomatedSequenceDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$12=function(){return b("React").jsx("div",{className:"_2ph_ _2gcu"+(this.props.isSavedReplyNewUI?"":" _7r86"),children:b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx("h3",{className:"_ht4",children:h._("Saved Replies")}),this.props.isSavedReplyNewUI?this.props.replies.length===0?null:b("React").jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.$4,children:h._("Create")}):b("React").jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies,children:h._("Manage Replies")})]})})};d.$13=function(){return!this.props.isLoading&&this.props.replies.length===0&&this.props.isSavedReplyNewUI?b("React").jsx(b("PagesManagerMessagingSavedRepliesEmptyState.react"),{onCreateNewReply:this.$4}):b("React").jsx(b("PagesManagerMessagingSavedRepliesList.react"),{automatedCheckoutID:this.props.automatedCheckoutID,filter:this.state.searchQuery,isLoading:this.props.isLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onAutomatedSequenceSelected:this.$11,onCreateNewReply:this.props.onCreateNewReply,onDeleteClick:this.$10,onEditClick:this.$6,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};d.$14=function(){if(this.props.isLoading||this.props.replies.length===0&&this.props.isSavedReplyNewUI)return null;var a="inputField";return b("React").jsxs(b("Layout.react"),{className:"_2ph_ _ht5",children:[b("React").jsx(j,{children:b("React").jsx(b("Image.react"),{className:"_ht8",src:i("27278")})}),b("React").jsx(k,{children:b("React").jsx(b("XUITextInput.react"),{className:"_ht9",onChange:this.$2,placeholder:h._("Search saved replies"),ref:a,value:this.state.searchQuery})}),b("React").jsx(j,{children:b("React").jsx(b("XUICloseButton.react"),{className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta",onClick:this.$3,size:"small"})})]})};d.render=function(){this.props.upsellSavedRepliesFlyout&&this.$5();switch(this.state.savedResponsesManageViewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return b("React").jsxs("div",{className:"_2gcs",children:[this.$12(),b("React").jsxs(b("LeftFillRightFitLayout.react"),{children:[this.$14(),b("React").jsx(b("SavedResponsesOrderingMenu.react"),{activeSortingOptionKey:this.state.activeSortingOptionKey,className:"_2gct",onSortingKeyChanged:this.$1})]}),this.$13(),b("React").jsx(b("SavedReplyDeleteReplyConfirmationModal.react"),{isDeleting:this.state.isDeleting,onConfirm:this.$7,onHide:this.$8,shown:this.state.showDeleteModal})]});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return b("React").jsx(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,isSavedReplyNewUI:this.props.isSavedReplyNewUI,onClose:b("emptyFunction"),onEditDone:this.$9,onEnterPersonalizeView:this.$5,pageID:this.props.pageID,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,supportedMacros:this.props.tokens,upsellSpecificData:this.props.upsellSpecificData})}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","Link.react","PagesEventObserver","PagesManagerInboxSavedRepliesUpsellNUXContainer.react","PagesManagerInboxSavedReplyNewUINuxContainer.react","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesAutomatedSequenceDialog.react","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,isAutomatedSequenceDialogVisible:!1,isFlyoutVisible:!1,isManageDialogVisible:!1,upsellSavedRepliesFlyout:!1},d.$2=function(){d.setState({isAutomatedSequenceDialogVisible:!1})},d.$3=function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!d.state.isFlyoutVisible}),d.props.onSavedReplyButtonClick(),d.$4()},d.$5=function(){d.props.onFetchReplies(),d.setState({isManageDialogVisible:!1})},d.$6=function(){window.setTimeout(function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!1}),d.setState({isFlyoutVisible:!1})},0)},d.$7=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$8=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$9=function(){d.setState({isAutomatedSequenceDialogVisible:!0})},d.$10=function(a,b,c,e){d.props.onReplySelected(a,b,c,e),d.setState({isFlyoutVisible:!1})},d.$4=function(){d.setState(function(a,b){return{isFlyoutVisible:!a.isFlyoutVisible}})},d.$11=function(){d.setState({isFlyoutVisible:!1,upsellSavedRepliesFlyout:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){!this.state.isFlyoutVisible&&a.upsellSpecificData!==this.props.upsellSpecificData&&this.$1()};d.$1=function(){this.setState({isFlyoutVisible:!0,upsellSavedRepliesFlyout:!0})};d.$12=function(){if(this.state.isAutomatedSequenceDialogVisible&&this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return b("React").jsx(b("SavedResponsesAutomatedSequenceDialog.react"),{automatedCheckoutID:this.props.automatedCheckoutID,onHide:this.$2,pageID:this.props.pageID,recipientID:this.props.recipientID,ref:b("SavedResponsesConstants").automatedSequenceDialogRef})};d.$13=function(){var a=this;if(this.state.isFlyoutVisible)return b("React").jsx(b("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return a.refs.icon},hasActionableContext:!0,hideOnEscape:!1,onBlur:this.$6,position:"above",ref:b("SavedResponsesConstants").flyoutDialogRef,shown:this.state.isFlyoutVisible,width:this.props.isSavedReplyNewUI?b("SavedResponsesConstants").managementDialogWidth:b("SavedResponsesConstants").flyoutDialogWidth,children:b("React").jsx(b("PagesManagerMessagingSavedRepliesFlyout.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onCreateNewReply:this.$7,onFetchReplies:this.props.onFetchReplies,onManageReplies:this.$8,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.$10,openAutomatedSequenceDialog:this.$9,pageID:this.props.pageID,replies:this.props.replies,resetFlyoutTrigger:this.$11,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,toggleFlyout:this.$4,tokens:this.props.tokens,upsellSavedRepliesFlyout:this.state.upsellSavedRepliesFlyout,upsellSpecificData:this.props.upsellSpecificData})})};d.$14=function(){if(this.state.isManageDialogVisible)return b("React").jsx(b("XUIDialog.react"),{layerHideOnBlur:!1,ref:b("SavedResponsesConstants").managementDialogRef,shown:this.state.isManageDialogVisible,width:b("SavedResponsesConstants").managementDialogWidth,children:b("React").jsx(b("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$5,otherUserID:this.props.recipientID,pageID:this.props.pageID})})};d.render=function(){var a=this,c=h._("Insert saved reply"),d="icon",e=this.props.isSavedRepliesLoading===!0||this.props.replies.length>2;return b("React").jsxs("div",{children:[b("React").jsx(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.$3,children:b("React").jsx("div",{className:(this.props.matchingShortcut===""?"_ht0":"")+(this.props.matchingShortcut!==""?" _7tab":""),ref:d})}),this.props.isSavedReplyNewUI?b("React").jsx(b("PagesManagerInboxSavedReplyNewUINuxContainer.react"),{contextRef:function(){return a.refs.icon},haveUsedSavedReplies:e}):null,b("React").jsx(b("PagesManagerInboxSavedRepliesUpsellNUXContainer.react"),{contextRef:function(){return a.refs.icon}}),this.$12(),this.$13(),this.$14()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMessengerHotLikeGlyphIcon.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_43_3"})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerMessagingComposerView.react",["ix","cssVar","cx","fbt","Image.react","JSResource","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","PagesEventObserver","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerInboxComposerSendAvailabilityButton.react","PagesManagerInboxProductPickerButton.react","PagesManagerInboxReturnToSendNUX.react","PagesManagerLogger","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerHotLikeGlyphIcon.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","PagesSmartComposeInput.react","React","SavedResponsesUtils","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","lazyLoadComponent","prop-types","Grid.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(){};b("Grid.react").GridItem;var k=b("lazyLoadComponent")(b("JSResource")("CommerceInvoiceAdminButton.react").__setRef("PagesManagerMessagingComposerView.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={isAttachmentsButtonVisible:!0,isSavedRepliesButtonVisible:!0,isSavedRepliesShortcutButtonVisible:!1,isStickerButtonVisible:!0,placeholder:""};d.getContextRef=function(){return d.$2};d.$7=function(a){a.preventDefault();a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a)};d.$15=function(a){d.setState({placeholder:a})};d.$16=function(){d.setState({placeholder:""})};d.$18=function(){b("PagesMessagingInboxActionLogger").logSavedReplyButtonClicked(d.props.commPlatform,d.props.matchingShortcut)};d.$17=function(a,c,e,f){d.setState({placeholder:""});d.props.onReplySelected(c,e);b("PagesEventObserver").notify("saved_replies_apply_reply",d.props.userID);b("SavedResponsesUtils").notifySavedResponseApplied(a);b("PagesMessagingInboxActionLogger").logApplySavedReply(d.props.commPlatform,d.props.matchingShortcut,f,a.message,(c=a.title)!=null?c:"",e!==null)};d.$1=!1;return d}var d=c.prototype;d.componentDidUpdate=function(a,b){this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$1&&(this.props.onInitialRender(),this.$1=!0),a&&a.message!==this.props.message&&this.refs.textInput.updateHeight()};d.UNSAFE_componentWillMount=function(){this.$3(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a,this.state)};d.$3=function(a){var b=a.attachments.length,c=a.message.length;c=c<1&&b<1;b=this.props.supportMultiAttachments||b<1;this.setState({isAttachmentsButtonVisible:b,isSavedRepliesButtonVisible:c||a.isSavedReplyNewUI,isStickerButtonVisible:c})};d.$4=function(){return this.props.canAttachFiles};d.$5=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};d.$6=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};d.$8=function(){if(!this.$4())return null;var a=j._("Attach a file");return b("React").jsx("div",babelHelpers["extends"]({className:"_4dvy"+(this.state.isAttachmentsButtonVisible?"":" hidden_elem")},b("TooltipData").propsFor(a),{children:b("React").jsx(b("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",supportMulti:this.props.supportMultiAttachments,onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"})}))};d.$9=function(){return!this.props.canAttachFiles?null:b("React").jsx(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};d.$10=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1){var a=this.props.threadID;return b("React").jsx("span",{className:"_1z9h",children:b("React").jsx(b("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?b("PagesMessengerHotLikeGlyphIcon.react"):void 0,customColor:this.props.isInboxDetailView?void 0:"#0084ff",disabled:!this.props.threadID,location:b("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:a})})}return null};d.$11=function(){var a=this.state.placeholder||(this.props.commPlatform==="WEC"?j._("Type a message..."):j._("Write a reply...")),c="textInput";if(this.props.shouldUseSmartComposeTextInput&&this.props.commPlatform==="MESSENGER")return b("React").jsx("div",{className:"_4dv-",children:b("React").jsx(b("PagesSmartComposeInput.react"),{className:"_1p7p _5id1 _4dv_",consumerUserID:this.props.recipientID,maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?this.$7:null,pageID:this.props.userID,placeholder:a,ref:c,threadID:this.props.threadID,value:this.props.message})});else return b("React").jsx("div",{className:"_4dv-",children:b("React").jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?this.$7:null,placeholder:a,ref:c,value:this.props.message})})};d.$12=function(){return b("React").jsx("div",{className:"_6fk",ref:"linkPreview"})};d.$13=function(){return b("React").jsx("div",{className:"_4dw0",children:b("React").jsx(b("Image.react"),{className:"_1cjc",src:this.props.persona&&this.props.persona.profilePicUrl?this.props.persona.profilePicUrl:this.props.participant.image_src})})};d.$14=function(){return!this.$5()||!this.props.recipientID?null:b("React").jsx("span",{className:"_4dw1",children:b("React").jsx(b("PagesManagerMessagingSavedRepliesButton.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$15,onReplyMouseLeave:this.$16,onReplySelected:this.$17,onSavedReplyButtonClick:this.$18,pageID:this.props.userID,recipientID:this.props.recipientID,replies:this.props.savedReplyResponses,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,showTooltip:!0,tokens:this.props.savedReplyTokens,upsellSpecificData:this.props.upsellSpecificData})})};d.$19=function(a){b("PagesMessagingInboxActionLogger").logSendButtonClicked(this.props.commPlatform,this.props.matchingShortcut,this.props.isQuickReplyMode),this.$7(a)};d.$20=function(){var a=this,c=j._("Send"),d=this.props.message.length<1&&this.props.attachments.length<1;return b("React").jsx("div",{className:"_4dw3"+(d?" hidden_elem":""),"data-testid":"inbox_coomposer_send",children:b("React").jsx(b("XUIButton.react"),{disabled:this.props.isSendBlocked,label:c,onClick:function(b){return a.$19(b)},use:"confirm"})})};d.$21=function(){if(!this.$6())return null;var a=j._("Post a sticker");return b("React").jsx("span",{className:"_4dw4",children:b("React").jsx(b("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,children:b("React").jsx("div",{alt:a,className:"_3fhi"})})})};d.$22=function(){return!this.props.canCreateAppointment||!this.props.recipientID?null:b("React").jsx("span",{className:"_43nn",children:b("React").jsx(b("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.getSendAvailabilityButton=function(){return!this.props.canSendAvailability||!this.props.recipientID?null:b("React").jsx("span",{className:"_43nn",children:b("React").jsx(b("PagesManagerInboxComposerSendAvailabilityButton.react"),{pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.$23=function(){return!this.props.shouldShowCommerceInvoiceButton||this.props.commPlatform!=="MESSENGER"||this.props.recipientID==null?null:b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx("div",{className:"_3w8o",children:b("React").jsx(k,{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldShowBonusTracker:this.props.shouldShowBonusTracker,shouldShowCommerceInvoiceSimplifiedFlow:this.props.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPaymentOnboarding:this.props.shouldShowPaymentOnboarding,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX,shouldUseKbankOnboarding:this.props.shouldUseKbankOnboarding})})})};d.$24=function(){return b("React").jsx(b("PagesMessengerSuggestedResponseView.react"),{onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline,suggestedResponseHandler:this.props.suggestedResponseHandler})};d.render=function(){__p&&__p();var a=this;if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return b("React").jsx("div",{className:"__1d"});else if(this.props.isBlocked){var c;new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("composer_blocked_with_warning").log();return(c=b("React")).jsxs("div",{className:"_50wh",children:[j._("Your Page is no longer able to send messages to this person."),c.jsx(b("Tooltip.react"),{tooltip:j._("A Page may be unable to send messages to someone if they are no longer on Facebook, if they pose a security risk, or if they have chosen not to receive messages."),children:c.jsx("a",{href:"https://www.facebook.com/help/307375982614147",children:c.jsx(b("Image.react"),{src:g("126341"),style:{verticalAlign:"-2px"}})})})]})}return b("React").jsxs("div",{className:"__1d","data-testid":"inbox_composer",children:[b("React").jsx(b("MercuryDragDropPrompt.react"),{}),b("React").jsxs("div",{className:"_4dw9",children:[this.$13(),this.$11(),b("React").jsxs("div",{className:"_3-8o _4dwa",children:[b("React").jsx(l,{classProps:this.props}),this.$23(),this.$8(),this.$21(),this.$14(),this.$22(),this.getSendAvailabilityButton(),b("React").jsx("span",{ref:function(b){a.$2=b},children:this.$10()}),this.$20(),b("React").jsx(b("PagesManagerInboxReturnToSendNUX.react"),{contextRef:this.getContextRef})]})]}),b("React").jsxs("div",{className:"_6fl",children:[this.$24(),this.$12()]}),this.$9()]})};return c}(b("React").PureComponent);c.propTypes={attachments:(d=b("prop-types")).array,canAttachFiles:d.bool,canCreateAppointment:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,isQuickReplyMode:d.bool,isSavedRepliesLoading:d.bool,isSendBlocked:d.bool,message:d.string.isRequired,onAttachmentDetach:d.func,onFetchReplies:d.func.isRequired,onFileUploaderSubmit:d.func,onFileUploaderMounted:d.func,onFileUploadFinished:d.func,onFocus:d.func,onInitialRender:d.func,onInputChange:d.func,onSend:d.func,onStickerSelected:d.func,onSuggestedResponseAccept:d.func,onSuggestedResponseDecline:d.func,participant:d.object,recipientID:d.string,savedReplies:d.object,shouldShowBonusTracker:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,suggestedResponseHandler:d.instanceOf(b("PagesMessageSuggestedResponseHandler")),uploaderActionURI:d.string,userID:d.string};c.defaultProps={attachments:[],canAttachFiles:!0,canCreateAppointment:!1,canUseHotLike:!0,canUseSavedReplies:!0,canUseStickers:!0,isSendBlocked:!1,maxLength:null,onAttachmentDetach:a,onFileUploaderMounted:a,onFileUploaderSubmit:a,onFileUploadFinished:a,onInputChange:a,onSend:a,onStickerSelected:a,onSuggestedResponseAccept:a,shouldShowBonusTracker:!1,shouldShowCommerceInvoiceButton:!1,shouldShowCommerceInvoiceButtonNUX:!1,shouldShowCommerceInvoiceButtonPUX:!1,shouldShowInvoiceShippingNUX:!1,shouldShowPaymentOnboarding:!1,shouldShowConfirmPayment:!1,shouldShowRequestPayment:!1,shouldUseKbankOnboarding:!1};function l(a){return!a.classProps.shouldShowProductPickerInComposer||a.classProps.commPlatform!=="MESSENGER"||a.classProps.recipientID==null?null:b("React").jsx("span",{className:"_8ii8",children:b("React").jsx(b("PagesManagerInboxProductPickerButton.react"),{pageID:a.classProps.userID,recipientID:a.classProps.recipientID})})}e.exports=c}),null);
__d("XPagesMessagingBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:!0}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","ActorURI","AsyncRequest","DragDropTarget","FluxContainer","MediaManagerInboxContext.react","MercuryIDs","MercuryLocalIDs","MercuryMessageObject","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","MessengerParticipants.bs","PagesCommsInboxTypedLogger","PagesEventObserver","PagesManagerDisableComposerView.react","PagesManagerInboxComposerStateReasonType","PagesManagerInboxLogger","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerDispatcher","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMarketingAutomationUtils","PagesMessagingConfig","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SubscriptionsHandler","TypingDetectorController","XPagesMessagingBlockController","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){var d=a?a.isShareLinkUploading:!1,e=a?a.isBlocked:!1;return{attachments:b("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),automatedCheckoutID:b("PagesManagerMessagingComposerStore").getAutomatedCheckoutId(),isAttachmentUploading:b("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedReplyResponsesLoading:a?a.isSavedReplyResponsesLoading:!1,isSavedReplyTokensLoading:a?a.isSavedReplyTokensLoading:!1,isQuickReplyMode:b("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:d,message:b("PagesManagerMessagingComposerStore").getMessage(),participant:b("PagesManagerMessagingComposerStore").getParticipant(),savedReplyTokens:b("PagesManagerMessagingComposerStore").getSavedReplyTokens(),savedReplyResponses:b("PagesManagerMessagingComposerStore").getSavedReplyResponses(),matchingShortcut:b("PagesManagerMessagingComposerStore").getMatchingShortcut(),supportMultiAttachments:c.commPlatform!=="WEC",uploaderActionURI:b("PagesManagerMessagingComposerStore").getUploadActionFromUserID(c.commPlatform,c.userID),isBlocked:e,composerStateReason:b("PagesManagerMessagingComposerStore").getComposerStateReason()}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=!1;d.$9=function(a){d.$3&&d.$3.destroy(),d.$3=null,d.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&a&&(d.$3=new(b("TypingDetectorController"))(d.props.thread,b("MercuryIDs").getUserIDFromThreadID(d.props.threadID),a,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,b("MercuryThreadIDMap").getForFBID(d.props.userID).getServerIDFromClientIDNow(d.props.threadID),function(){return d.state.message},d.props.userID))};d.__onSendMessageHandleException=function(a){try{d.__onSendMessage(a)}catch(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_exception").setExceptionMessage(a.message).setStack(a.stack).log()}};b("PagesManagerMessagingComposerDispatcher").explicitlyRegisterStores([b("PagesManagerMessagingComposerStore")]);return d}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader(),this.$4(this.props.userID),this.$5=!0,this.__fetchSavedReplyTokens(),this.__fetchSavedReplies()};d.componentDidUpdate=function(a){this.props.recipientID&&this.props.threadID&&(!a.recipientID||!a.threadID)&&(b("PagesManagerMessagingNUXActions").setComposerReady(),this.props.onInitialRender&&this.props.onInitialRender()),this.props.recipientID!==null&&this.props.recipientID!==a.recipientID&&(this.__fetchSavedReplyTokens(),this.isRecipientBlocked(this.props.recipientID))};d.UNSAFE_componentWillReceiveProps=function(a){this.$6(a),a.threadID!==this.props.threadID&&(b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader()),a.userID!==this.props.userID&&this.$4(a.userID)};d.UNSAFE_componentWillUpdate=function(a,b){this.props.onMessageOrAttachmentUpdate&&(b.attachments.length!==this.state.attachments.length||b.message!==this.state.message)&&this.props.onMessageOrAttachmentUpdate()};d.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release(),this.$3&&this.$3.destroy(),this.$5=!1};d.UNSAFE_componentWillMount=function(){this.$6(this.props),this.__subscriptions=new(b("SubscriptionsHandler"))()};d.$7=function(a){this.__subscriptions.addSubscriptions(a.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};d.$8=function(){__p&&__p();var a=this,c=new(b("PagesMessengerShareLinkUploader"))(b("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,b("emptyFunction"),b("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(c.subscribe("link-detected",function(){if(!a.$5)return;a.setState({isShareLinkUploading:!0});a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}),c.subscribe("share-loaded",function(){if(!a.$5)return;a.setState({isShareLinkUploading:!1})}),c.subscribe("closed",function(){if(!a.$5)return;a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}));b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnURLDropCallback(function(a){return c.loadShare(a)}));b("PagesManagerMessagingComposerActions").setShareLinkUploader(c)};d.__fetchSavedReplyTokens=function(){var a=this;if(this.state.isSavedReplyTokensLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyTokensLoading:!0});b("SavedResponsesUtils").fetchSavedResponseTokens(this.props.userID,this.props.recipientID,null,"MESSENGER",function(c){a.$5&&a.setState({isSavedReplyTokensLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyTokens(c)})};d.__fetchSavedReplies=function(){var a=this;if(this.state.isSavedReplyResponsesLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyResponsesLoading:!0});b("SavedResponsesUtils").fetchSavedResponse(this.props.userID,function(c){a.$5&&a.setState({isSavedReplyResponsesLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyResponses(c)});b("SavedResponsesUtils").fetchCheckoutForSavedResponse(this.props.userID,function(a){b("PagesManagerMessagingComposerActions").setAutomatedCheckoutId(a),b("PagesMarketingAutomationUtils").fetchAndStoreAutomatedCheckoutData(a)})};d.$6=function(a){a=a.userID;a||g(0,3793);this.$2=b("MercuryMessageObject").getForFBID(a)};d.$4=function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);b("MessengerParticipants.bs").get(a,function(a){b("PagesManagerMessagingComposerActions").setParticipant(a)})};d.isSendBlocked=function(){return this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1?!0:!1};d.isRecipientBlocked=function(a){a=b("ActorURI").create(b("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",a).getURI(),this.props.userID);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;if(!this.$5)return;this.setState({isBlocked:a});return}.bind(this)).send()};d.__onAttachmentDetach=function(a){b("PagesManagerMessagingComposerActions").detachAttachment(a)};d.__onFileUploaderMounted=function(a){this.$7(a),b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnFilesDropCallback(this.$10.bind(this))),b("PagesManagerMessagingComposerActions").fileUploaderReady(a)};d.__onFileUploaderOneUploadComplete=function(a,c){b("PagesManagerMessagingComposerActions").completeAttachment(c)};d.__onFileUploaderSubmit=function(a,c){b("PagesManagerMessagingComposerActions").startAttachment(c.files),this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onFileUploadFinished=function(a){a==="all-uploads-completed"&&b("PagesManagerMessagingComposerActions").completeAllAttachments()};d.__onInputValueChange=function(a){b("PagesManagerMessagingComposerActions").setMessage(a.target.value)};d.__onReplySelected=function(a,c){var d=b("PagesManagerMessagingComposerStore").getFileUploader();b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").setMessage(a);c&&d&&d.addCachedAttachments([c]);this.refs.composer&&this.refs.composer.refs.textInput&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onSendMessage=function(a){__p&&__p();var c=this.state.message;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",this.props.userID,this.state.isQuickReplyMode);this.context&&this.context.logSendMessageToTargetUser!==b("emptyFunction")&&this.context.logSendMessageToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.selectedFolder);var d=b("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),e=b("PagesManagerMessagingComposerStore").getAttachedImageIds(),f=b("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),g=b("PagesManagerMessagingComposerStore").getAttachedVideoIds(),h=b("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),i=b("PagesManagerMessagingComposerStore").getAttachedFilesIds(),j=b("PagesManagerMessagingComposerStore").getShareLink(),k=this.$2.constructUserGeneratedMessageObject(c,"source:page_unified_inbox",this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!c&&!d.length&&!h.length&&!e.length&&!i.length&&!f.length&&!g.length&&!j)return;j&&(k.has_attachment=!0,k.shareable_attachment=j);d.length>0&&(k.has_attachment=!0,k.raw_attachments=d);e.length>0&&(k.image_ids=e,k.has_attachment=!0);f.length>0&&(k.gif_ids=f,k.has_attachment=!0);g.length>0&&(k.video_ids=g,k.has_attachment=!0);h.length>0&&(k.audio_ids=h,k.has_attachment=!0);i.length>0&&(k.file_ids=i,k.has_attachment=!0);b("PagesEventObserver").logData_DEPRECATED({page_id:this.props.userID,event_name:"messages_dialog_send",thread_id:this.props.threadElementID},null);k.offline_threading_id=b("MercuryLocalIDs").generateOfflineThreadingID(k.timestamp);this.props.messageActions.send(k);if(k.thread_id&&k.thread_id.split(":")&&k.thread_id.split(":").length===2){c=k.thread_id.split(":")[1];new(b("PagesCommsInboxTypedLogger"))().setFunnel("page_send_to_user").setCustomerID(c).setMessageID(k.offline_threading_id).setEvent("tapped_send").setClientTime(k.timestamp).setMessagingPlatform("messenger").setPageID(this.props.userID).log()}b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").clearMessage();b("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$3&&this.$3.resetState();this.props.onSendMessage&&this.props.onSendMessage();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("messages_send_message_js_end").setPerfTime(Date.now()-a).log()};d.__onStickerSelected=function(a){this.context&&this.context.logSendStickerToTargetUser!==b("emptyFunction")&&this.context.logSendStickerToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,a,this.props.selectedFolder);var c=this.$2.constructUserGeneratedMessageObject("","source:titan:web",this.props.threadID,null,this.props.creatorInfo);c.has_attachment=!0;c.sticker_id=a;this.props.messageActions.send(c);b("PagesManagerMessagingComposerActions").clearMessage()};d.$10=function(a){this.refs.composer&&this.refs.composer.refs.fileUploader&&this.refs.composer.refs.fileUploader.addFiles(a)};d.render=function(){__p&&__p();var a=this;if(this.props.commPlatform==="WEC")if(this.state.composerStateReason!==null)return this.state.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP?b("React").jsx(b("PagesManagerDisableComposerView.react"),{composerStateReason:this.state.composerStateReason}):b("React").jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return a.$8()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$9,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}));else return null;return this.props.commPlatform==="INSTAGRAM_DIRECT"?null:b("React").jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSavedReplyNewUI:this.props.isSavedReplyNewUI,isSendBlocked:this.isSendBlocked(),matchingShortcut:this.state.matchingShortcut,onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return a.$8()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$9,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer",threadID:this.props.threadID}))};return c}(b("React").Component);c.contextType=a;c.propTypes={accessToken:(d=b("prop-types")).string,canAttachFiles:d.bool,canCreateAppointment:d.bool,canSendAvailability:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,creatorInfo:d.object,maxLength:d.number,onInitialRender:d.func,onMessageOrAttachmentUpdate:d.func,shouldShowBonusTracker:d.bool,shouldShowCommerceInvoiceButton:d.bool,shouldShowCommerceInvoiceButtonPUX:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowProductPickerInComposer:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,shouldShowCommerceInvoiceSimplifiedFlow:d.bool,shouldUseSmartComposeTextInput:d.bool,shouldUseKbankOnboarding:d.bool,thread:d.object,threadElementID:d.string,threadID:d.string,userID:d.string};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PageManagerInboxMessageLoadIndicator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c,d=(c=b("React")).jsxs("div",{className:"_1vrr",children:[c.jsx("div",{className:"_31m8"}),c.jsx("div",{className:"_31ma"}),c.jsx("div",{className:"_31mb"}),c.jsx("div",{className:"_31mc"}),c.jsx("div",{className:"_31me"}),c.jsx("div",{className:"_31mf"}),c.jsx("div",{className:"_31mg"}),c.jsx("div",{className:"_31mh"}),c.jsx("div",{className:"_31mi"}),c.jsx("div",{className:"_31mj"}),c.jsx("div",{className:"_31mk"}),c.jsx("div",{className:"_31ml"}),c.jsx("div",{className:"_31mm"}),c.jsx("div",{className:"_31mn"}),c.jsx("div",{className:"_31mo"}),c.jsx("div",{className:"_31mp"}),c.jsx("div",{className:"_31mq"})]}),e=[];for(var f=0;f<a;f++)e.push(b("React").cloneElement(d,{key:"loading"+f}));return c.jsx("div",{className:"_1vrs",children:e})};d.render=function(){var a=Math.floor(this.props.height/130);return b("React").jsx("div",{className:"_31m6",style:{height:this.props.height},children:b("React").jsx("div",{className:"_31m7",style:{height:130*a},children:this.$1(a)})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","CenteredContainer.react","MessengerDateBreak.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("CenteredContainer.react"),{vertical:!1,children:b("React").jsx(b("MessengerDateBreak.react"),{className:"_1wpi",date:this.props.date})})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("MessengerMessageGroup.react"),babelHelpers["extends"]({},this.props))};return c}(b("React").Component);e.exports=a}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/block/",{page_id:{type:"String",required:!0},type:{type:"String",required:!0}})}),null);
__d("XMNCommercePromotionStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/state/",{page_id:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutReportMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/mutation/",{ad_id:{type:"String",required:!0},ad_client_token:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutSubmitPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/submit/",{ad_token:{type:"String",required:!0},selected_option_type:{type:"String",required:!0},event_type:{type:"String",required:!0}})}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("ClientIDs").getNewClientID,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql");a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.logCustomAppEvent=function(a,c,d){var e=this;c===void 0&&(c=null);d===void 0&&(d=null);var f=d?JSON.stringify(d):null;return new(b("Promise"))(function(d,g){i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:b("RelayAPIConfig").actorID,event_name:a,game_id:e.$1,client_mutation_id:h(),value_to_sum:c,params:f}},onCompleted:d,onError:g})})};return a}();e.exports=a}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("MessengerWaveEntrypoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DIVEBAR:"divebar",THREAD_VIEW:"thread_view",NEW_FRIEND_BUMP:"new_friend_bump",GROUP_NULL_STATE:"group_null_state",CANONICAL_NULL_STATE:"canonical_null_state",PROFILE:"profile"})}),null);
__d("XEventReminderRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/rsvp/",{acontext:{type:"String",required:!0},event_reminder_id:{type:"Int",required:!0},guest_state:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MessengerConversionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_CHANGE_CURRENCY:"page_click_change_currency",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_SEND_CONFIRM_RECEIPT:"page_send_confirm_receipt",PAGE_SEND_CONFIRM_TRANSACTION:"page_send_confirm_transaction",PAGE_CLICK_CONFIRM_RECEIPT:"page_click_confirm_receipt",PAGE_CLICK_CONFIRM_TRANSACTION:"page_click_confirm_transaction",PAGE_SHOW_CONFIRM_RECEIPT:"page_show_confirm_receipt",PAGE_SHOW_CONFIRM_TRANSACTION:"page_show_confirm_transaction",PAGE_CLICK_MARK_AS_PAID_NUX:"page_click_mark_as_paid_nux",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_INSIGHTS_VIEW_ORDER_SECTION:"page_insights_view_order_section",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day",PAGE_START_TAG_PRODUCTS:"page_start_tag_products",PAGE_COMPLETE_TAG_PRODUCTS:"page_complete_tag_products",DEEP_CONVERSATION:"deep_conversation",AUTOMATED_FLOW_COMPLETE:"automated_flow_complete",AUTOMATED_FLOW_CANCELLED:"automated_flow_cancelled",NOTIFICATION_MESSAGE_READ:"notification_message_read",NOTIFICATION_MESSAGE_CLICKED:"notfication_message_clicked",PAGE_MARK_AS_PAID_CHANGE_AMOUNT:"page_mark_as_paid_change_amount",PAGE_MARK_AS_PAID_CHNAGE_NOTE:"page_mark_as_paid_change_note",CONVERSION_QUICK_PROMOTION_IMPRESSION:"ads_conversions_qp_impression",CONVERSION_QUICK_PROMOTION_CLICK:"ads_conversions_quick_promotion_click",CONVERSION_QUICK_PROMOTION_TRIGGERED:"ads_conversions_quick_promotion_triggered",BUYER_INFORMATION_SETUP_IMPRESSION:"buyer_information_setup_impression",BUYER_INFORMATION_SETUP_CREATION:"buyer_information_setup_creation",BUYER_INFORMATION_TRIGGER_IMPRESSION:"buyer_information_trigger_impression",BUYER_INFORMATION_TRIGGER_CLICK:"buyer_information_trigger_click",BUYER_INFORMATION_SEQUENCE_FINISH:"buyer_information_sequence_finish",BUYER_INFORMATION_NUX_IMPRESSION:"buyer_information_nux_impression",BUYER_INFORMATION_NUX_CLICK:"buyer_information_nux_click",INBOX_ACTIVITY_MUTATION_FAILURE:"inbox_activity_mutation_failure",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITHOUT_DETAILS:"page_ad_interaction_payment_received_without_details",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS:"page_ad_interaction_payment_received_with_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITHOUT_DETAILS:"page_ad_interaction_appointment_booked_without_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS:"page_ad_interaction_appointment_booked_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITHOUT_DETAILS:"page_ad_interaction_order_placed_without_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS:"page_ad_interaction_order_placed_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR:"page_ad_interaction_order_placed_with_details_error",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITHOUT_DETAILS:"page_ad_interaction_order_shipped_without_details",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS:"page_ad_interaction_order_shipped_with_details",PAGE_CLICK_ADD_ACTIVITY:"page_click_add_activity",PAGE_CLICK_ADD_ACTIVITY_NUX:"page_click_add_activity_nux",PAGE_CLICK_APPOINTMENT_BOOKED_CTA:"page_click_appointment_booked_cta",PAGE_CLICK_PAYMENT_RECEIVED_CTA:"page_click_payment_received_cta",ORDER_DETAILS_CREATE_ORDER:"order_details_create_order",ORDER_DETAILS_CREATE_PRODUCT:"order_details_create_product",ORDER_DETAILS_SELECT_PRODUCT:"order_details_select_product",ORDER_DETAILS_DISCOUNT:"order_details_discount",ORDER_DETAILS_SHIPPING_COST:"order_details_shipping_cost",APPOINTMENT_OPT_OUT_MESSAGE_SENT:"appointment_opt_out_message_sent",PAGE_ADMIN_OPTED_OUT_REQUEST_APPOINTMENT:"page_admin_opted_out_request_appointment"})}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.detectionType==="tracking_number"?"xmat_tracking_number":"xmat";b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment",a);new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_CLICK_CONFIRM_RECEIPT).setPageID(d.props.pageID).setConsumerID(d.props.userID).setClassifier(d.props.detectionType).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.isPageMessage&&new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_SHOW_CONFIRM_RECEIPT).setPageID(this.props.pageID).setConsumerID(this.props.userID).setClassifier(this.props.detectionType).log()};d.render=function(){if(!this.props.isPageMessage)return null;var a=this.props.detectionType==="tracking_number"?g._("Mark as Paid"):g._("Confirm receipt");return b("React").jsxs("div",{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.$1,children:a})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2016667251691695"};b.getQueryID=function(){return"391244851334288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","CurrentUser","Link.react","React","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showError:!1},d.showDialog=function(){d.setState({showDialog:!0})},d.onHide=function(){d.setState({showDialog:!1}),d.setState({showError:!1})},d.onConfirm=function(){d.setState({showDialog:!1});var a=new(b("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:d.props.pageID,client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),user_id:d.props.userID}});b("promiseDone")(b("WebGraphQL").exec(a),function(a){a=((a=a)!=null?(a=a.messenger_appointment_opt_out)!=null?(a=a.messenger_appointment_opt_out)!=null?a.has_opted_out:a:a:a)||!1;a||(d.setState({showDialog:!0}),d.setState({showError:!0}))},function(a){d.setState({showDialog:!0}),d.setState({showError:!0})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=g._("Opt Out");return b("React").jsxs("div",{children:[this.props.message," ",b("React").jsx(b("Link.react"),{onClick:this.showDialog,children:g._("you can opt out now.")}),this.state.showError?this.renderError():b("React").jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:g._("Are you sure?")}),b("React").jsx(b("XUIDialogBody.react"),{children:g._("You will no longer receive appointment request messages.")}),b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIDialogButton.react"),{action:"confirm",label:a,onClick:this.onConfirm})})]})]})};d.renderError=function(){return b("React").jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:g._("Error")}),b("React").jsx(b("XUIDialogBody.react"),{children:g._("Something went wrong. Please try again later.")})]})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.isPageMessage,d=a.message,e=a.productName,f=a.startTime,h=a.timestamp;a=a.userName;if(!f)return d;d=b("formatDate")(f,"g:i A");if(c)if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("{user-name} has an appointment {product-name} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("{user-name} has an appointment tomorrow at {start-time}",[g._param("user-name",a),g._param("start-time",d)]);else return g._("{user-name} has an appointment {product-name} on {start-date} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)]);if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("You have an appointment at {start-time}",[g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("You have an appointment tomorrow at {start-time}",[g._param("start-time",d)]);else return g._("You have an appointment on {start-date} at {start-time}",[g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)])};e.exports=a}),null);
__d("ServicesBookableServicesSurveyActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS:null,BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA:null,BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD:null,BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS:null,BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_RESET:null,BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES:null,BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY:null,BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR:null,BOOKABLE_SERVICES_SURVEY_SET_RADIUS:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_STEP:null});e.exports=a}),null);
__d("BookableServicesCustomServiceItem",["immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({label:"",key:"",selected:!1}));e.exports=a}),null);
__d("BookableServicesServiceAreaRadiusValues",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,3,5,10,20,30,50,100];e.exports=a}),null);
__d("ServicesBookableServicesSurveySteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONFIRMATION:null,CUSTOM_SERVICE_ITEM:null,GET_STARTED:null,MAKE_SELECTION:null,SERVICES_AREA:null,SERVICES_SELECTION:null});e.exports=a}),null);
__d("ServicesBookableServicesSurveyStore",["BookableServicesCustomServiceItem","BookableServicesServiceAreaRadiusValues","FluxReduceStore","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveySteps","ServicesCTAUnificationDispatcher","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,z=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,A=a.BOOKABLE_SERVICES_SURVEY_SET_STEP;c=10;var B=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}((d=b("immutable")).Record({address:"",autoMakeSearchQuery:null,canVisitMyBusiness:!1,customServices:d.List(),customServiceItem:"",hasServiceArea:!1,mutationSuccess:!0,noPermissions:!1,pageID:"",category:null,predefinedBookableTasks:d.List(),predefinedAutoMake:d.List(),radius:c,referrer:"",selectedServices:d.Set(),selectedAutoMake:d.Set(),serviceAreaCenter:null,serviceAreaCenterCoordinates:null,serviceAreaCenterID:"",sessionID:"",shouldShowCustomServicesEntry:!0,shouldShowAutoMakeQuestion:!1,showLoadingIndicator:!1,step:b("ServicesBookableServicesSurveySteps").GET_STARTED,surveyStatus:0}));f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new B()};d.reduce=function(a,c){__p&&__p();switch(c.type){case m:c.payload.radius&&b("BookableServicesServiceAreaRadiusValues").includes(c.payload.radius)&&(a=a.set("radius",c.payload.radius));return a.set("address",c.payload.address).set("canVisitMyBusiness",c.payload.customersCanVisitBusiness).set("customServices",b("immutable").List(c.payload.manualBookableTasks.map(function(a){return new(b("BookableServicesCustomServiceItem"))({label:a,key:b("uuid")(),selected:!0})}))).set("hasServiceArea",!!c.payload.serviceAreaCenter).set("pageID",c.payload.pageID).set("category",c.payload.category).set("predefinedBookableTasks",c.payload.predefinedBookableTasks).set("predefinedAutoMake",c.payload.predefinedAutoMake).set("referrer",c.payload.referrer).set("serviceAreaCenter",c.payload.serviceAreaCenter).set("serviceAreaCenterCoordinates",c.payload.serviceAreaCenterCoordinates).set("serviceAreaCenterID",c.payload.serviceAreaCenterID).set("selectedServices",c.payload.surveyStatus===0?b("immutable").Set():b("immutable").Set(c.payload.selectedBookableTasks.filter(function(a){return a!=null&&a.task!=null}).map(function(a){return a.task}))).set("selectedAutoMake",c.payload.selectedAutoMake).set("sessionID",c.payload.sessionID).set("shouldShowCustomServicesEntry",c.payload.shouldShowCustomServicesEntry).set("shouldShowAutoMakeQuestion",c.payload.shouldShowAutoMakeQuestion).set("surveyStatus",c.payload.surveyStatus);case n:return a.set("noPermissions",!0);case r:return a.set("selectedServices",b("immutable").Set()).set("customServices",a.customServices.map(function(a){return a.set("selected",!1)}));case s:var d=c.payload,e=d.serviceAreaCenter,f=d.serviceAreaCenterCoordinates;d=d.serviceAreaCenterID;return a.set("serviceAreaCenter",e).set("serviceAreaCenterCoordinates",f).set("serviceAreaCenterID",d);case o:return a.set("serviceAreaCenter",null).set("serviceAreaCenterCoordinates",null).set("serviceAreaCenterID","");case v:e=c.payload.radius;return a.set("radius",e);case A:c.payload.mutationSuccess!=null&&(a=a.set("mutationSuccess",c.payload.mutationSuccess));f=c.payload.step;return a.set("step",f);case y:d=c.payload.selectedMake;return a.set("selectedAutoMake",a.selectedAutoMake.has(d)?a.selectedAutoMake["delete"](d):a.selectedAutoMake.add(d));case z:e=c.payload.selectedService;return a.set("selectedServices",a.selectedServices.has(e)?a.selectedServices["delete"](e):a.selectedServices.add(e));case x:var B=c.payload.selectedCustomService;f=a.customServices.findIndex(function(a){return a.key===B});d=f>=0?a.customServices.get(f):null;return d?a.set("customServices",a.customServices.set(f,d.set("selected",!d.selected))):a;case g:return a.set("canVisitMyBusiness",!a.canVisitMyBusiness);case h:return a.set("hasServiceArea",!a.hasServiceArea);case l:return a.set("selectedAutoMake",b("immutable").Set([]));case q:return a.set("selectedAutoMake",b("immutable").Set(a.predefinedAutoMake.map(function(a){return a.id})));case w:e=c.payload.selectedArea;var C=e.getUniqueID();f=a.selectedAreas.find(function(a){return a.getUniqueID()===C});d=a.set("selectedAreas",f?a.selectedAreas["delete"](f):a.selectedAreas.add(e));return d;case k:f=c.payload.text;return a.set("customServiceItem",f);case i:return a.set("customServiceItem","");case j:return a.set("customServices",a.customServices.push(new(b("BookableServicesCustomServiceItem"))({label:a.customServiceItem,key:b("uuid")(),selected:!0})));case u:return a.set("showLoadingIndicator",!a.showLoadingIndicator);case t:return a.set("autoMakeSearchQuery",c.payload.query);case p:return this.getInitialState();default:return a}};d.getPageID=function(){return this.getState().pageID};d.getCategory=function(){return this.getState().category};d.getReferrer=function(){return this.getState().referrer};d.getSessionID=function(){return this.getState().sessionID};d.getStep=function(){return this.getState().step};d.getSelectedAutoMake=function(){return this.getState().selectedAutoMake};d.shouldShowAutoMakeQuestion=function(){return this.getState().shouldShowAutoMakeQuestion};d.hasAnyServicesSelected=function(){var a=this.getState(),b=a.customServices;a=a.selectedServices;if(a.size>0)return!0;a=b.find(function(a){return a.selected});return!!a};d.hasServiceAreaDefined=function(){var a=this.getState(),b=a.canVisitMyBusiness,c=a.serviceAreaCenter;a=a.hasServiceArea;return!a&&!b||a&&!c?!1:!0};d.isCustomServiceValid=function(){return this.getState().customServiceItem.trim().length>0};d.getAutoMakeList=function(){__p&&__p();var a=this.getState(),c=a.autoMakeSearchQuery;a=a.predefinedAutoMake;if(c==null||c.length===0)return a;var d=[];a.forEach(function(a){__p&&__p();if(a.consumer_name==null)return;var b=a.consumer_name.split(/[ -]/);for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;if(g.toLowerCase().startsWith(c.toLowerCase())){d.push(a);return}}});return b("immutable").List(d)};d.getProgressBarPercentage=function(){__p&&__p();var a=0;switch(this.getState().step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=33;break;case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=67;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=0;break;case b("ServicesBookableServicesSurveySteps").CONFIRMATION:a=100;break;case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:a=0}return a};d.hasSelectedAllMakes=function(){var a=this.getState();return a.predefinedAutoMake.every(function(b){return a.selectedAutoMake.has(b.id)})};return c}(b("FluxReduceStore"));f.__moduleID=e.id;e.exports=new f(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesBookableServicesSurveyLogger",["ServicesBookableServicesSurveyStore","ServicesLeadGenBookableTasksSurveyTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){var c;new(b("ServicesLeadGenBookableTasksSurveyTypedLogger"))().setCurrentView((c=b("ServicesBookableServicesSurveyStore")).getStep().toString()).setEvent(a).setPageID(c.getPageID()).setServicesCategory(c.getCategory()).setReferrer(c.getReferrer()).setSessionID(c.getSessionID()).log()}};e.exports=a}),null);
__d("ServicesBookableServicesSurveyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SUBMITTED:0,SUBMITTED:1})}),null);
__d("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1903587599704424"};b.getQueryID=function(){return"276587612933392"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1706923136039787"};b.getQueryID=function(){return"224836864728650"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesBookableServicesSurveyActions",["CurrentUser","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","ServicesLeadGenSurveyDialogQueryWebGraphQLQuery","ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation","WebGraphQL","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,z=a.BOOKABLE_SERVICES_SURVEY_SET_STEP,A={initialLoad:function(a,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t){b("ServicesCTAUnificationDispatcher").dispatch({type:m,payload:{address:a,customersCanVisitBusiness:c,manualBookableTasks:d,pageID:e,category:f,predefinedBookableTasks:g,predefinedAutoMake:h,radius:i,referrer:j,selectedBookableTasks:k,selectedAutoMake:l,serviceAreaCenter:n,serviceAreaCenterCoordinates:o,serviceAreaCenterID:p,sessionID:q,shouldShowCustomServicesEntry:r,shouldShowAutoMakeQuestion:s,surveyStatus:t}})},loadDataAndInitialize:function(a,c,d,e){__p&&__p();b("ServicesCTAUnificationDispatcher").dispatch({type:u}),b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery"))({page_id:a})),function(f){__p&&__p();var g,h,i,j,k,l,m,o,p,q,r;r=(r=f)!=null?(r=r.page)!=null?(r=r.services_vertical_info)!=null?r.service_category:r:r:r;q=((q=f)!=null?(q=q.page)!=null?q.viewer_profile_permissions:q:q)||[];if(!q.includes("EDIT_PROFILE")){b("ServicesCTAUnificationDispatcher").dispatch({type:n});b("ServicesCTAUnificationDispatcher").dispatch({type:u});return}q=((q=f)!=null?(q=q.page)!=null?(q=q.address)!=null?q.single_line_full_address:q:q:q)||"";p=(p=f)!=null?(p=p.page)!=null?(p=p.business_details)!=null?p.bookable_services_survey_status:p:p:p;p=p?b("ServicesBookableServicesSurveyStatus")[p]:0;o=((o=f)!=null?(o=o.page)!=null?(o=o.business_details)!=null?o.customers_can_visit_business:o:o:o)||!1;m=(m=f)!=null?(m=m.page)!=null?(m=m.services_vertical_info)!=null?m.predefined_bookable_tasks:m:m:m;var s=function(a){var b;return{category:(b=a)!=null?b.category:b,consumer_name:(b=a)!=null?b.consumer_name:b,task:(b=a)!=null?b.task:b}};m=m?m.map(s):[];l=(l=f)!=null?(l=l.page)!=null?(l=l.services_vertical_info)!=null?l.predefined_auto_make:l:l:l;l=l?l.map(function(a){var b;return{id:(b=a)!=null?b.id:b,consumer_name:(b=a)!=null?b.make_display_name:b}}):[];k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?(k=k.bookable_tasks)!=null?k.nodes:k:k:k:k)||[];var t=[],v=[];k.forEach(function(a){var b;b=((b=a)!=null?b.info:b)||{};b.task==="OTHER"&&a.manual_name!=null?t.push(a.manual_name):v.push(s(b))});var w=[];k=(k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.auto_make:k:k:k;k&&k.forEach(function(a){a.id&&w.push(a.id)});k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.service_area_radius:k:k:k)||0;j=(j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?(j=j.service_area_center)!=null?j.name:j:j:j:j;i=(i=f)!=null?(i=i.page)!=null?(i=i.business_details)!=null?(i=i.service_area_center)!=null?i.id:i:i:i:i;j=j&&i?new(b("SearchableEntry"))({uniqueID:i,title:j}):null;h=(h=f)!=null?(h=h.page)!=null?(h=h.business_details)!=null?(h=h.service_area_center)!=null?h.page_map_location:h:h:h:h;g=(g=f)!=null?(g=g.page)!=null?(g=g.services_vertical_info)!=null?g.should_show_survey_custom_services_entry:g:g:g;f=(f=f)!=null?(f=f.page)!=null?(f=f.services_vertical_info)!=null?f.should_ask_supported_automobile_makes:f:f:f;A.initialLoad(q,o,b("immutable").List(t),a,r,b("immutable").List(m),b("immutable").List(l),k,c,b("immutable").List(v),b("immutable").Set(w),j,h,i||"",d,g!=null?g:!1,f!=null?f:!1,p);b("ServicesCTAUnificationDispatcher").dispatch({type:u});e()})},nextStep:function(){__p&&__p();b("ServicesBookableServicesSurveyLogger").log("next_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},previousStep:function(){b("ServicesBookableServicesSurveyLogger").log("previous_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},startCustomServiceItem:function(){var a=b("ServicesBookableServicesSurveySteps").CUSTOM_SERVICE_ITEM;b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},selectService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:y,payload:{selectedService:a}})},selectCustomService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:w,payload:{selectedCustomService:a}})},selectMake:function(a){b("ServicesBookableServicesSurveyStore").getSelectedAutoMake().contains(a)?b("ServicesBookableServicesSurveyLogger").log("deselect_make"):b("ServicesBookableServicesSurveyLogger").log("select_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:x,payload:{selectedMake:a}}),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:""}})},checkCanVisitMyBusiness:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_can_visit_business"),b("ServicesCTAUnificationDispatcher").dispatch({type:g})},checkHasServiceArea:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_has_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:h})},removeServiceAreaCenter:function(){b("ServicesBookableServicesSurveyLogger").log("remove_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:o})},selectServiceAreaCenter:function(a,c,d){b("ServicesBookableServicesSurveyLogger").log("select_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{serviceAreaCenter:a,serviceAreaCenterCoordinates:c,serviceAreaCenterID:d||""}})},selectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("select_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:q})},deselectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("deselect_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:l})},customServiceItemChange:function(a){a=a.target.value;b("ServicesCTAUnificationDispatcher").dispatch({type:k,payload:{text:a}})},clearCustomServiceItem:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},createCustomServiceItem:function(){b("ServicesBookableServicesSurveyLogger").log("add_manual_service");var a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;b("ServicesCTAUnificationDispatcher").dispatch({type:j});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},resetSurvey:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:p})},selectNoneOfTheAboveServices:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:r}),A.submitSurvey(b("CurrentUser").getID())},setRadius:function(a){b("ServicesBookableServicesSurveyLogger").log("select_radius"),b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{radius:a}})},setAutoMakeSearchQuery:function(a){b("ServicesBookableServicesSurveyLogger").log("search_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:a}})},submitSurvey:function(a){__p&&__p();var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.canVisitMyBusiness,e=c.customServices,f=c.hasServiceArea,g=c.pageID,h=c.radius,i=c.referrer,j=c.selectedServices,k=c.selectedAutoMake,l=c.serviceAreaCenterID;c=c.sessionID;b("ServicesBookableServicesSurveyLogger").log("submit");b("ServicesCTAUnificationDispatcher").dispatch({type:u});var m=[];for(var j=j.toArray(),n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;p!=="%future added value"&&m.push(p)}b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation"))({input:{client_mutation_id:"0",actor_id:a,session_id:c,page_id:g,referrer:i,selected_bookable_tasks:m,other_bookable_tasks:e.toArray().filter(function(a){return a.selected}).map(function(a){return a.label}),kbb_makes:k.toArray(),customers_can_visit_business:d,service_area_center_id:f&&l?l:null,service_area_radius:f&&l?h:null}})),function(a){a=((a=a)!=null?(a=a.services_page_business_details_edit)!=null?a.success:a:a)||!1;var c=b("ServicesBookableServicesSurveySteps").CONFIRMATION;b("ServicesCTAUnificationDispatcher").dispatch({type:u});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:c,mutationSuccess:a}})})}};e.exports=A}),null);
__d("BookableServicesSurveyGetStartedView.react",["cx","fbt","ix","FDSText.react","Image.react","React","ServicesBookableServicesSurveyActions","XUIButton.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_2piq _2owm _52jv",children:[a.jsx(b("Image.react"),{src:i("649009")}),a.jsx(b("FDSText.react"),{display:"block",margin:"_4aws",size:"header3",textAlign:"center",weight:"bold",children:h._("Connect to the right customers near you.")}),a.jsx(b("FDSText.react"),{display:"block",margin:"_6bu9 _3-8y",size:"body1",textAlign:"center",children:h._("Answer a few simple questions about your business so people who need your services can find you.")}),a.jsx(b("XUIButton.react"),{className:"_4aws",label:h._("Get Started"),onClick:b("ServicesBookableServicesSurveyActions").nextStep,size:"xlarge",use:"confirm"}),a.jsxs("div",{className:"_3-8x _6pu2",children:[a.jsx(b("Image.react"),{className:"_3-8_",src:i("501429")}),a.jsx(b("FDSText.react"),{color:"secondary",size:"body2",textAlign:"center",children:h._("The information you provide won't be shown on your Page.")})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("BookableServicesSurveyMakeSelectionContainer.react",["ix","cx","fbt","FDSLink.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUICheckboxInput.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){a=b("ServicesBookableServicesSurveyStore").getState();return{predefinedAutoMake:b("ServicesBookableServicesSurveyStore").getAutoMakeList(),autoMakeSearchQuery:a.autoMakeSearchQuery,selectedAutoMake:a.selectedAutoMake}};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(null)};d.setAutoMakeSearchQuery=function(a){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(a.target.value)};d.toggleSelectAllMake=function(){b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?b("ServicesBookableServicesSurveyActions").deselectAllMake():b("ServicesBookableServicesSurveyActions").selectAllMake()};d.render=function(){var a=this,c;return(c=b("React")).jsxs("div",{children:[c.jsx(b("FDSText.react"),{display:"block",margin:"_3-8y",size:"header2",children:i._("What makes do you service?")}),c.jsx(b("XUITextInput.react"),{className:"_2-ox _6nvx",height:"tall",onChange:this.setAutoMakeSearchQuery,placeholder:i._("Search for make"),rightChild:c.jsx(b("Image.react"),{className:"_6nvy",src:g("530630")}),value:this.state.autoMakeSearchQuery}),!this.state.autoMakeSearchQuery&&b("React").jsx("div",{className:"_3-96 _52jw",children:b("React").jsx(b("FDSLink.react"),{onClick:this.toggleSelectAllMake,children:b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?i._("Select None"):i._("Select All")})}),b("React").jsx("div",{className:"_20nr _2pll",maxHeight:500,children:this.state.predefinedAutoMake.map(function(c,d){return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:a.state.selectedAutoMake.has(c.id),className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},readOnly:!0}),b("React").jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)})})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveySelectionContainer.react",["ix","cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUIButton.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.editOtherService=function(){d.setState({isEditingOther:!0})},d.saveOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").createCustomServiceItem(),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},d.stopEditingOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState();return!a?{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),isEditingOther:!1,isHovered:!1,predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry}:babelHelpers["extends"]({},a,{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry})};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()};d.render=function(){__p&&__p();var a=this,c=this.state.predefinedBookableTasks.map(function(c,d){if(!c.task)return null;var e=a.state.selectedServices.has(c.task);return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},children:[b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},value:e}),b("React").jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)}),d=this.state.customServices.map(function(a,c){return b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},children:[b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},value:a.selected}),b("React").jsx(b("FDSText.react"),{size:"body2",children:a.label})]},c)}),e=this.state.isEditingOther?b("React").jsxs("div",{className:"_2pi3 _2o1n _2plg",children:[b("React").jsx(b("XUITextInput.react"),{className:"_2plj",height:"tall",onChange:b("ServicesBookableServicesSurveyActions").customServiceItemChange,placeholder:"Describe your service",value:this.state.customServiceItem}),b("React").jsxs("div",{className:"_3-8y _2plk",children:[b("React").jsx(b("XUIButton.react"),{disabled:!this.state.isCustomServiceValid,label:i._("Add"),size:"large",onClick:this.saveOtherService,use:"confirm"}),b("React").jsx(b("XUIButton.react"),{className:"_3-91",label:i._("Cancel"),onClick:this.stopEditingOtherService})]})]}):b("React").jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:this.editOtherService,children:[b("React").jsx(b("Image.react"),{className:"_6pu1",src:g("489390")}),b("React").jsx(b("FDSText.react"),{color:"highlight",size:"body2",children:i._("Add Service")})]});return b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),{margin:"_20nr _3-8y",size:"header2",children:i._("Which services do you provide?")}),b("React").jsxs("div",{className:"_20nr _2pll",fade:!0,maxHeight:500,children:[c,d,this.state.shouldShowCustomServicesEntry&&e]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyCheckboxQuestion.react",["cx","React","ShimButton.react","XUICheckboxInput.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_2o1k"+(this.props.hideBorder!==!0?" _2ctu":""),children:[b("React").jsxs(b("ShimButton.react"),{className:"_2ctv",onClick:this.props.onClick,children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:this.props.isChecked,className:"_3-91",onClick:this.props.onClick,readOnly:!0}),b("React").jsx(b("XUIText.react"),{display:"inline",size:"body1",children:this.props.title})]}),this.props.children]})};return c}(b("React").Component);e.exports=a}),null);
__d("BookableServicesSurveyServiceAreaContainer.react",["cx","fbt","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadSearchSourceConfig","BookableServicesServiceAreaRadiusValues","BookableServicesSurveyCheckboxQuestion.react","DistanceConstants","FBTilesMap__DEPRECATED.react","FluxContainer","GeoCoordinates","LeafletCircle.react","LeafletView","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","XUISingleSelector.react","XUIText.react","XUITokenizer.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("DistanceConstants").METERS_PER_MILE,j=b("XUISingleSelector.react").Option,k=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(38.82255,-97.64649),zoom:3});a=3;var l=new(b("AddressTypeaheadGraphQLSearchSource"))(new(b("AddressTypeaheadSearchSourceConfig"))(null,null,"facebook","street_place_typeahead","string_match","interleave",a,"services_lead_gen_survey",["USA"],["postal_code"]));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onSelectEntryAttempt=function(a){var c=a.getAuxiliaryData();c&&c.latitude&&d.setState({view:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(c.latitude,c.longitude),zoom:9})});b("ServicesBookableServicesSurveyActions").selectServiceAreaCenter(a,c,c.locationID)},d.onViewChange=function(a){d.setState({view:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.serviceAreaCenterCoordinates&&c.serviceAreaCenterCoordinates.latitude?new(b("GeoCoordinates"))(c.serviceAreaCenterCoordinates.latitude,c.serviceAreaCenterCoordinates.longitude):null;return!a?{address:c.address,canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d,view:d?new(b("LeafletView"))({center:d,zoom:9}):k}:babelHelpers["extends"]({},a,{canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d})};var d=c.prototype;d.onRemoveEntryAttempt=function(a){b("ServicesBookableServicesSurveyActions").removeServiceAreaCenter()};d.onSelectRadius=function(a){b("ServicesBookableServicesSurveyActions").setRadius(a.value)};d.renderMap=function(){return this.state.view==null?null:b("React").jsx(b("FBTilesMap__DEPRECATED.react"),{className:"_3zv_",onViewChange:this.onViewChange,setZoomPosition:{vertical:"top",horizontal:"left"},showZoomControls:!0,surface:"lead_gen",view:this.state.view,children:this.state.serviceAreaCenterCoordinates?b("React").jsx(b("LeafletCircle.react"),{center:this.state.serviceAreaCenterCoordinates,radius:this.state.radius*i}):null})};d.renderSelectorOptions=function(){return b("BookableServicesServiceAreaRadiusValues").map(function(a){return b("React").jsx(j,{value:a,children:b("React").jsx("span",{children:h._({"*":"Within {number} miles","_1":"Within 1 mile"},[h._plural(a,"number")])})},a)})};d.render=function(){return b("React").jsxs("div",{children:[this.renderMap(),b("React").jsxs("div",{className:"_2pib _2pie",children:[this.state.address?b("React").jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.canVisitMyBusiness,onClick:b("ServicesBookableServicesSurveyActions").checkCanVisitMyBusiness,title:h._("Customers can visit this business"),children:b("React").jsx(b("XUIText.react"),{className:"_3-8y _spx",color:"secondary",display:"block",size:"body3",children:this.state.address})}):null,b("React").jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{hideBorder:!0,isChecked:this.state.hasServiceArea,onClick:b("ServicesBookableServicesSurveyActions").checkHasServiceArea,title:h._("This business provides services in a surrounding area"),children:this.state.hasServiceArea?b("React").jsxs("div",{className:"_3-8y _spy",children:[b("React").jsx(b("XUIText.react"),{size:"body3",weight:"bold",children:h._("ZIP code")}),b("React").jsx(b("XUITokenizer.react"),{className:"_3-9b",entries:this.state.serviceAreaCenter,entriesWidthMatchContext:!0,extraTypeaheadProps:{maxLength:5},limit:1,onAddEntryAttempt:this.onSelectEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,placeholder:h._("e.g. 12345"),searchSource:l,selectOnBlur:!0}),b("React").jsx(b("XUISingleSelector.react"),{className:"_3-9b",onChange:this.onSelectRadius,value:this.state.radius,size:"large",children:this.renderSelectorOptions()})]}):null})]})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(c)}),null);
__d("BookableServicesSurveyDialogContentContainer.react",["ix","cx","fbt","BookableServicesSurveyGetStartedView.react","BookableServicesSurveyMakeSelectionContainer.react","BookableServicesSurveySelectionContainer.react","BookableServicesSurveyServiceAreaContainer.react","BUIProgressBar.react","CurrentUser","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","asset","cxMargin","immutable","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.showOptOutDialog=function(){c.setState({isOptOutDialogShown:!0})},c.hideOptOutDialog=function(){c.setState({isOptOutDialogShown:!1})},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=b("ServicesBookableServicesSurveyStore").hasAnyServicesSelected(),e=b("ServicesBookableServicesSurveyStore").hasServiceAreaDefined();return{hasAnyServicesSelected:d,hasServiceAreaDefined:e,isOptOutDialogShown:a?a.isOptOutDialogShown:!1,mutationSuccess:c.mutationSuccess,noPermissions:c.noPermissions,progressBarPercentage:b("ServicesBookableServicesSurveyStore").getProgressBarPercentage(),selectedAutoMake:c.selectedAutoMake,showLoadingIndicator:c.showLoadingIndicator,step:c.step}};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesBookableServicesSurveyActions").loadDataAndInitialize(this.props.pageID,this.props.referrer,b("uuid")(),function(){b("ServicesBookableServicesSurveyLogger").log("www_survey_impression")})};d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyLogger").log("dismiss"),b("ServicesBookableServicesSurveyActions").resetSurvey()};d.renderBody=function(){__p&&__p();if(this.state.showLoadingIndicator)return b("React").jsx(b("XUIDialogBody.react"),{className:"_52jv",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})});else if(this.state.noPermissions)return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("You don't have permission to edit this page.")})});switch(this.state.step){case b("ServicesBookableServicesSurveySteps").CONFIRMATION:return!this.state.mutationSuccess?b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("We're sorry, there were problems with saving your survey. Please try again later.")})}):b("React").jsxs(b("XUIDialogBody.react"),{className:"_52jv _6qyw",children:[b("React").jsx("div",{className:"_6i-n",children:b("React").jsx("div",{className:"_3-96 _2pi0 _6hoq",children:b("React").jsx(b("Image.react"),{src:g("505220")})})}),b("React").jsx(b("FDSText.react"),{size:"body1",children:i._("Thanks for telling us more about your business.")})]});case b("ServicesBookableServicesSurveySteps").GET_STARTED:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveyGetStartedView.react"),{})});case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveyMakeSelectionContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").jsx(b("XUIDialogBody.react"),{className:"_1kto",children:b("React").jsx(b("BookableServicesSurveyServiceAreaContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").jsx(b("XUIDialogBody.react"),{className:"_2pib",children:b("React").jsx(b("BookableServicesSurveySelectionContainer.react"),{})});default:return null}};d.renderTitle=function(){return this.props.hideTitle?null:b("React").jsx(b("XUIDialogTitle.react"),{className:"_2pi5",id:"dialogTitle",children:i._("Quick Survey")})};d.renderFooter=function(){if(this.state.showLoadingIndicator)return null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[b("React").jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").jsx(b("XUIDialogButton.react"),{disabled:this.state.selectedAutoMake.isEmpty(),label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[b("React").jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasServiceAreaDefined,label:i._("Done"),size:"large",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").jsx(b("XUIDialogFooter.react"),{fullBleedBorder:!0,leftContent:b("React").jsx(b("FDSLink.react"),{margin:"_3-8w",onClick:this.showOptOutDialog,children:i._("None of the Above")}),children:b("React").jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasAnyServicesSelected,label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})});case b("ServicesBookableServicesSurveySteps").CONFIRMATION:case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:return null}};d.renderOptOutDialog=function(){var a=this,c;return(c=b("React")).jsx(b("FDSModal.react"),{footer:c.jsx(b("FDSModalFooter.react"),{primaryButton:c.jsx(b("FDSButton.react"),{label:"Turn Off",onClick:function(){a.hideOptOutDialog(),b("ServicesBookableServicesSurveyActions").selectNoneOfTheAboveServices()},use:"primary"}),secondaryButton:c.jsx(b("FDSCancelButton.react"),{})}),header:c.jsx(b("FDSModalHeader.react"),{title:i._("Turn Off Quote Requests")}),isShown:this.state.isOptOutDialogShown,onHide:this.hideOptOutDialog,width:400,children:c.jsxs(b("FDSSection.react"),{children:[c.jsx(b("FDSText.react"),{size:"body1",margin:"_3-96",children:i._("Selecting {=None of the Above} will prevent you from receiving quote requests.",[i._param("=None of the Above",c.jsx("b",{children:i._("None of the Above")}))])}),c.jsx(b("FDSText.react"),{size:"body1",children:i._("You can change this in {=Edit Page Info > General > Quote Requests} on your computer.",[i._param("=Edit Page Info > General > Quote Requests",c.jsx("b",{children:i._("Edit Page Info > General > Quote Requests")}))])})]})})};d.renderProgressBar=function(){return b("React").jsx(b("BUIProgressBar.react"),{className:"_2y4-",flexibleWidth:!0,height:"small",padding:!1,percentage:this.state.progressBarPercentage})};d.render=function(){return b("React").jsxs("div",{children:[this.renderOptOutDialog(),this.renderTitle(),this.renderProgressBar(),this.renderBody(),this.renderFooter()]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContainer.react",["BookableServicesSurveyDialogContentContainer.react","DialogExpansion","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","React","XUIDialog.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},fixedTopPosition:100,labelledBy:"dialogTitle",hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:480,children:b("React").jsx(b("BookableServicesSurveyDialogContentContainer.react"),{onToggle:this.props.onToggle,pageID:this.props.pageID,referrer:this.props.referrer})})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesLeadGenBookableServicesAdminText.react",["fbt","BookableServicesSurveyDialogContainer.react","React","ShimButton.react","XUIButton.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={referrer:null,showDialog:!1},c.toggleDialog=function(a,b){b!=null&&c.setState({referrer:b}),c.setState({showDialog:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderDialog=function(){return!this.state.showDialog?null:b("React").jsx(b("BookableServicesSurveyDialogContainer.react"),{onToggle:this.toggleDialog,pageID:this.props.pageID,referrer:this.state.referrer,shown:this.state.showDialog})};d.render=function(){var a=this;return this.props.edit?b("React").jsxs("div",{children:[b("React").jsxs(b("XUIText.react"),{size:"body1",children:[g._("Get better quote requests by")," ",b("React").jsx(b("ShimButton.react"),{form:"link",onClick:function(){a.toggleDialog(!0,"edit")},children:g._("telling us more about the services you offer")})]}),this.renderDialog()]}):b("React").jsxs("div",{children:[b("React").jsx(b("XUIText.react"),{display:"block",size:"body1",children:this.props.message}),b("React").jsxs("div",{className:"_3-8y",children:[b("React").jsx(b("XUIButton.react"),{label:g._("Yes"),onClick:function(){a.toggleDialog(!0,"yes")},size:"small"}),b("React").jsx(b("XUIButton.react"),{label:g._("No"),onClick:function(){a.toggleDialog(!0,"no")},size:"small"})]}),this.renderDialog()]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=b("PECurrency").getCurrencySymbol(c.props.currencyCode);c.state={currencySymbol:d||""};return c}var d=c.prototype;d.render=function(){var a="_8j6"+(this.props.size==="large"?" _1fv":""),c="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,a),children:[b("React").jsx("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":""),children:this.state.currencySymbol}),b("React").jsx("div",{className:b("joinClasses")(this.props.className,c),children:this.props.amount})]})};return c}(b("React").Component);a.propTypes={amount:(c=b("prop-types")).string.isRequired,className:c.string,currencyCode:c.string.isRequired,isPending:c.bool,size:c.oneOf(["medium","large"])};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/payment_request/",{id:{type:"String",required:!0}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/transaction/",{id:{type:"String",required:!0}})}),null);
__d("PagesManagerWECMessage.react",["cssVar","cx","fbt","EmojiLikeUtils","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercuryTimestamp","MessengerAttachmentAttribution.react","MessengerAttachmentRenderer","MessengerBubble.react","MessengerDecorator","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerVideoAutoplayStore","React","SubscriptionsHandler","TooltipData","emptyFunction","getViewportDimensions","ifRequired","immutable","joinClasses","messengerRTLClasses","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){switch(a){case b("MercuryMessageDeliveryState").SENDING:return i._("Sending");case b("MercuryMessageDeliveryState").SENT:return i._("Sent");case b("MercuryMessageDeliveryState").DELIVERED:return i._("Delivered");case b("MercuryMessageDeliveryState").ERROR:return i._("This message didn't send. Check your internet connection and click to try again.")}return null}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isVisible:!1,plainText:!1,shown:{}},c.$9=function(a){c.messageBody=a},c.$12=function(a,b){c.setState(function(c){return c={shown:c.shown},c[a]=b,c})},c.$7=function(){c.props.onSelect(c.props.message.message_id)},b)||babelHelpers.assertThisInitialized(c)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){this.$2()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$2=function(){var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.$3=function(){var a=this.props,c=a.isFromViewer;a=a.showDeliveryState;if(c&&!a)return b("React").jsx("span",{className:"_7qwh",children:b("React").jsx("svg",{height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#4FC3F7"})})})};d.$4=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$5=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$6=function(a,c){__p&&__p();if(l(this.props.message))return null;c=[];var d=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$7,onUnwrap:null,pageID:this.props.pageID});if(!d||!d.length)return null;var e=this.$4(d);if(a){var f=d.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});this.$5()&&(d=[b("React").jsxs("span",{children:[d[0],b("React").jsx(b("MessengerAttachmentAttribution.react"),{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);d=e?b("React").jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses").apply(void 0,["_3zvs"+(f?" _2-x3":"")].concat(c)),children:d})):d.map(function(c){return c&&b("React").cloneElement(c,a)})}e=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);f=b("React").jsx("div",{className:"_3058 _15gf"+(e?" _3duc":""),children:d},"renderedAttachments");return f};d.$8=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;if(d.is_filtered_content)return b("React").jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d)});var g=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return g||!e.isEmpty()?b("React").jsx(b("MessengerBubble.react"),{attachments:e,body:d.body,bodyRef:this.$9,className:"_3058 _ui9"+(d.isSelected?" _3xsz":""),customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isHovered:this.state.shown[d.message_id],isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,isShowingOriginal:this.state.plainText,message:d,metaRanges:d.meta_ranges,onReplyToMessage:this.props.onReplyToMessage,participants:this.props.participants,plainText:this.state.plainText,ranges:f,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,thread:this.props.thread,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,tooltip:a,wecFirstMessage:this.props.wecFirstMessage}):null};d.$10=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState)return null;var a=b("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===b("MercuryMessageDeliveryState").UNKNOWN)return null;var c=j(a);return b("React").jsxs("span",{"aria-label":c,className:"_7qwi",title:c,children:[a===b("MercuryMessageDeliveryState").SENDING?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M9.75 7.713H8.244V5.359a.5.5 0 0 0-.5-.5H7.65a.5.5 0 0 0-.5.5v2.947a.5.5 0 0 0 .5.5h.094l.003-.001.003.002h2a.5.5 0 0 0 .5-.5v-.094a.5.5 0 0 0-.5-.5zm0-5.263h-3.5c-1.82 0-3.3 1.48-3.3 3.3v3.5c0 1.82 1.48 3.3 3.3 3.3h3.5c1.82 0 3.3-1.48 3.3-3.3v-3.5c0-1.82-1.48-3.3-3.3-3.3zm2 6.8a2 2 0 0 1-2 2h-3.5a2 2 0 0 1-2-2v-3.5a2 2 0 0 1 2-2h3.5a2 2 0 0 1 2 2v3.5z",fill:"#859479"})}):null,a===b("MercuryMessageDeliveryState").SENT?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M10.91 3.316l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null,a===b("MercuryMessageDeliveryState").DELIVERED?b("React").jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:b("React").jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null]})};d.$11=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:b("React").jsx(b("MercuryMessageError.react"),{authorFBID:this.props.authorFBID,className:"_3058 _2ygi",message:a})};d.render=function(){__p&&__p();var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]);e=b("TooltipData").propsFor(e,k(d));var f=[],g=[],h=this.props.message,j=d||!1,l=this.props.scrollToRepliedMessage;h&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(h)&&f.push(a.render(h,j,{scrollToRepliedMessage:l}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(h)&&g.push(a.getAdditionalClassNames())}));var m=this.$8(e,!1),n=this.$6(e,null);n&&(m=this.$8(e,!0));return b("React").jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7"),b("messengerRTLClasses")(a.body)].concat(g)),isFromViewer:d,message:a,onShowMenu:this.$12,children:[f,m,n,this.$11(),this.$10(),this.$3()]})};return c}(b("React").Component);a.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};function k(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)?"above":a?"right":"left"}function l(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.subattachments)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"&&a.attachments[0].share.subattachments.length===0}}e.exports=a}),null);
__d("PagesManagerWECMessageGroup.react",["cx","MercuryIDs","MessengerParticipants.bs","PagesManagerWECMessage.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={participants:h(c.props)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.calculateState=function(a){return{participants:h(a)}};d.$1=function(){var a=this,c=this.props.messages.size,d=[],e=this.props.messages.last();e.has_attachment===!0&&(e.video_ids||e.image_ids)&&(e.body=null);this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID,i=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),j=a.props.onAttachmentLoad,k=e===a.props.messages.first();d.push(b("React").jsx(b("PagesManagerWECMessage.react"),{authorFBID:i===null?void 0:i,customColor:"",deliveryTimestamp:a.props.deliveryTimestamp,isActive:h,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,message:e,nextTimestamp:a.$2(g,c,f),onAttachmentLoad:j,onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,pageID:a.props.pageID,participants:a.state.participants,readReceipts:a.props.readReceipts,ref:e.message_id,showDeliveryState:e.timestamp>a.props.lastReadTimestamp,threadCustomColor:"",wecFirstMessage:k},e.message_id))});return d};d.$2=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};d.render=function(){return b("React").jsx("div",{children:b("React").jsx("div",{className:"_1t_p clearfix",children:b("React").jsx("div",{className:"_41ud _38-y",children:this.$1()})})})};return c}(b("React").PureComponent);function h(a){var c=b("MercuryIDs").getParticipantIDFromFromThreadID(a.messages.first().thread_id);return b("immutable").Map().withMutations(function(d){a.readReceipts.forEach(function(a,c){d.set(c,b("MessengerParticipants.bs").getNow(c))}),d.set(c,b("MessengerParticipants.bs").getNow(c))})}e.exports=a}),null);
__d("PagesManagerMessagingMessageList.react",["cx","ChatTypingIndicatorsWrapper.bs","DOM","Event","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerDeliveryReceipt.bs","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicatorReact.re","PageManagerInboxMessageLoadIndicator.react","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","PagesManagerWECMessageGroup.react","React","ReactDOM","ScrollableArea.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ChatTypingIndicatorsWrapper.bs").jsComponent,i=b("MessengerTypingIndicatorReact.re").component,j="WEC_message_view";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.$1=!0;b.prevScrollTop=0;b.prevScrollHeight=0;return b}var d=c.prototype;d.componentDidMount=function(){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom()};d.componentDidUpdate=function(a){var b=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,c=a.messagelist.last()&&a.messagelist.last().thread_fbid;a.messagelist.size===0&&this.props.messagelist.size!==0||b!==c||a.threadID!==this.props.threadID||a.footerChildren!==this.props.footerChildren?(this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),this.$2()):this.props.messagelist.size!==a.messagelist.size&&(this.$3(this.prevScrollHeight,this.prevScrollTop),this.$2())};d.$3=function(a,b){if(!this.refs.scrollableArea)return;var c=this.refs.scrollableArea.getArea();a=c.getScrollHeight()-a+b;c.setScrollTop(a,!1)};d.$4=function(){if(!this.refs.scrollableArea)return;var a=this.refs.scrollableArea.getArea(),b=this.prevScrollTop,c=this.prevScrollHeight;this.$5();a.isScrolledToTop()?(this.$6(),this.props.fetchEarlierMessages()):a.isScrolledToBottom()?this.$7():(a.getScrollTop()===b&&a.getScrollHeight()!==c&&this.$3(c,b),this.$6())};d.$7=function(){this.$1||(this.$1=!0)};d.$6=function(){this.$1&&(this.$1=!1)};d.$5=function(){var a=this.refs.scrollableArea;this.prevScrollHeight=a?a.getArea().getScrollHeight():0;this.prevScrollTop=a?a.getArea().getScrollTop():0};d.$8=function(a){var b=this;return function(){if(b.props.threadID!==a)return;b.$1&&(b.refs.scrollableArea&&b.refs.scrollableArea.getArea()&&b.refs.scrollableArea.getArea().scrollToBottom())}};d.$2=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){a.props.threadID===d&&a.$1&&(a.refs.scrollableArea&&a.refs.scrollableArea.getArea()&&a.refs.scrollableArea.getArea().scrollToBottom()),e.remove()})})};d.$9=function(){return b("React").jsx(b("PageManagerInboxMessageLoadIndicator.react"),{height:this.props.scrollHeight})};d.$10=function(){return!this.props.isLoadingMore?null:b("React").jsx("div",{className:"_2k8v",children:b("React").jsx(b("MessengerSpinner.react"),{})})};d.$11=function(){var a=this;if(this.props.messagelist.size===0)throw new Error("Empty message list");return b("React").jsxs("div",{className:"clearfix _1ej0 _2mpc",children:[b("React").jsx(b("MessageList.react"),{DateBreak:b("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,this.props.threadID):0,isCanonical:!0,isPageMessage:!0,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),LogMessage:b("MessengerLogMessage.react"),MessageGroup:this.props.commPlatform==="WEC"?b("PagesManagerWECMessageGroup.react"):b("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),b("React").jsx(h,{indicatorClass:i,indicatorsWillShow:function(){},indicatorsDidShow:function(){a.$1&&a.refs.scrollableArea&&a.refs.scrollableArea.getArea().scrollToBottom()},rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})]})};d.render=function(){var a=this;return this.props.initLoading?this.$9():b("React").jsxs("div",{className:this.props.commPlatform==="WEC"?"_66_6":"","data-testid":j,children:[b("React").jsxs(b("ScrollableArea.react"),{className:"_11y7",fade:!1,height:this.props.scrollHeight,onScroll:b("debounce")(function(){return a.$4()},500),ref:"scrollableArea",shadow:!1,children:[this.$10(),b("React").jsx("div",{className:"_14y3",children:this.props.threadID?this.$11():b("React").jsx("div",{})}),this.props.footerChildrenSpacer]}),this.props.footerChildren]})};return c}(b("React").Component);e.exports=a}),null);
__d("PagesManagerOmniMActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PAGES_MANAGER_OMNI_M_INIT:null,PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY:null,PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME:null,PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS:null,PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA:null,PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO:null,PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT:null,PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL:null});e.exports=a}),null);
__d("PagesManagerOmniMStore",["FluxReduceStore","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({conversionData:null,isEligibleForAdminMSuggestion:!1,pageID:null,showSuggestionBar:!1,startTime:null,suggestions:null,threadFBID:null,partnerAppLogo:null,messageID:null,shouldShowEyebrowTextForBusinessSticker:!1,suggestionSpacerHeight:null,upsellSpecificData:null}));c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new q()};c.reduce=function(a,b){__p&&__p();var c=b.payload;switch(b.type){case g:return a.set("threadFBID",c.threadFBID).set("pageID",c.pageID);case i:return a.set("isEligibleForAdminMSuggestion",c.isEligibleForAdminMSuggestion);case m:return a.set("showSuggestionBar",c.showSuggestionBar);case o:return a.set("suggestions",c.suggestions).set("messageID",c.messageID);case k:return a.set("startTime",c.startTime);case h:return a.set("conversionData",c.conversionData);case j:return a.set("partnerAppLogo",c.partnerAppLogo);case l:return a.set("shouldShowEyebrowTextForBusinessSticker",c.shouldShowEyebrowTextForBusinessSticker);case n:return a.set("suggestionSpacerHeight",c.height);case p:return a.set("upsellSpecificData",c.upsellSpecificData);default:return a}};c.getIsDifferentThread=function(a,b){var c=this.getState();return a!==c.threadFBID||b!==c.pageID};c.getShowSuggestionBar=function(){var a=this.getState();return a.isEligibleForAdminMSuggestion&&a.showSuggestionBar};c.getSuggestions=function(){return this.getState().suggestions};c.getMessageID=function(){return this.getState().messageID};c.getQuickScheduleStartTime=function(){return this.getState().startTime};c.getConversionData=function(){return this.getState().conversionData};c.getPartnerAppLogo=function(){return this.getState().partnerAppLogo};c.getShouldShowEyebrowTextForBusinessSticker=function(){return this.getState().shouldShowEyebrowTextForBusinessSticker};c.getSuggestionSpacerHeight=function(){return this.getState().suggestionSpacerHeight};c.getTriggerSavedRepliesUpsell=function(){return this.getState().upsellSpecificData};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerOmniMSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1633243126804880"};b.getQueryID=function(){return"243928156353631"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerAdConfirmConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/confirm_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},conversion_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessengerAdDismissConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/dismiss_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},mid:{type:"String",required:!0},suggestion_type:{type:"String"}})}),null);
__d("PagesManagerOmniMActions",["ActorURI","AsyncRequest","MercuryMessageActions","MercuryMessageObject","MercuryTriodeSourceUtil","PagesEventObserver","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","PagesManagerOmniMStore","PagesManagerOmniMSuggestionQueryWebGraphQLQuery","WebGraphQL","XMessengerAdConfirmConversionSuggestionController","XMessengerAdDismissConversionSuggestionController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q={init:function(a,c){b("PagesManagerOmniMStore").getIsDifferentThread(a,c)&&(q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g,payload:{threadFBID:a,pageID:c}}));return b("WebGraphQL").exec(new(b("PagesManagerOmniMSuggestionQueryWebGraphQLQuery"))({page_id:c})).then(function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=a.isEligibleForAdminMSuggestionWWW;b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:i,payload:{isEligibleForAdminMSuggestion:a||!1}})},function(a){var d;d=(d=a)!=null?(d=d.errors)!=null?(d=d[0])!=null?d.description:d:d:d;a=(a=a)!=null?(a=a.errors)!=null?(a=a[0])!=null?a.message:a:a:a;b("PagesEventObserver").notify("booking_admin_intent_suggestion_bar_init_error",c,{description:d,message:a})})},dismissSuggestionBar:function(){q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!1}})},setShouldShowBusinessStickerEyebrowText:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:l,payload:{shouldShowEyebrowTextForBusinessSticker:a}})},showSuggestionBar:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!0}}),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:a,messageID:d}}),c&&b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:j,payload:{partnerAppLogo:c}})},setQuickScheduleStartTime:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:k,payload:{startTime:a}})},setMessengerConversionData:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h,payload:{conversionData:a}})},setSuggestionSpacerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:n,payload:{height:a}})},triggerSavedRepliesUpsell:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:p,payload:{upsellSpecificData:a}})},messengerConversionQPConfirmOrder:function(a,c){c=b("XMessengerAdConfirmConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setEnum("conversion_type","CONFIRM_ORDER").getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).send()},clearMessengerConversionSuggestion:function(a,c,d,e,f){if(e===null)return;a=b("XMessengerAdDismissConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setString("suggestion_type",d).setString("mid",e).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){f&&f()}).send()},_clearAllData:function(){q.setQuickScheduleStartTime(null),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:null}})},sendMessageWithSuggestedReply:function(a,c,d,e,f){var g=new(b("MercuryMessageObject"))(c);a=a==="suggested_reply_business_sticker"?g.constructStickerMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e):g.constructCTAConfirmationMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e);new(b("MercuryMessageActions"))(c).send(a,f)}};e.exports=q}),null);
__d("ServicesMessengerSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({OPEN_MESSENGER_SIDEBAR:null});e.exports=a}),null);
__d("ServicesMessengerSidebarStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR,h=400,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isSidebarOpen:!1}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new i()};c.reduce=function(a,b){var c=b.payload;switch(b.type){case g:return a.set("isSidebarOpen",c.shouldOpen);default:return a}};c.isSidebarOpen=function(){return this.getState().isSidebarOpen};c.getTransitionDuration=function(){return h};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesMessengerSidebarActions",["PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxMercuryUtil","PagesManagerStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","ServicesMessengerSidebarStore","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR;a={openSidebar:function(a,c,d){d===void 0&&(d="MESSENGER");a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()&&d==="MESSENGER"?a:c;if(a==null)return;c=b("PagesManagerStore").getViewingListItem()!==null&&b("PagesManagerStore").getViewingListItem()===a;var e=b("ServicesMessengerSidebarStore").isSidebarOpen();b("PagesManagerInboxFilterAction").changePlatform(d);!e?(this._toggleMessengerSidebar(!0),b("PagesManagerAction").viewListItem(""+a)):e&&!c&&b("PagesManagerAction").viewListItem(""+a)},closeMessengerSidebar:function(){this._toggleMessengerSidebar(!1)},_toggleMessengerSidebar:function(a){a||b("setTimeout")(function(){b("PagesManagerAction").clearViewListItem()},b("ServicesMessengerSidebarStore").getTransitionDuration()),b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{shouldOpen:a}})}};e.exports=a}),null);
__d("ServicesAppointmentMessengerHeaderAction.react",["cx","React","ServicesMessengerSidebarActions","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderDivider=function(){return b("React").jsx("div",{className:"_33u_",children:b("React").jsx("div",{className:"_33v0"})},"actionDivider")};d.render=function(){return b("React").jsxs("div",{className:"_33uz",children:[this.renderDivider(),b("React").jsx("div",{className:"_642n",children:b("React").jsx(b("XUIButton.react"),{className:"_642o",label:"Close",labelIsHidden:!0,size:"small",suppressed:!0,onClick:function(){b("ServicesMessengerSidebarActions").closeMessengerSidebar()}})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("CRMEventsLogger",["CRMEventsTypedLogger"],(function(a,b,c,d,e,f){a={log:function(a,c,d,e,f,g){a=new(b("CRMEventsTypedLogger"))().setPageID(a).setEvent(c).setUIComponent(d).setUISurface(e).setPageContactID(f).setIsServerLog(!1);g!==null&&g!==void 0&&a.updateExtraData(g);a.logVital()}};e.exports=a}),null);
__d("ServicesAppointmentDialogButtonTexts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Actions");b=g._("Approve");c=g._("Approve with notes");d=g._("Add Appointment");f=g._("Copy Booking Link");var h=g._("Copied"),i=g._("Archive"),j=g._("Archive Request"),k=g._("Back"),l=g._("Cancel Appointment"),m=g._("Cancel Appointment Only"),n=g._("Cancel Entire Series"),o=g._("Cancel This and Future Appointments"),p=g._("Delete Event"),q=g._("Confirm Appointment"),r=g._("Confirm Changes"),s=g._("Create Appointment"),t=g._("Decline Appointment"),u=g._("Decline"),v=g._("Delete"),w=g._("Done"),x=g._("Edit"),y=g._("Edit Appointment"),z=g._("Save"),A=g._("Schedule"),B=g._("Reschedule"),C=g._("Schedule Appointment"),D=g._("Skip For Now"),E=g._("Delete Personal Event"),F=g._("Delete Personal Event Only"),G=g._("Delete This and Future Personal Events"),H=g._("Update Appointment Only"),I={CALENDAR:{title:g._("Calendar")},CONTACTS:{title:g._("Contacts")},REQUESTS:{title:g._("Requests")},SETTINGS:{title:g._("Appointment Settings")}},J={REQUEST:"REQUEST",ARCHIVE:"ARCHIVE"};g={REQUEST:{label:g._("Pending Requests"),key:J.REQUEST},ARCHIVE:{label:g._("Archived Requests"),key:J.ARCHIVE}};e.exports={ACTIONS:a,ADD_APPOINTMENT:d,APPROVE:b,APPROVE_WITH_NOTES:c,ARCHIVE:i,ARCHIVE_REQUEST:j,BACK:k,CANCEL_APPOINTMENT:l,CANCEL_APPOINTMENT_ONLY:m,CANCEL_THIS_AND_FUTURE_APPOINTMENTS:o,CANCEL_ENTIRE_SERIES:n,COPIED_BOOKING_LINK:h,COPY_BOOKING_LINK:f,DELETE_PERSONAL_EVENT:E,DELETE_PERSONAL_EVENT_ONLY:F,DELETE_THIS_AND_FUTURE_PERSONAL_EVENTS:G,DELETE_EVENT:p,CONFIRM_APPOINTMENT:q,CONFIRM_CHANGES:r,CREATE_APPOINTMENT:s,DECLINE_APPOINTMENT:t,DECLINE:u,DELETE:v,DONE:w,EDIT:x,EDIT_APPOINTMENT:y,REQUEST_ARCHIVE_LABEL:g,RESCHEDULE:B,SCHEDULE:A,SCHEDULE_APPOINTMENT:C,SAVE:z,SIDEBAR_TABS:I,SKIP_FOR_NOW:D,UPDATE_APPOINTMENT_ONLY:H}}),null);
__d("ServicesUINoProfileImage.react",["cx","FDSText.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=a.letter;return b("React").jsx("div",{className:b("joinClasses")("_6ts_"+(d==="large"?" _6tt0":"")+(d==="small"?" _6tt1":"")+(d==="xsmall"?" _8jmv":"")+(d==="xlarge"?" _6-3z":""),c),children:b("React").jsx(b("FDSText.react"),{color:"white",size:"header2",children:a})})};return c}(b("React").Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("ServicesUIProfileImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","size"]);return b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:b("joinClasses")("_6tsy"+(d==="large"?" _6tsz":"")+(d==="small"?" _6ts-":""),c)},a))};return c}(b("React").Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("BusinessPresenceCustomLabelColor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREY:"FF90949C",PURPLE:"FF8A73C9",RED:"FFF65569",BLUE:"FF5291FF",ORANGE:"FFFB9240",GREEN:"FF72A737"})}),null);
__d("XCRMManualContactCreationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/contact_creation/dialog/",{appointment_id:{type:"FBID"},contact_id:{type:"FBID"},first_name:{type:"String"},from_split_flow:{type:"Bool",defaultValue:!1},last_name:{type:"String"},page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XCRMContactImportCsvUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/csv_import/",{page_id:{type:"FBID",required:!0}})}),null);
__d("ServicesClientsTabMainView.react",["CRMClientsMainView.react","CustomLabelUtils","PagesManagerCustomLabelsActions","PagesManagerCustomLabelsStore","React","RelayFBEnvironment","RelayModern","immutable","promiseDone","ServicesClientsTabMainViewLabelsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CustomLabelUtils").mergeContactAndCustomerLabels,i=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){__p&&__p();if(b("PagesManagerCustomLabelsStore").isInitialized())return;b("promiseDone")(j(b("RelayFBEnvironment"),g!==void 0?g:g=b("ServicesClientsTabMainViewLabelsQuery.graphql"),{pageID:this.props.pageID}),function(a){__p&&__p();var c;c=((c=a.page.custom_tags)==null?void 0:c.edges)||[];a=((a=a.page.custom_labels)==null?void 0:a.edges)||[];a=h(a,c);c=a.map(function(a){var b,c,d;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.name;a=((d=a.node)==null?void 0:d.label_color)||((d=a.node)==null?void 0:d.color);if(c!=null&&b!=null&&a!=null)return[c,{name:c,id:b,color:a}]});a=b("immutable").Map(c.filter(Boolean)||[]);i.initStore(a)})};d.render=function(){return b("React").jsx(b("CRMClientsMainView.react"),{contactID:this.props.contactID,pageID:this.props.pageID,height:this.props.height})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PagesMessageThreadImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_message_thread_impression");e.exports=a}),null);
__d("ServicesAdminMOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_REMINDER:"add_reminder",CREATE_APPOINTMENT_DIRECT:"create_appointment_direct",CREATE_APPOINTMENT_DIFFERENT_TIME:"create_appointment_different_time",SCHEDULE_APPOINTMENT:"schedule_appointment",SEND_AVAILABILITY:"send_availability",TIMESTAMP_OPTIONS:"timestamp_options",MESSENGER_DETECTED_CONVERSION:"messenger_detected_conversion",SUGGESTED_REPLY_LOCATION:"suggested_reply_location",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER:"suggested_reply_yes_no_short_answer",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_YES:"suggested_reply_yes_no_short_answer_yes",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_NO:"suggested_reply_yes_no_short_answer_no",SUGGESTED_REPLY_USER_FAQ:"suggested_reply_user_faq",SUGGESTED_REPLY_USER_FAQ_SAVED_REPLY:"suggested_reply_user_faq_saved_reply",SUGGESTED_REPLY_BUSINESS_STICKER:"suggested_reply_business_sticker"})}),null);
__d("PagesManagerOmniMUtils",["fbt","ServicesAdminMOptions","ServicesDateTimeUtils","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={isValidOmniMSuggestionType:function(a){return!a||!Object.values(b("ServicesAdminMOptions")).includes(a)?!1:a==="create_appointment_direct"||a==="create_appointment_different_time"||a==="send_availability"||a==="schedule_appointment"||a==="suggested_reply_location"||a==="suggested_reply_yes_no_short_answer_yes"||a==="suggested_reply_yes_no_short_answer_no"||a==="suggested_reply_user_faq"||a==="suggested_reply_user_faq_saved_reply"||a==="messenger_detected_conversion"||a==="suggested_reply_business_sticker"},isMessengerQuickBannerType:function(a){return Object.keys(a).length===1&&Object.prototype.hasOwnProperty.call(a,"messenger_detected_conversion")},filterValidOmniMSuggestions:function(a){return Object.keys(a).filter(function(a){return h.isValidOmniMSuggestionType(a)}).reduce(function(b,c){b[c]=a[c];return b},{})},getFallbackSuggestions:function(){var a={};a.schedule_appointment=g._("Schedule Appointment");return a},replaceCreateAppointmentDirectText:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;c=b("ServicesDateTimeUtils").getRelativeDayTimeText(c);var d=c.relativeDayText;c=c.startTimeText;d=g._("Schedule: {relative-day} at {start-time}",[g._param("relative-day",d),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a},replaceCreateAppointmentDirectTextForInlineMessage:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;var d={withinWeek:"l",thisYear:"F d",future:"F d, Y"},e=b("ServicesDateTimeUtils").getRelativeDayText(c,b("ServicesDateTimeUtils").getDefaultTimezoneID(),!1);d=b("formatDate")(c,d);c=b("formatDate")(c,"g:i A");d=e==null?g._("on {date} at {start-time}",[g._param("date",d),g._param("start-time",c)]):g._("{relative-day} at {start-time}",[g._param("relative-day",e),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a}};e.exports=h}),null);
__d("XMessengerAdShouldShowEyebrowTextForBusinessStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/should_show_eyebrow_text_for_business_sticker/",{})}),null);
__d("XWECMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/send/",{})}),null);