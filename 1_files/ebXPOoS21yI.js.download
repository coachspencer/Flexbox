if (self.CavalryLogger) { CavalryLogger.start_js(["jkevp"]); }

__d("UFICommentLikeCount.react",["cx","fbt","ActorURI","NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","ReactionIconClassNames","URI","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=function(a,c,d){a=new(i||(i=b("URI")))("/ajax/like/tooltip.php").setQueryData({comment_fbid:a.fbid,comment_from:a.author,comment_likecount:a.likecount||0,comment_id:a.id,cache_buster:a.likeconfirmhash||0});c&&a.addQueryData({viewas:c});return b("ActorURI").create(a,d)};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.comment,c=a.likecount||0,d=b("NumberFormat").formatInteger(c);c=h._({"*":"{number} Likes","_1":"1 Like"},[h._plural(c,"number")]);var e=b("ProfileBrowserTypes").LIKES;a={id:a.fbid};var f=j(this.props.comment,this.props.contextArgs.viewas,this.props.actorForPost),g=b("React").jsx("span",{className:"UFICommentReactionIconContainer",children:b("React").jsx("i",{className:b("joinClasses")(b("ReactionIconClassNames").reactions.like,b("ReactionIconClassNames").icon,b("ReactionIconClassNames").sizes[16])})});d=b("React").jsx("span",{children:d});var i="UFICommentLikeButton UFISutroLikeCount",k=b("ProfileBrowserLink").constructDialogURI(e,a).toString();e=b("ProfileBrowserLink").constructPageURI(e,a).toString();a="dialog";var l=this.props.contextArgs.loggedOutLinkConfig;l&&l.showLikeLink&&(k=l.likeAjaxifyURI,e="#");return b("React").jsxs("a",{ajaxify:k,"aria-label":c,className:i,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":f.toString(),href:e,rel:a,role:"button",children:[g,d]})};return c}(b("React").Component);a.propTypes={actorForPost:b("prop-types").string,comment:b("prop-types").object.isRequired,contextArgs:b("prop-types").object.isRequired};e.exports=a}),null);
__d("UFICommentLikeLink.react",["cx","fbt","React","TrackingNodes","UFICommentAction","UFIConfig","UFIReactionsLinkImpl.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="ufi_comment_like_link",j="ufi_reply_like_link";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getCanRender=function(a){return!!(a&&(a.canviewerreact||a.viewercanlike||a.hasviewerliked))};var d=c.prototype;d.render=function(){var a=this.props.comment,c=this.props.feedback,d=this.props.contextArgs;if(!this.constructor.getCanRender(a))return null;if(a.canviewerreact)return b("React").jsx("span",{className:"_6a _3-me",children:this.$1(a,c,d)});else if(a.viewercanlike||a.hasviewerliked)return this.$2(a,c,d);return null};d.$1=function(a,c,d){var e=null;b("UFIConfig").reactionsHasCommentsNux&&(e={nuxKey:"reactions_comments",titleOverride:h._("New! React to a Comment"),textOverride:h._("Hover over the Like link to see all reactions."),nuxType:"like_click"});return b("React").jsx(b("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},d,{ftentidentifier:a.id}),comment:a,nuxConfig:e,reaction:a.viewerreaction,supportedReactions:c.supportedreactions,ftIdentifier:d.ftentidentifier})};d.$2=function(a,c,d){var e=this;c=d.loggedOutLinkConfig;var f=b("TrackingNodes").getTrackingInfo(a.hasviewerliked?b("TrackingNodes").types.UNLIKE_LINK:b("TrackingNodes").types.LIKE_LINK),g=a.hasviewerliked?h._("Unlike this comment"):h._("Like this comment"),k=a.parentcommentid?j:i,l=!a.hasviewerliked||c?h._("Like"):h._("Unlike"),m=null,n=null;c&&c.showLikeLink&&(m="dialog",n=c.likeAjaxifyURI);return b("React").jsx("a",{className:"UFILikeLink","data-ft":f,"data-testid":k,href:"#",rel:m,ajaxify:n,onClick:function(c){return e.context.dispatch(b("UFICommentAction").toggleLike(d,a,c.target))},role:"button",title:g,children:l})};return c}(b("React").Component);a.propTypes={comment:(c=b("prop-types")).object.isRequired,contextArgs:c.object.isRequired,feedback:c.object.isRequired};a.contextTypes={dispatch:c.func};e.exports=a}),null);
__d("UFICommentActions.react",["ix","cx","fbt","BootloadedComponent.react","FluxContainer","JSResource","Middot.react","PublicConversationsUnicornTypedLogger","React","ReactFragment","UFIAddCommentAction","UFICentralUpdates","UFICommentAction","UFICommentLikeCount.react","UFICommentLikeLink.react","UFICommentMetadata.react","UFICommentReactionCount.react","UFICommentSubscribeLink.react","UFIConfig","UFIConstants","UFIFeedbackPinnedCommentLink.react","UFILivePinnedCommentStore","UFILiveVODUnpinCommentLink.react","UFIPrivateReplyIndicator.react","UFIPrivateReplyLink.react","UFISharedDispatcher","UFIStoryAction","UFIThreadedFacecastCommentsUtils","emptyFunction","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("UFIConstants").UFIStatus,k="fsm fwn fcg UFICommentActions",l="UFIDeletedMessageIcon",m="UFIDeletedMessage";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("UFILivePinnedCommentStore")]};c.calculateState=function(a,c){a=c.comment;c=b("UFILivePinnedCommentStore").getPinnedCommentID(a.ftentidentifier);a=this.calculatePinActionLinkState(a,c);return{pinActionLinkState:a}};c.calculatePinActionLinkState=function(a,b){if(a.__typename==="local")return"None";return b===a.id?"MayUnpin":"MayPin"};function c(b){var d;d=a.call(this,b)||this;d.state=c.calculateState(null,b);return d}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.comment,e=c.permalink,f=c.feedback,h=c.parentCanComment,n=c.markedAsSpamHere,o=c.showReplyLink,p=c.hideAsSpamForPageAdmin,q=c.translateLink,r=c.isAuthorPinnedComment,s=c.shouldHideAttachment,t=d.status===j.SPAM_DISPLAY,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I=d.__typename!=="local"&&d.status!==j.LIVE_DELETED&&!d.tipOptionIndex;if(I){(d.needsApproval||d.canAppeal||d.canSecure||d.appealStatus!==null)&&(D=b("React").jsx("a",{onClick:function(d){return a.context.dispatch(b("UFICommentAction").remove(c.contextArgs,c.comment,d.target,b("emptyFunction")))},href:"#",role:"button",children:i._("Delete")}));d.canAppeal&&d.appealStatus!=="APPEALED"&&(E=b("React").jsx("a",{onClick:function(e){return a.context.dispatch(b("UFICommentAction").appealSpam(c.contextArgs,d,e.target,c.feedback))},href:"#",role:"button",children:i._("Not Spam")}));d.canSecure&&d.appealStatus!=="SECURED_ACCOUNT"&&(F=b("React").jsx("a",{onClick:function(e){return a.context.dispatch(b("UFICommentAction").secureAccount(c.contextArgs,d,e.target,c.feedback))},href:"#",role:"button",children:i._("I didn't post this")}));d.needsApproval&&(C=b("React").jsx("a",{onClick:function(e){return a.context.dispatch(b("UFICommentAction").keepSpam(c.contextArgs,d,e))},href:"#",role:"button",children:i._("Keep Comment")}));t&&!n?(c.viewerCanMarkNotSpam&&(u=b("React").jsx("a",{onClick:function(e){return a.context.dispatch(b("UFICommentAction").markAsNotSpam(c.contextArgs,d,e))},className:"UFICommentNotSpamLink",href:"#",role:"button",children:i._("Unhide")})),p&&f.isthreaded&&d.cancomment&&o&&(y=this.renderCommentReply(d))):(v=b("UFICommentLikeLink.react").getCanRender(d)?b("React").jsx(b("UFICommentLikeLink.react"),{comment:d,contextArgs:c.contextArgs,feedback:f}):null,(f.isthreaded&&d.cancomment&&o||!!d.parentcommentid&&f.cancomment&&h&&!c.isInLiveVideoReplyMode)&&(y=this.renderCommentReply(d)),d.canviewerreact?w=!this.props.hideReactionCount&&d.reactioncount>0?b("React").jsx(b("UFICommentReactionCount.react"),{comment:d,actorForPost:f.actorforpost,supportedReactions:f.supportedreactions,contextArgs:c.contextArgs}):null:w=!this.props.hideReactionCount&&d.likecount>0?b("React").jsx(b("UFICommentLikeCount.react"),{comment:d,actorForPost:f.actorforpost,contextArgs:c.contextArgs}):null,z=this.renderMessageReply(d,f));if(!s&&d.attachment&&d.attachment.type==="share"&&!d.attachment.disableRemove&&d.canremove){I="_460h";A=b("React").jsx("a",{className:I,href:"#",onClick:function(e){return a.context.dispatch(b("UFICommentAction").removePreview(c.contextArgs,d,e.target))},role:"button",children:i._("Remove Preview")})}d.cansubscribe&&(G=b("React").jsx(b("UFICommentSubscribeLink.react"),{contextArgs:c.contextArgs,comment:d}))}b("UFIConfig").publicConversationsUnicornWhitelist&&(B=b("React").jsx("a",{className:"share_action_link",href:"#",role:"button",title:"[FB Only] Mark this comment as a great comment for futher review.",onClick:function(a){return new(b("PublicConversationsUnicornTypedLogger"))().setCommentFbid(d.fbid).log()},children:"Unicorn"}));t=c.contextArgs.islivestreaming||c.contextArgs.isActiveLivingRoom;n=t?null:b("React").jsx(b("UFICommentMetadata.react"),{comment:d,onRetrySubmit:function(){return a.context.dispatch(b("UFIAddCommentAction").retrySubmit(c.contextArgs,d))},permalink:e,shortenTimestamp:c.contextArgs.shortenTimestamp,showPermalink:c.showPermalink,contextArgs:c.contextArgs,helpUri:this.props.editNuxHelpUri,showEditNux:!this.props.hasSeenEditNux,onEditNuxCloseClick:this.props.onEditNuxCloseClick,isAuthorPinnedComment:r,displayVerticalCommentVote:this.props.displayVerticalCommentVote});p=null;if(c.contextArgs.enablePinLiveComments&&!d.tipOptionIndex)if((c.contextArgs.islivestreaming||c.contextArgs.isActiveLivingRoom)&&this.state.pinActionLinkState!=="None")p=b("React").jsx(b("UFIFeedbackPinnedCommentLink.react"),{commentID:d.id,commentFBID:d.fbid,contextArgs:c.contextArgs,isPinned:this.state.pinActionLinkState==="MayUnpin"});else if(c.contextArgs.isLiveVOD&&this.state.pinActionLinkState==="MayUnpin"){o=b("UFILivePinnedCommentStore").getPinEventID(c.contextArgs.ftentidentifier);o!=null&&(p=b("React").jsx(b("UFILiveVODUnpinCommentLink.react"),{commentID:d.id,contextArgs:c.contextArgs,pinEventID:o}))}var J={};if(f.customcommentactionlinks){h=function(a){var c=f.customcommentactionlinks[a];if(c.showInMenu)return"continue";a=function(a){return b("UFICentralUpdates").inform(c.type,{comment:d,feedback:f})};J[c.type]=b("React").jsx("a",{href:"#",onClick:a,role:"button",children:c.title})};for(var K in f.customcommentactionlinks){s=h(K);if(s==="continue")continue}}d.needsApproval?I=babelHelpers["extends"]({keepToggle:C,deleteToggle:D,metadata:n},J):d.canAppeal||d.canSecure||(d.appealStatus==="APPEALED"||d.appealStatus==="SECURED_ACCOUNT")&&!d.isApproved?I=babelHelpers["extends"]({appealToggle:E,secureToggle:F,deleteToggle:D,metadata:n},J):c.orderingMode==="live_streaming"&&(c.contextArgs.islivestreaming||c.contextArgs.isLiveVOD)&&b("UFIThreadedFacecastCommentsUtils").isEnabled(c.contextArgs)?I=babelHelpers["extends"]({likeToggle:v,unicornButton:B,commentReply:y,spamToggle:u,likeCount:w,spamCount:x,livePinCommentLink:p,metadata:n},J,{removePreview:A}):c.orderingMode==="live_streaming"&&c.contextArgs.isLivingRoomWithReplies&&c.contextArgs.source===49&&b("UFIThreadedFacecastCommentsUtils").isEnabled(c.contextArgs)?I=babelHelpers["extends"]({likeToggle:v,unicornButton:B,commentReply:y,spamToggle:u,likeCount:w,spamCount:x,livePinCommentLink:p,metadata:n},J,{removePreview:A}):c.orderingMode==="live_streaming"?I=babelHelpers["extends"]({likeToggle:v,unicornButton:B,spamToggle:u,likeCount:w,spamCount:x,livePinCommentLink:p,metadata:n},J,{removePreview:A}):c.contextArgs.entstream?I=babelHelpers["extends"]({livePinCommentLink:p,metadata:n,likeToggle:v,unicornButton:B,likeCount:w,commentReply:y,translateLink:q,messageReply:z,subscribeComment:G,spamCount:x,spamToggle:u,removePreview:A},J):f.isthreaded?(this.props.displayVerticalCommentVote&&(H=c.renderCommentCloseButton()),I=babelHelpers["extends"]({likeToggle:v,unicornButton:B,commentReply:y,translateLink:q,messageReply:z,spamToggle:u,removePreview:A,subscribeComment:G,likeCount:w,spamCount:x},J,{livePinCommentLink:p,metadata:n,commentCloseButton:H})):I=babelHelpers["extends"]({livePinCommentLink:p,metadata:n,likeToggle:v,unicornButton:B,subscribeComment:G,likeCount:w,spamCount:x,commentReply:y,translateLink:q,messageReply:z,spamToggle:u,removePreview:A},J);if(d.status===j.LIVE_DELETED){t=i._("Comment deleted");e=b("React").jsx("span",{className:m,children:b("React").jsx("i",{"aria-label":t,className:l,"data-hover":"tooltip","data-tooltip-content":t,role:"img"})});I.deletionWarning=e}if(d.isApproved){r=i._("This comment was originally marked as spam");I.isApproved=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("Image.react").__setRef("UFICommentActions.react"),bootloadPlaceholder:b("React").jsx("span",{}),"data-hover":"tooltip","data-tooltip-content":r,"aria-label":r,src:g("119369"),"data-tooltip-alignh":"left"})}o=!0;s={};for(var L in I){h=I[L];h&&(o?s[L]=h:this.props.displayVerticalCommentVote?s[L]=b("React").jsx("span",{className:"_6hmt",children:h}):s[L]=b("ReactFragment").create({middot:b("React").jsx(b("Middot.react"),{},"middot-"+L),action:h}),o=!1)}return b("React").jsx("div",{className:k,children:b("ReactFragment").create(s)})};d.renderCommentReply=function(a){var c=this,d=!this.props.contextArgs.isScheduledLive&&(this.props.contextArgs.islivestreaming||this.props.orderingMode==="live_streaming"&&this.props.contextArgs.isLiveVOD),e=this.props.contextArgs.isLivingRoomWithReplies,f;d||e?f=b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(a,this.props.contextArgs,this.props.feedback):f=function(){var d=c.props,e=d.contextArgs;d=d.feedback;d.isthreaded&&a.cancomment?c.context.dispatch(b("UFIStoryAction").showReplies(e,a.id,a)):a.parentcommentid&&c.context.dispatch(b("UFIStoryAction").showReplies(e,a.parentcommentid,a));d.targetiscomment&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").showComments(e))};return b("React").jsx("a",{className:"UFIReplyLink _460i","data-testid":"ufi_reply_link",href:"#",onClick:f,role:"button",children:(d||e)&&a.parentcommentid&&!this.props.isInLiveVideoReplyMode?i._("See Thread"):i._("Reply")})};d.renderMessageReply=function(a,c){__p&&__p();if(a.messagereply){if(b("UFIPrivateReplyLink.react").willRender(a.messagereply,c.actorforpost))return b("React").jsx(b("UFIPrivateReplyLink.react"),{actorID:c.actorforpost,activityID:a.id,context:a.messagereply,seeResponseLabel:!0,shouldShowNuxToPage:this.props.contextArgs.shouldShowPrivateReplyNuxToPage,shouldShowGeneralNuxContent:this.props.contextArgs.shouldShowGeneralPrivateReplyNuxContent});else if(b("UFIPrivateReplyIndicator.react").willRender(a.messagereply.status))return b("React").jsx(b("UFIPrivateReplyIndicator.react"),{replyStatus:a.messagereply.status})}else if(a.chattobuy){c="_460j";return b("React").jsx("a",{className:c,href:a.chattobuy,role:"button",rel:"async-dialog",children:i._("Message")})}return null};return c}(b("React").Component);a.contextTypes={dispatch:b("prop-types").func};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UFICommentAttachment.react",["cx","AsyncRequest","BootloadedComponent.react","CSS","DOM","DOMQuery","GamesVideoFanSupportAttachmentHandler","HTML","Image.react","JSResource","lazyLoadComponent","Link.react","LitestandShareAttachment","Random","React","ReactDOM","SubscriptionsHandler","UFILocallyComposedCommentStore","XAnimatedImageInLiveCommentPreviewController","XChatCommandResultCommentPreviewController","XDonationCommentPreviewController","XFileCommentPreviewController","XTipJarCommentPreviewController","XUISpinner.react","XVideoInLiveCommentPreviewController","XMarketplaceEcommProductItemCommentPreviewController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("PageCommentQuestionMessageCard.react").__setRef("UFICommentAttachment.react")),i=b("lazyLoadComponent")(b("JSResource")("PagePrivateReplyMessageCard.react").__setRef("UFICommentAttachment.react")),j=55,k="ufi_comment_photo",l=80,m="ufi_comment_sticker";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(c.props.comment.ufiinstanceid),randomInstanceID:Math.floor(b("Random").random()*1e4)};return c}var d=c.prototype;d.$2=function(a){return a.photo_comment||a.video_comment||a.file_comment||a.attachment};d.$3=function(a,b){var c=this.props.allowCustomStickers?j:l,d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}};d.componentDidMount=function(){var a=this,c=this.$2(this.props.comment);c&&this.renderAttachment(c);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFILocallyComposedCommentStore").addListener(function(){a.setState({localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(a.props.comment.ufiinstanceid)})}))};d.shouldComponentUpdate=function(a,b){b=this.$2(this.props.comment);a=this.$2(a.comment);if(!b&&!a)return!1;if(!b||!a||b.markup!=a.markup)return!0;else return!1};d.componentDidUpdate=function(a){a=this.$2(this.props.comment);if(!a)return;a.type!=="sticker"&&a.type!=="photo"&&this.renderAttachment(a)};d.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var a=b("ReactDOM").findDOMNode(this.refs.contents);b("DOM").empty(a)}this.$1&&this.$1.release()};d.renderAttachment=function(a){__p&&__p();var c=this;if(this.props.isPinnedLivingRoomPhotoComment)return;if(a&&this.refs&&this.refs.contents&&a.markup){var d=a.markup;b("HTML").isHTML(d.markup)&&(d=b("HTML").replaceJSONWrapper(d.markup).getRootNode());var e=d.parentNode,f=b("ReactDOM").findDOMNode(this.refs.contents);e&&e!==f&&(d=d.cloneNode(!0));if(this.props.disableTheater){e=d.querySelector('a[rel="theater"]');e&&b("DOM").setAttributes(e,{target:"_blank",rel:""})}b("DOM").setContent(f,d);if(a.type=="share"){e="_6m2";e=f&&b("CSS").hasClass(f,e)?f:b("DOMQuery").scry(f,"."+e)[0];e=e?e:f;e instanceof HTMLElement&&b("LitestandShareAttachment").init(e)}else a.type==="TIP_JAR_PAYMENT"&&b("GamesVideoFanSupportAttachmentHandler").registerFanSupportAttachment(d)}else if(a&&a.type=="video"&&!a.markup){f=b("XVideoInLiveCommentPreviewController").getURIBuilder();new(b("AsyncRequest"))(f.getURI()).setMethod("POST").setData({video_id:a.target.id}).setHandler(function(a){c.renderAttachment(a.payload.video_preview.video_comment)}).send()}else a&&a.type=="gif"&&!a.markup?new(b("AsyncRequest"))(b("XAnimatedImageInLiveCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="file"&&!a.markup?new(b("AsyncRequest"))(b("XFileCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="donation"&&!a.markup?new(b("AsyncRequest"))(b("XDonationCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="TIP_JAR_PAYMENT"&&!a.markup?new(b("AsyncRequest"))(b("XTipJarCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="chat_command_result"&&!a.markup?new(b("AsyncRequest"))(b("XChatCommandResultCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a!=null&&a.type=="marketplace_ecomm_product_item"&&!a.markup&&new(b("AsyncRequest"))(b("XMarketplaceEcommProductItemCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send()};d.renderSticker=function(a){var c=this.$3(Number(a.metadata.height),Number(a.metadata.width)),d=null,e=null;window.devicePixelRatio&&window.devicePixelRatio>1?(d=a.metadata.sprite_uri_2x,e=a.metadata.source_uri_2x):(d=a.metadata.sprite_uri,e=a.metadata.source_uri);return b("React").jsx(b("BootloadedComponent.react"),{accessibilityLabel:a.metadata.accessibilityLabel,bootloadPlaceholder:b("React").jsx(b("XUISpinner.react"),{}),bootloadLoader:b("JSResource")("Sticker.react").__setRef("UFICommentAttachment.react"),className:"UFICommentStickerAttachment",animationTrigger:"load_and_hover",frameCount:a.metadata.frameCount,frameRate:a.metadata.frameRate,framesPerCol:a.metadata.framesPerCol,framesPerRow:a.metadata.framesPerRow,spriteURI:d,sourceHeight:c.height,sourceURI:e,sourceWidth:c.width,testID:m})};d.renderPhoto=function(a){var c,d="_2rn3 _4-eo";return(c=b("React")).jsx("div",{className:"_4iv9",children:c.jsx(b("Link.react"),{className:d,"data-testid":k,rel:"theater",href:a.metadata.url,children:c.jsx("div",{style:{height:a.metadata.height},children:c.jsx(b("Image.react"),{src:a.metadata.preview_uri})})})})};d.renderShare=function(a){return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("UFILiveCommentLinkPreview.react").__setRef("UFICommentAttachment.react"),attachment:a})};d.renderLivePlaceInfo=function(a){return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("PlaceListLiveCommentAttachment.react").__setRef("UFICommentAttachment.react"),commentID:this.props.comment.fbid,data:a,postID:this.props.comment.ftentidentifier})};d.renderPlaceInfo=function(a){var c=this.props.comment.__typename==="local"||this.state.localCommentIDs[this.props.comment.id];return b("React").jsx(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").jsx(b("XUISpinner.react"),{}),bootloadLoader:b("JSResource")("MultiPlacePageInfoCard.react").__setRef("UFICommentAttachment.react"),isLocallyComposed:c,postID:this.props.comment.ftentidentifier,actorID:this.props.comment.author},a.props))};d.renderUpsellInfo=function(a){__p&&__p();if(a.subtype){if(a.subtype=="question_triggered_page_msg"){var c;return(c=b("React")).jsx(c.Suspense,{fallback:c.jsx(b("XUISpinner.react"),{}),children:c.jsx(h,babelHelpers["extends"]({},a))})}if(a.subtype=="private_reply_user_msg"){var c;return(c=b("React")).jsx(c.Suspense,{fallback:c.jsx(b("XUISpinner.react"),{}),children:c.jsx(i,babelHelpers["extends"]({},a))})}}return b("React").jsx("span",{})};d.$4=function(a){return a+"_comment_attachment_"+this.props.comment.id+this.state.randomInstanceID};d.render=function(){__p&&__p();var a=this.$2(this.props.comment);if(a)if(a.type==="sticker")return this.renderSticker(a);else if(a.type==="gif"||a.type==="donation"||a.type==="TIP_JAR_PAYMENT"||a.type==="chat_command_result"||a.type==="marketplace_ecomm_product_item")return b("React").jsx("div",{ref:"contents",id:this.$4(a.type),children:b("React").jsx(b("XUISpinner.react"),{})});else if(a.type==="photo")return this.renderPhoto(a);else if(a.type==="live_share")return this.renderShare(a);else if(a.type=="comment_place_info")return this.renderPlaceInfo(a);else if(a.type=="live_comment_place_info")return this.renderLivePlaceInfo(a);else if(a.type=="upsell_info")return this.renderUpsellInfo(a);else return b("React").jsx("div",{ref:"contents"});return b("React").jsx("span",{})};return c}(b("React").Component);e.exports=a}),null);
__d("UFICommentAuthorName.react",["ix","cx","Badge.react","BootloadedComponent.react","Image.react","JSResource","React","TrackingNodes","UFIActor.react","UFISocialContext.react","asset","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("GroupMemberBadgeWithTooltip.react").__setRef("UFICommentAuthorName.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.author,d=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_NAME),e=null,f=a.isAuthorOriginalPoster&&!a.isFeatured;f&&(e=b("React").jsx("div",{className:"UFIOPIconContainer","data-tooltip-alignh":"center","data-hover":"tooltip","data-tooltip-content":"Original poster",children:b("React").jsx("i",{className:"UFIOriginalPosterIcon"})},"badge"));return b("React").jsxs(b("UFIActor.react"),{author:c,"data-ft":d,disableAuthorLink:a.disableAuthorLink,focusOnMount:a.focusOnMount,groupOrEventID:a.groupOrEventID,hovercardLocation:a.hovercardLocation,isAdminViewer:a.isAdminViewer,isAuthorBot:a.isAuthorBot,isAuthorNonCoworker:a.isAuthorNonCoworker,isAuthorWeakReference:a.isAuthorWeakReference,isPublic:this.props.isPublic,dialogUrl:a.dialogUrl,target:this.props.openLinkInNewTab?"_blank":"_self",onClick:this.props.onLinkClickCallback,showHovercard:a.showHovercard,useFirstName:a.useFirstName,children:[e,a.isFeatured?b("React").jsx(b("Badge.react"),{size:"xsmall",type:"verified"},"badge"):null,this.$1(c),this.$2(c),this.$3(),this.$4(),a.socialContext?b("React").jsx(b("UFISocialContext.react"),{topMutualFriend:a.authorProfiles[a.socialContext.topmutualid],otherMutualCount:a.socialContext.othermutualcount,commentAuthor:c}):null]},"author")};d.$2=function(a){var c=this.props.constituentBadge;if(c&&c.officeTitle&&c.representativeName&&c.commentId)return b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:b("React").jsx("div",{}),authorFirstName:a.firstName,authorId:a.id,commentId:c.commentId,ftId:c.ftId,isOwner:c.isOwner,officeTitle:c.officeTitle,representativeName:c.representativeName,representativeId:c.representativeId,upsellEnabled:c.upsellEnabled},"constituentTitle");return this.props.hasConstituentBadge?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:b("React").jsx("div",{}),authorFirstName:a.firstName,authorId:a.id,commentId:this.props.commentID},"constituentTitle"):null};d.$1=function(a){return this.props.hasFriendsOnlyBadge?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FriendsOnlyBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:b("React").jsx(b("Image.react"),{src:g("480274"),style:{marginLeft:"3px",verticalAlign:"-1px"}},"friendsOnlyBadge"),viewerIsAuthor:!!this.props.viewerIsAuthor,authorFirstName:a.firstName,commentPrivacyValue:this.props.commentPrivacyValue},"friendsOnlyBadge"):null};d.$3=function(){return!this.props.moderatorBadgeText?null:b("React").jsx(b("Image.react"),{className:"_4tvr",src:g("365780"),"data-hover":"tooltip","data-tooltip-content":this.props.moderatorBadgeText},"moderatorBadge")};d.$4=function(){var a=this.props.groupMemberBadge;return!a?null:b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(i,babelHelpers["extends"]({className:"_2ltv",badgeText:"",renderAsPill:!1,showText:!1},a))},"groupMemberBadge")};return c}(b("React").Component);a.propTypes={author:(c=b("prop-types")).object.isRequired,authorProfiles:c.object.isRequired,commentID:c.string,commentPrivacyValue:c.number,constituentBadge:c.object,groupMemberBadge:c.object,dialogUrl:c.string,disableAuthorLink:c.bool,focusOnMount:c.bool,groupOrEventID:c.string,hasConstituentBadge:c.bool,hasFriendsOnlyBadge:c.bool,hovercardLocation:c.string,isAdminViewer:c.bool,isAuthorBot:c.bool,isAuthorNonCoworker:c.bool,isAuthorWeakReference:c.bool,isAuthorOriginalPoster:c.bool,isFeatured:c.bool,isPublic:c.bool,moderatorBadgeText:c.string,showHovercard:c.bool,socialContext:c.object,useFirstName:c.bool,viewerIsAuthor:c.bool,openLinkInNewTab:c.bool,onLinkClickCallback:c.func};e.exports=a}),null);
__d("UFICommentBody.react",["cx","CommentPrivacyValue","IntlLang","Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UFICommentUtils","UFIConfig","UFIConstants","UnicodeBidi","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.commentText,d=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),e=b("UnicodeBidi").isDirectionLTR(c),f=!e,g=e&&b("Locale").isRTL()?"ltr":f&&!b("Locale").isRTL()?"rtl":null,h=b("IntlLang").getLang(c),i=b("UFICommentUtils").getCommentBodyInterpolator(a.groupOrEventID,a.ufiInstanceID,a.commentFBID,!!a.isLiveStreaming,a.commentPrivacy);i=b("React").jsx(b("TruncatedTextWithEntities.react"),{className:"UFICommentBody"+(a.showEmojisStandalone?" _iqk":""),interpolator:i,ranges:a.commentRanges,textDelightRanges:a.textDelightRanges,text:c,truncationPercent:b("UFIConstants").commentTruncationPercent,maxLength:a.maxLength,maxLines:a.maxLines,renderEmoticons:b("UFIConfig").renderEmoticons,renderEmoji:b("UFIConfig").renderEmoji,showEmojisStandalone:a.showEmojisStandalone,"data-ft":d,dir:g,lang:h,markViewerHasInteracted:this.props.markViewerHasInteracted,allowSeeMoreLinebreakOnLongWords:!0,shouldExpand:this.props.shouldExpand},"comment-body");if(a.socialContext)i=b("React").jsx("div",{children:i},"body");else{c=(e&&b("Locale").isRTL()?"_5wjy":"")+(e&&b("Locale").isRTL()?" _5wjz":"")+(f&&!b("Locale").isRTL()?" _5wj-":"")+(f&&!b("Locale").isRTL()?" _5wj_":"");i=c?b("React").jsx("div",{className:c,children:i},"body"):[" ",i]}return b("React").jsx("span",{children:i})};return c}(b("React").Component);a.propTypes={commentText:(c=b("prop-types")).string.isRequired,commentRanges:c.array,commentPrivacy:c.oneOf(Object.values(b("CommentPrivacyValue"))),textDelightRanges:c.array,showEmojisStandalone:c.bool,groupOrEventID:c.string,maxLength:c.number,maxLines:c.number,socialContext:c.object,markViewerHasInteracted:c.func,ufiInstanceID:c.string,commentFBID:c.oneOfType([c.string,c.number]),isLiveStreaming:c.bool,shouldExpand:c.bool};e.exports=a}),null);
__d("UFIComment.react",["ix","cx","fbt","requireCond","requireDeferred","Arbiter","AsyncRequest","BootloadedComponent.react","Bootloader","CurrentUser","Dialog","EmojiRenderer","FluxContainer","FRXServerFbt.react","cr:1157215","GamesVideoCommunityModerationController","HovercardLink","HTML","IdentityBadges.react","IdentityBadgeUtils","Image.react","InlineBlock.react","JSResource","LiveVideoPinnedCommentUtils","LivingRoomProfileTileBadge.react","LoadingDialog.react","NFXContextFactory","NFXURI","PrivateCommentsConfig","QE2Logger","React","ReactDOM","ShareNowConstants","ShimButton.react","SubscriptionsHandler","SutroBlingBarGatingConfig","SutroPhase2GatingConfig","Text.react","TrackingNodes","UFIActorIconContainer.react","UFICentralUpdates","UFICommentAction","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentLiveVideoAnnouncementImage.react","UFICommentMenu.react","UFICommentPlayerStatsCard.react","UFIComments","UFICommentTranslationLink.react","UFICommentTranslationText.react","UFICommentUtils","UFICommentVoteContainer.react","UFICommentVPVDTracker.react","UFICommentVPVTracker.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIConfig","UFIConstants","UFIImageBlock.react","UFIInsightsSharingCommentTag.react","UFILiveCommentRedesignActions.react","UFILiveCommentTimestamp.react","UFILivePinnedCommentStore","UFIODSLogger","UFIReactionBadgeDecorator.react","UFIRootRegistry","UFISharedDispatcher","UFIThreadedFacecastCommentsUtils","VideoTipJarCommentBackground.react","XRapidReportingDialogController","XUFIEditCommentNuxController","XUIButton.react","XUIText.react","asset","emptyFunction","fbglyph","gkx","joinClasses","keyMirror","prop-types","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("requireDeferred")("PresenceStatus"),k=b("UFIConstants").UFIStatus,l="share_on_comment_v1",m=b("keyMirror")({edit:!0,hide:!0,remove:!0,embed:!0,manageConstituentBadge:!0,delete_and_block:!0,delete_comment_with_feedback:!0,delete_comment_and_remove_commenter:!0,mute_member:!0,hide_text_delights:!0,bulk_review:!0,pin_by_author:!0,live_video_pin:!0,live_video_unpin:!0,report:!0,report_to_moderator:!0,community_moderated_delete:!0,mute:!0,stream_ban:!0,page_ban:!0}),n="ufi_comment_close_button",o="ufi_highlighted_comment";a="ufi_comment_menu_delete";c="ufi_comment_menu_edit";d="ufi_comment_menu_hide";var p="ufi_comment_menu_report";f="ufi_comment_menu_embed";h="ufi_comment_menu_manage_constituent_badge";var q="ufi_comment_menu_delete_and_block",r="ufi_comment_menu_delete_comment_and_remove_commenter",s="ufi_comment_menu_delete_comment_with_feedback",t="ufi_comment_menu_mute_member",u="ufi_comment_hide_text_delights",v="ufi_comment_menu_pin_by_author",w="ufi_comment_menu_unpin_by_author",x="ufi_comment_menu_live_video_pin",y="ufi_comment_menu_live_video_unpin",z="ufi_comment_menu_report_to_moderator",A="ufi_comment_menu_community_moderated_delete",B="ufi_comment_menu_mute",C="ufi_comment_menu_stream_ban",D="ufi_comment_menu_page_ban",E={testid:a,value:m.remove,label:i._("Delete Comment...")},F={testid:c,value:m.edit,label:i._("Edit...")},G={testid:d,value:m.hide,label:i._("Hide Comment")},H={testid:f,value:m.embed,label:i._("Embed")},I={testid:q,value:m.delete_and_block,label:i._("Delete Comment And Block User...")},J={testid:s,value:m.delete_comment_with_feedback,label:i._("Remove Comment")},K={testid:r,value:m.delete_comment_and_remove_commenter,label:i._("Delete Comment And Remove Member")},L={testid:a,value:m.remove,label:i._("Delete...")},M={testid:h,value:m.manageConstituentBadge,label:i._("Manage Constituent Badge")},N={testid:t,value:m.mute_member,label:i._("Mute Member")},O={testid:t,value:m.mute_member,label:i._("Unmute Member")},P={testid:u,value:m.hide_text_delights,label:i._("Remove Text Effects")},Q={testid:u,value:m.hide_text_delights,label:i._("Add Text Effects")},R={testid:v,value:m.pin_by_author,label:i._("Pin Comment")},S={testid:w,value:m.pin_by_author,label:i._("Unpin Comment")},T={testid:x,value:m.live_video_pin,label:i._("Pin Comment")},U={testid:y,value:m.live_video_unpin,label:i._("Unpin Comment")},V={testid:z,value:m.report_to_moderator,label:i._("Report to Moderator")},W={testid:A,value:m.community_moderated_delete,label:i._("Delete Comment")},X={testid:B,value:m.mute,label:i._("Mute")},Y={testid:C,value:m.stream_ban,label:i._("Ban From Stream")},aa={testid:D,value:m.page_ban,label:i._("Ban From Page")},ba=14,Z=3,$=null,ca=function(a){a=a.status;return a===k.FAILED_ADD||a===k.FAILED_EDIT},da=function(a,b){return!!a.tipOptionIndex&&b==="newsstand"};function ea(a){return a.commenterIsFOF!==void 0&&a.userIsMinor!==void 0&&a.reportLink!==void 0&&a.isBroadcast!==void 0&&a.showStreamBanControls!==void 0}c=function(a){__p&&__p();babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.getReportActionMenuData=function(){var a=this.props.contextArgs.frxActionTitle;return{testid:p,value:m.report,label:a?b("React").jsx(b("FRXServerFbt.react"),{blob:a}):null}};function d(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=null;d.$4=function(a){d.context.dispatch(b("UFICommentAction").markAsSpam(d.props.contextArgs,d.props.comment,a.target)),d.setState({markedAsSpamHere:!0})};d.$14=function(a){d.context.dispatch(b("UFICommentAction").markAsNotSpam(d.props.contextArgs,d.props.comment,a)),d.setState({markedAsSpamHere:!1})};d.$15=function(a){d.$16(a,function(){return d.setState({isInlinePageDeleted:!0})})};d.$17=function(a){d.context.dispatch(b("UFICommentAction").remove(d.props.contextArgs,d.props.comment,a.target,b("emptyFunction")))};d.$23=function(a){d.context.dispatch(b("UFICommentAction").inlineBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineBanned:!0})};d.$24=function(a){d.context.dispatch(b("UFICommentAction").undoInlineBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineBanned:!1})};d.$25=function(a){d.context.dispatch(b("UFICommentAction").inlineStreamBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineStreamBanned:!0})};d.$26=function(a){d.context.dispatch(b("UFICommentAction").undoInlineStreamBan(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineStreamBanned:!1})};d.$27=function(a){d.context.dispatch(b("UFICommentAction").inlineSuspension(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid,900)),d.setState({isInlineSuspended:!0})};d.$28=function(a){d.context.dispatch(b("UFICommentAction").undoInlineSuspension(d.props.contextArgs,d.props.comment,a,d.props.feedback.ownerid)),d.setState({isInlineSuspended:!1})};d.$31=function(a,c){__p&&__p();var e=c.item,f=e.getValue();window.setTimeout(function(){__p&&__p();var c=this.props,d=c.comment,g=c.contextArgs;c=c.feedback;if(f===m.remove)this.$17(a);else if(f===m.delete_and_block)this.$18(e);else if(f===m.delete_comment_with_feedback)this.$19(a);else if(f===m.delete_comment_and_remove_commenter)this.$20(a);else if(f===m.edit)this.context.dispatch(b("UFICommentAction").edit(g,d));else if(f===m.hide)this.$4(a);else if(f===m.report)this.$5(a);else if(f===m.report_to_moderator)this.$8(a);else if(f===m.community_moderated_delete)this.$9(a);else if(f===m.mute)this.$10(a);else if(f===m.stream_ban)this.$11(a);else if(f===m.page_ban)this.$12(a);else if(f===m.mute_member)this.$21(a);else if(f===m.bulk_review)this.context.dispatch(b("UFICommentAction").bulkReview(g,d));else if(f===m.hide_text_delights)this.$22(a);else if(f===m.embed)this.context.dispatch(b("UFICommentAction").embed(g,d));else if(f===m.manageConstituentBadge)this.context.dispatch(b("UFICommentAction").manageConstituentBadge(g,d));else if(f===m.pin_by_author)this.context.dispatch(b("UFICommentAction").pinByAuthor(g,d,!d.ispinnedbyauthor));else if(f===m.live_video_pin||f===m.live_video_unpin){var h=f===m.live_video_unpin;if(h&&g.isLiveVOD){var i=b("UFILivePinnedCommentStore").getPinEventID(g.ftentidentifier);i!=null&&this.$2.addSubscriptions(b("LiveVideoPinnedCommentUtils").unpinVODComment(d.id,i,g))}else b("LiveVideoPinnedCommentUtils").toggleCommentPin({commentFBID:d.fbid,commentID:d.id,contextArgs:g,isPinned:h})}else b("UFICentralUpdates").inform(f,{comment:d,feedback:c})}.bind(babelHelpers.assertThisInitialized(d)),0)};d.$32=function(){d.setState({showPinnedCommentNux:!1})};d.$35=function(a){d.setState({renderReactionBadgeAtBottom:a})};var e=c.comment;c=c.contextArgs;d.state={isHighlighting:e.highlightcomment,wasHighlighted:e.highlightcomment,markedAsSpamHere:!1,isInlinePageDeleted:!1,isInlineBanned:!1,isInlineSuspended:!1,isInlineStreamBanned:!1,loggedLiveUpdate:!1,showBody:!1,hideSpamComment:d.$3(),loadingDialogWhenSharing:!1,isHiddenInStreamingBecauseParentIsHidden:!1,hasSeenEditNux:!0,editNuxHelpUri:"",liveStreamingRedesignPopoverMenuShown:!1,renderReactionBadgeAtBottom:!0,showPinnedCommentNux:!!c.shouldShowPinnedCommentNux,authorPresenceStatus:0};return d}d.getStores=function(){return[b("UFILivePinnedCommentStore")]};d.calculateState=function(a,c){c=b("UFILivePinnedCommentStore").getPinnedCommentID(c.contextArgs.ftentidentifier);return babelHelpers["extends"]({},a,{currentPinnedCommentID:c})};c.$5=function(a){b("CurrentUser").isWorkUser()?this.$6(a):this.$7(a)};c.$8=function(a){var c=this;b("Bootloader").loadModules(["RelayFBEnvironment","ReportCommunityModerationEventMutation"],function(a,b){b=b.reportComment;b(a,c.props.comment.fbid,function(){})},"UFIComment.react")};c.$9=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"NONE")};c.$10=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"MUTE",900)};c.$11=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"STREAM_BAN")};c.$12=function(a){a=b("GamesVideoCommunityModerationController").get();a&&a.removeComment(this.props.comment.fbid,"PAGE_BAN")};c.$7=function(a){a=b("XRapidReportingDialogController").getURIBuilder().setString("context",this.$13()).getURI();new(b("AsyncRequest"))(a).send()};c.$6=function(a){new(b("AsyncRequest"))().setURI(b("NFXURI").withContextString(this.$13())).send()};c.$13=function(){var a="feed";this.props.contextArgs.location==="event"?a="event":this.props.feedback.isownerpage?a="page":this.props.feedback.grouporeventid&&this.props.feedback.grouporeventid.length>0&&(a="group");return b("NFXContextFactory").withEntReportable({reportable_ent_token:this.props.comment.fbid,story_location:a,entry_point:"comment"})};c.$16=function(a,c,d){d===void 0&&(d=!1),this.context.dispatch(b("UFICommentAction").remove(this.props.contextArgs,this.props.comment,a.target,c,d))};c.$18=function(a){this.context.dispatch(b("UFICommentAction").removeAndBlock(this.props.contextArgs,this.props.comment,a,b("emptyFunction")))};c.$19=function(a){this.context.dispatch(b("UFICommentAction").deleteCommentWithFeedback(this.props.contextArgs,this.props.comment,a.target))};c.$20=function(a){this.context.dispatch(b("UFICommentAction").delete_comment_and_remove_commenter(this.props.contextArgs,this.props.comment,a.target,b("emptyFunction")))};c.$21=function(a){this.context.dispatch(b("UFICommentAction").mute_member(this.props.contextArgs,this.props.comment,a.target,b("emptyFunction")))};c.$22=function(a){var c=this;this.context.dispatch(b("UFICommentAction").toggle_text_delights(this.props.contextArgs,this.props.comment,a.target));b("Bootloader").loadModules(["TextDelightNUXLogger"],function(a){a.menuItemClick(c.props.comment.fbid)},"UFIComment.react")};c.$29=function(a){this.$30()&&this.setState({liveStreamingRedesignPopoverMenuShown:a})};c.$33=function(){return[F,L]};c.$34=function(){this.setState({showBody:!1}),this.props.comment.translationdata||this.context.dispatch(b("UFICommentAction").translate(this.props.contextArgs,this.props.comment,"see_translation"))};c.$36=function(){__p&&__p();var a=null,c=null,d=null,e=null,f=b("UFICommentMenu.react").MenuType.CLOSE,g=this.props,h=g.comment;g=g.contextArgs;var j=h.canEditConstituentTitle,k=h.canembed&&b("UFIConfig").showCommentEmbedOption,l=h.canremove&&h.candeleteandblockcommenter,m=!1,n=!1,o=!1;if(this.$30()&&g.enablePinLiveComments&&!h.tipOptionIndex&&h.__typename!=="local"){var p=h.id===this.state.currentPinnedCommentID;if(g.islivestreaming)m=!p,n=p;else if(g.isLiveVOD&&p){p=b("UFILivePinnedCommentStore").getPinEventID(g.ftentidentifier);n=p!=null}}if(this.$3()){h.needsApproval?g=this.props.authorProfiles[h.author].name:g=this.props.feedback.actorname;return{closeTooltip:i._("Only you and {author_name} can see this comment",[i._param("author_name",g)]),menuType:b("UFICommentMenu.react").MenuType.TOOLTIP,onClick:a,menuData:c,menuUserSection:d,reportActionPossible:o}}p=this.props.contextArgs.feedLocationType===66?!1:this.props.hideAsSpamForPageAdmin;g=this.props.contextArgs.feedLocationType===36&&this.props.feedback.isownerpage&&b("gkx")("819513");var q=this.props.comment.candeletecommentwithfeedback;q=q?J:E;var r=!this.props.viewerIsAuthor&&(!h.canremove||g||b("CurrentUser").isWorkUser()&&b("gkx")("967282"));h.canremove&&!p?this.props.viewerIsAuthor&&h.canedit?(e=k?i._("Edit, delete or embed this"):i._("Edit or delete this"),f=b("UFICommentMenu.react").MenuType.EDIT,j?(c=[M],c=c.concat(this.$33())):c=this.$33()):this.props.showRemoveReportMenu?(k?e=r?i._("Remove, hide, report or embed this"):i._("Remove, hide or embed this"):e=r?i._("Remove, hide or report this"):i._("Remove or hide this"),c=[q,G],r&&(c.push(this.getReportActionMenuData()),o=!0)):this.props.feedback.customcommentactionlinks?(e=k?i._("Remove this"):i._("Remove or embed this"),c=[q],f=b("UFICommentMenu.react").MenuType.EDIT):(e=k?i._("Remove or embed this"):i._("Remove this"),!k&&!l&&!m&&!n?a=this.$17:c=[L]):this.props.feedback.customcommentactionlinks&&!g?(e=k?i._("Hide or embed this"):i._("Hide this"),c=[G],f=b("UFICommentMenu.react").MenuType.EDIT):h.canreport&&(k?e=r?i._("Hide, report or embed this"):i._("Hide or embed this"):e=r?i._("Hide or report this"):i._("Hide this"),c=[G],r&&(c.push(this.getReportActionMenuData()),o=!0));k&&(c||(c=[]),c.push(H),f=b("UFICommentMenu.react").MenuType.CHEVRON);h.canremove&&h.canviewerremovecommenter&&(d||(d=[]),d.push(K));l&&(c||(c=[]),c.push(I));typeof h.ispinnedbyauthor==="boolean"&&(h.canviewerpin&&!h.ispinnedbyauthor&&(c||(c=[]),c.push(R)),h.canviewerunpin&&h.ispinnedbyauthor&&(c||(c=[]),c.push(S)));if(m||n){c||(c=[]);p=m?T:U;c.length>0&&c[0]===F?c.splice(1,0,p):c.unshift(p);e=i._("Moderate comment")}h.canmutemembers&&!this.props.viewerIsAuthor&&(d||(d=[]),h.ismuted?d.push(O):d.push(N));h.canedit&&this.props.viewerIsAuthor&&this.$37(h)&&(c||(c=[]),h.text_delights_are_hidden?c.push(Q):c.push(P));if(this.props.feedback.customcommentactionlinks)for(var s in this.props.feedback.customcommentactionlinks){j=this.props.feedback.customcommentactionlinks[s];if(!j.showInMenu)continue;c||(c=[]);c.push({testid:j.type,value:j.type,label:j.title})}q=c?c.length:0;g=d?d.length:0;(q+g>1||f===b("UFICommentMenu.react").MenuType.CLOSE)&&(f=b("UFICommentMenu.react").MenuType.DOTS);r=b("GamesVideoCommunityModerationController").get();r&&r.shouldSubscribeToCommunityModerationEvents(this.props.contextArgs)&&(this.props.viewerIsAuthor?(c=this.$33(),e=i._("Edit, delete or embed this")):!this.props.comment.authorIsModerator?(c=[G],this.props.feedback.canviewermoderate?(c.push(W,X,Y,aa),e=i._("Hide or moderate this")):(e=i._("Hide or report this"),c.push(V)),h.canreport&&c.push(this.getReportActionMenuData())):c=[this.getReportActionMenuData()],c.push(H));return{closeTooltip:e,menuType:f,onClick:a,menuData:c,menuUserSection:d,reportActionPossible:o}};c.$38=function(){var a=this,c=b("XUFIEditCommentNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setHandler(function(b){a.setState({hasSeenEditNux:!!b.payload.seen_nux,editNuxHelpUri:b.payload.help_uri})}).send()};c.$37=function(a){if(a.body&&a.body.ranges&&a.canhidetextdelights){for(var b=0;b<a.body.ranges.length;b++)if(a.body.ranges[b].campaign)return!0;return a.text_delights_are_hidden}return!1};c.$39=function(){__p&&__p();var a=this;if(this.props.contextArgs.feedLocationType===130||this.props.contextArgs.feedLocationType===182||this.props.inReviewView)return b("React").jsx("div",{});var c=this.$36(),d=c.onClick,e=c.menuData,f=c.menuUserSection,g=c.closeTooltip;c=c.menuType;var h=null;this.props.comment.canedit&&this.props.viewerIsAuthor&&this.$37(this.props.comment)&&(h=b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("TextDelightNUX.react").__setRef("UFIComment.react"),container:this,contextRef:function(){return a.refs.comment_menu},nuxId:5551,instance:this.props.comment.fbid,children:i._("You can control whether you and your friends see text color and animation on this comment.")}),d===null&&(d=function(c){b("Bootloader").loadModules(["TextDelightNUXLogger"],function(b){b.menuClick(a.props.comment.fbid)},"UFIComment.react")}));var j=(this.$3()?"":"UFICommentCloseButton")+(d===null&&e===null&&!this.$3()?" hdn":"")+(h!==null?" UFICommentCloseButtonNux":"")+(this.$3()?" UFICommentSpamTooltip":""),k=null,l=null;this.props.contextArgs.viewas&&(k="/ajax/profile/link_disabled_in_viewas.php",l="dialog",d=null);var m=this.$40(),o=this.$30(),p=function(a){d!=null&&d(a)},q=b("GamesVideoCommunityModerationController").get();q=q&&q.shouldSubscribeToCommunityModerationEvents(this.props.contextArgs);k=b("React").jsx(b("UFICommentMenu.react"),{ajaxify:k,"aria-label":g,className:j,"data-testid":n,onClick:p,rel:l,tooltip:g,menuUserSection:f,menuData:e,menuType:c,onMenuShown:this.$32,onAction:this.$31,popoverMenuPosition:o||q?"above":null,ref:"comment_menu",showRedesign:o,showPinnedCommentNux:this.state.showPinnedCommentNux,onPopoverMenuShow:function(){return a.$29(!0)},onPopoverMenuHide:function(){return a.$29(!1)},commentID:this.props.comment.fbid});return b("React").jsxs("span",{className:(m?"":"_36rj")+(m?" _2tm9":"")+(m?" _4-4u":"")+(m?" _6cdx":"")+(this.state.liveStreamingRedesignPopoverMenuShown||((j=this.props.contextArgs.liveVideoCommentRedesignConfig)==null?void 0:j.alwaysShowButtons)?" _6jcy":""),children:[o?b("React").jsx(b("UFILiveCommentRedesignActions.react"),{contextArgs:this.props.contextArgs,comment:this.props.comment,commentMenu:k,feedback:this.props.feedback,isInLiveVideoReplyMode:!!this.props.isInLiveVideoReplyMode}):k,h,this.$41()]})};c.$41=function(){var a=this,c=this.state.showPinnedCommentNux;return c?b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("UFIGroupsPinnedCommentsNux.react").__setRef("UFIComment.react"),contextRef:function(){return a.refs.comment_menu},commentID:this.props.comment.fbid}):null};c.componentDidMount=function(){__p&&__p();var a=this,c=this.props,d=c.comment,e=c.contextArgs;c=c.orderingMode;this.$2=new(b("SubscriptionsHandler"))();if(e.source===1){var f=!!d.parentcommentid;f?b("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount","legacy"):b("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount","legacy")}d.trackingID&&this.props.isOptimisticallyRendered&&b("UFICommonInteractionLogger").endInteraction(d.trackingID+b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT);if(this.state.isHighlighting){var g=e.feedLocationType===137,h=b("ReactDOM").findDOMNode(this),i=d.body&&d.body.text;i&&(h=this.$1);var k=parseInt(d.scrolltopoffset||0,10);this.$2.addSubscriptions(b("Bootloader").loadModules(["UFIScrollHighlight"],function(a){window.setTimeout(function(){b("UFIRootRegistry").isSnowliftNode(e.rootid)||g?g?a.actOnWorkplaceHubSnowliftElem(h,k):a.actOnSnowliftElem(h,k):d.privacy_value===1&&b("PrivateCommentsConfig").dark_comment_theme_enabled?a.actOnPrivateComment(h,k):a.actOn(h,k,i)},0)},"UFIComment.react"));this.setState({isHighlighting:!1})}d.fbid&&window.setTimeout(function(){return b("UFISharedDispatcher").dispatch(b("UFICommentAction").mounted(e,{comment:d,isLivePinnedComment:Boolean(a.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(a.props.isInLiveVideoReplyMode)}))},0);f=function(b,c){return a.setState({markedAsSpamHere:!0})};b("Arbiter").subscribe("bulk_actions_hidden",f);var l=d.parentcommentid;if(c==="live_streaming"&&!!l){this.$2.addSubscriptions(b("UFICentralUpdates").subscribe("update-actions",function(c,d){__p&&__p();if(!d.actions)return;d.actions.forEach(function(c){switch(c.actiontype){case"fa-type:confirm-remove":if(c.commentid===l){c=b("UFIComments").getComment(l);a.setState({isHiddenInStreamingBecauseParentIsHidden:c?c.status===b("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}break;default:return}})}));f=b("UFIComments").getComment(l);this.setState({isHiddenInStreamingBecauseParentIsHidden:f?f.status===b("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}e.enableCommentPresence&&!this.props.viewerIsAuthor&&this.$2.addSubscriptions(j.onReady(function(b){var c=function(){a.setState({authorPresenceStatus:b.get(d.author)})};a.$2.addSubscriptions(b.subscribe("change",c));c()}))};c.componentDidUpdate=function(a){this.props.comment.trackingID&&a.isOptimisticallyRendered&&!this.props.isOptimisticallyRendered&&b("UFICommonInteractionLogger").endInteraction(this.props.comment.trackingID+b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT),this.props.comment.originalTimestamp&&this.props.comment.canedit&&this.state.editNuxHelpUri===""&&this.$38(),a.comment.attachment==null&&this.props.comment.attachment!=null&&b("Arbiter").inform("ufi/commentChanged",{ftentidentifier:this.props.contextArgs.ftentidentifier})};c.componentWillUnmount=function(){var a=this;this.props.comment.fbid&&window.setTimeout(function(){return b("UFISharedDispatcher").dispatch(b("UFICommentAction").unmounted(a.props.contextArgs,{comment:a.props.comment,isLivePinnedComment:Boolean(a.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(a.props.isInLiveVideoReplyMode)}))},0);this.$2.release()};c.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return a.comment!==c.comment||a.showReplyLink!==c.showReplyLink||a.isFirst!==c.isFirst||a.isLast!==c.isLast||a.isFirstCommentComponent!==c.isFirstCommentComponent||a.isLastCommentComponent!==c.isLastCommentComponent||a.isFirstComponent!==c.isFirstComponent||a.isLastComponent!==c.isLastComponent||a.isFeatured!==c.isFeatured||a.hasPartialBorder!==c.hasPartialBorder||a.showTranslation!==c.showTranslation||a.shouldTranslateAllVisibleComments!==c.shouldTranslateAllVisibleComments||b.wasHighlighted!==d.wasHighlighted||b.isHighlighting!==d.isHighlighting||b.markedAsSpamHere!==d.markedAsSpamHere||b.isInlinePageDeleted!==d.isInlinePageDeleted||b.isInlineBanned!==d.isInlineBanned||b.isInlineStreamBanned!==d.isInlineStreamBanned||b.isInlineSuspended!==d.isInlineSuspended||b.showBody!==d.showBody||b.hideSpamComment!==d.hideSpamComment||b.loadingDialogWhenSharing!==d.loadingDialogWhenSharing||b.isHiddenInStreamingBecauseParentIsHidden!==d.isHiddenInStreamingBecauseParentIsHidden||b.hasSeenEditNux!==d.hasSeenEditNux||b.currentPinnedCommentID!==d.currentPinnedCommentID||b.showPinnedCommentNux!==d.showPinnedCommentNux};c.$30=function(){var a=this.props.contextArgs.liveVideoCommentRedesignConfig;return!!a&&a.showRedesign&&this.props.orderingMode==="live_streaming"};c.$3=function(){var a=this.props.comment,b=a.needsApproval,c=a.canAppeal,d=a.canSecure,e=a.appealStatus;a=a.isApproved;return b||c||d||(e==="APPEALED"||e==="SECURED_ACCOUNT")&&!a};c.render=function(){__p&&__p();var a=this;if(this.state.isHiddenInStreamingBecauseParentIsHidden)return null;var c=this.props,d=c.contextArgs,e=c.comment;c=c.feedback;var f=e.status===k.DELETED,g=e.status===k.LIVE_DELETED,h=e.status===k.SPAM_DISPLAY,j=this.state.hideSpamComment;if(f)return null;f=this.state.markedAsSpamHere;var l=this.state.isInlinePageDeleted,m=this.props.hideAsSpamForPageAdmin,n=this.props.communityModerationState,p=this.state.isInlineBanned,q=this.state.isInlineStreamBanned,r=this.state.isInlineSuspended;if(n==="REMOVED"&&b("cr:1157215")!=null)return b("React").jsx(b("cr:1157215"),{authorIsViewer:this.props.viewerIsAuthor,menuData:[L],onAction:this.$31});e.islive&&!this.state.loggedLiveUpdate&&this.setState({loggedLiveUpdate:!0});n=ea(e);var s=!e.status&&(e.isunseen||e.__typename==="local");if(!e.status&&c.lastseentime){var t=e.originalTimestamp||(e.timestamp||{}).time||0;s=s||t>c.lastseentime}t=d.markedcomments;t&&t[e.legacyid]&&(s=!0);(this.props.orderingMode==="live_streaming"||this.props.isLivePinnedComment)&&(s=!1);c="UFIRow"+(this.props.inReviewView?" UFICommentInReview":"")+(this.props.isFirst?" _48ph":"")+(this.props.isLast?" UFILastComment":"")+(this.props.isFirstCommentComponent?" _48pi":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(!this.$40()&&(this.props.isFirstComponent||b("SutroBlingBarGatingConfig").enabled&&this.props.isFirstCommentComponent)?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.props.isLivePinnedComment?" UFILivePinnedComment":"");t=i._("Comment");var u=i._("Comment reply");u=e.parentcommentid?u:t;if(n)if($){t=null;n=null;var v=null,w=null,x=null,y=null;m?(v=p?this.$24:this.$23,w=q?this.$26:this.$25,y=r?this.$28:this.$27,l?t=i._("You've deleted this comment so no one can see it."):f&&(t=i._("Now this is only visible to the person who wrote it and their friends."),x=this.$15,n=this.$14)):f&&(t=i._("This comment has been hidden."),x=this.$15,n=this.$14);var z=b("GamesVideoCommunityModerationController").get();z&&z.shouldSubscribeToCommunityModerationEvents(d)&&(v=function(){z.removeComment(a.props.comment.fbid,"PAGE_BAN")},w=function(){z.removeComment(a.props.comment.fbid,"STREAM_BAN")},y=function(){z.removeComment(a.props.comment.fbid,"MUTE",900)},x=function(){z.removeComment(a.props.comment.fbid,"NONE")});if(t)return b("React").jsx("div",{className:c,role:"article","aria-label":u,children:b("React").jsx($,{notice:t,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:n,onBanAction:v,onStreamBanAction:w,onSuspendAction:y,onDeleteAction:x,isInlineBanned:p,isInlinePageDeleted:l,isInlineStreamBanned:q,isInlineSuspended:r,hideAsSpamForPageAdmin:m,pageID:this.props.feedback.ownerid})})}else b("Bootloader").loadModules(["UFICommentRemovalControls.react"],function(a){$=a,window.setTimeout(function(){this.forceUpdate()}.bind(this))}.bind(this),"UFIComment.react");f="comment_"+b("uniqueID")();t=b("joinClasses")(c,"UFIComment"+(ca(e)?" UFICommentFailed":"")+(b("PrivateCommentsConfig").dark_comment_theme_enabled&&e.privacy_value===1?" UFIPrivateCommentDarkTheme":"")+(da(e,d.location)?" UFITipJarComment":"")+(g||h||this.props.isTranslucent||this.$3()&&!j||e.parentNeedsApproval?" UFITranslucentComment":"")+(this.state.isHighlighting?" highlightComment":"")+" _4oep"+(this.props.hasPartialBorder?" UFIPartialBorder":"")+(s?" UFIUnseenItem":"")+(e.isAnnouncement?" UFICommentLiveVideoAnnouncement":"")+(e.isLivingRoomAnnouncement?" UFICommentLivingRoomAnnouncement":""));n=this.renderComment();v=d.mayLogVPVs&&this.props.orderingMode==="ranked_threaded";e.__typename!=="local"&&!e.isAnnouncement&&(v&&(n=b("React").jsx(b("UFICommentVPVTracker.react"),{comment:e,contextArgs:d,children:n})),n=b("React").jsx(b("UFICommentVPVDTracker.react"),{renderedComment:{comment:e,isLivePinnedComment:Boolean(this.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(this.props.isInLiveVideoReplyMode)},contextArgs:this.props.contextArgs,children:n}));return b("React").jsx("div",{id:f,className:t,role:"article","aria-label":u,"data-testid":this.state.wasHighlighted?o:null,"data-ft":this.props["data-ft"],children:n})};c.$42=function(a,c){__p&&__p();var d=this,e=this.props,f=e.comment,g=e.feedback,h=this.state.hideSpamComment,j=f.appealStatus,k=f.body?f.body.text:"",l=b("UFICommentUtils").shallowCopyRanges(f.body&&f.body.ranges),m=b("UFICommentUtils").shallowCopyRanges(f.body&&f.body.delight_ranges),n=b("React").jsx(b("ShimButton.react"),{className:"UFICommentShowComment",form:"link",onClick:function(){return d.setState({hideSpamComment:!1})},children:i._("Show comment")});if(h&&this.$3()){if(j==="SECURED_ACCOUNT"&&f.needsApproval===!1){h=b("React").jsx(b("Text.react"),{children:i._({"*":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in {number} days.","_1":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in 1 day."},[i._plural(f.daysToExpire,"number")])});j=b("React").jsx(b("ShimButton.react"),{className:"UFICommentShowComment",form:"link",onClick:function(a){return d.$17(a)},children:i._("Delete")});return b("React").jsxs("span",{children:[h,n,i._("or"),j]})}h=f.needsApproval?b("React").jsx(b("Text.react"),{children:i._("{name}'s comment was marked as spam.",[i._param("name",c)])}):b("React").jsx(b("Text.react"),{children:i._("Your comment was marked as spam.")});return b("React").jsxs("span",{children:[h,n]})}k=b("UFICommentUtils").getCommentTextWithTruncatedURIs(l,k);j=null;c=null;!e.isLocallyComposed&&!this.state.wasHighlighted&&(c=b("UFIConstants").commentTruncationLength,j=b("UFIConstants").commentTruncationMaxLines);if(f.body&&f.body.markdown_enabled&&f.body.markup&&b("HTML").isHTML(f.body.markup))return b("React").jsx("span",{dangerouslySetInnerHTML:f.body.markup});if(f.isJoinEvent)return b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIJoinEvent.react").__setRef("UFIComment.react"),bootloadPlaceholder:b("React").jsx("span",{}),comment:f});h=this.$43(k);return b("React").jsx(b("UFICommentBody.react"),{socialContext:f.socialcontext,commentText:k,commentRanges:l,commentPrivacy:f.privacy_value,textDelightRanges:m,showEmojisStandalone:h,groupOrEventID:g.grouporeventid,maxLength:c,maxLines:j,markViewerHasInteracted:this.props.markViewerHasInteracted,shouldExpand:a,ufiInstanceID:this.props.contextArgs.instanceid,commentFBID:f.fbid,isLiveStreaming:e.contextArgs.islivestreaming})};c.$43=function(a){if(!a||a.length>ba*Z)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=Z};c.$44=function(a){var c=this;this.setState({loadingDialogWhenSharing:!0});a=a&&a.shareOptions&&a.shareOptions.shareNowURI?a.shareOptions.shareNowURI:null;a&&new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){c.setState({loadingDialogWhenSharing:!1}),c.$45(a.payload.message||b("ShareNowConstants").success)}).setErrorHandler(function(a){c.setState({loadingDialogWhenSharing:!1}),c.$45(a.payload.message||b("ShareNowConstants").error)}).send()};c.$45=function(a){return new(b("Dialog"))().setBody(a).setAutohide(2500).setModal(!0).show()};c.$46=function(a){return this.$47(a)?b("React").jsx("span",{className:"UFICommentShareOptionsItem",children:b("React").jsx(b("XUIButton.react"),{image:b("React").jsx(b("Image.react"),{src:g("363444")}),label:i._("Send a Message"),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.shareMessageURI?a.shareOptions.shareMessageURI:null,rel:"dialog",use:"default"})}):null};c.$48=function(a){return this.$49(a)?b("React").jsx("span",{className:"UFICommentShareOptionsItem",children:b("React").jsx(b("XUIButton.react"),{image:b("React").jsx(b("Image.react"),{src:g("363577")}),label:i._("Share..."),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.sharePostURI?a.shareOptions.sharePostURI:null,rel:"dialog",use:"default"})}):null};c.$50=function(a){var c=this,d=a&&a.shareOptions&&a.shareOptions.privacyText?i._("Share Now ({privacyText})",[i._param("privacyText",a.shareOptions.privacyText)]):"";return this.$51(a)?b("React").jsx("span",{className:"UFICommentShareOptionsItem",children:b("React").jsx(b("XUIButton.react"),{image:b("React").jsx(b("Image.react"),{src:g("113894")}),label:d,href:"#",onClick:function(){return c.$44(a)},use:"default"})}):null};c.$51=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareNowURI!=null};c.$47=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareMessageURI!=null};c.$49=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.sharePostURI!=null};c.$52=function(){return b("React").jsx("div",{children:i._("Share Post:")})};c.$53=function(a){a=a.contextArgs.shareLinkConfig;var c=this.$50(a),d=this.$48(a);a=this.$46(a);var e=this.$52(),f=this.$54(),g=c||d||a;b("QE2Logger").logExposureForUser(l);return g?b("React").jsxs("span",{className:"UFICommentShareOptionsContainer",children:[b("React").jsx("span",{className:"UFICommentShareOptionsDescription",children:e}),b("React").jsxs("span",{className:"UFICommentShareOptions",children:[c,d,a,f]})]}):null};c.$54=function(){return b("React").jsx(b("LoadingDialog.react"),{shown:this.state.loadingDialogWhenSharing})};c.$55=function(a,c,d){if(c.isLivingRoomAnnouncement){var e;return(e=b("React")).jsxs("div",{children:[e.jsx(b("InlineBlock.react"),{alignv:"middle",height:0,children:d}),e.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFILivingRoomAnnouncementCTA.react").__setRef("UFIComment.react"),bootloadPlaceholder:e.jsx("span",{}),comment:c})]})}return b("React").jsxs("div",{className:"UFICommentLiveVideoAnnouncementBody _4qkn",children:[b("React").jsx(b("InlineBlock.react"),{alignv:"middle",className:"UFICommentLiveVideoAnnouncementMessage",height:0,children:d}),b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFILiveVideoAnnouncementCTAContainer.react").__setRef("UFIComment.react"),bootloadPlaceholder:b("React").jsx("span",{}),comment:c,contextArgs:a})]})};c.renderComment=function(){__p&&__p();var a=this,c,d=this.props,e=d.comment,f=d.permalink,h=d.feedback,j=this.state.authorPresenceStatus,l=d.authorProfiles[e.author],m=e.status===k.SPAM_DISPLAY,n=e.status===k.LIVE_DELETED,o=this.$40();m=!(m||n||e.isAnnouncement||o);n=!1;this.props.featuredCommentIDs&&this.props.featuredCommentIDs.indexOf(this.props.comment.fbid)>-1&&(n=!0);var p=h.canremoveall||e.hiddenbyviewer,q=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.SMALL_ACTOR_PHOTO),r;if(!d.contextArgs.viewas&&!e.isAnnouncement){if(!l)throw new Error("Got unexpected null author on comment "+JSON.stringify(e)+" with profiles "+JSON.stringify(d.authorProfiles));r=b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(l,h.grouporeventid,e.hovercardlocation?e.hovercardlocation:"ufi",e.isauthorweakreference,{on_public_ufi:h.ispublic}).toString()}var s=e.isAnnouncement?null:b("React").jsx(b("UFICommentAuthorName.react"),{author:l,authorProfiles:d.authorProfiles,commentID:e.id?e.id.toString():null,commentPrivacyValue:e.privacy_value,constituentBadge:e.constituentTitle,disableAuthorLink:d.contextArgs.disableCommentAuthorLink||h.livegamingdisableauthorlinks,focusOnMount:d.focusOnMount,groupMemberBadge:e.groupmemberbadge,groupOrEventID:h.grouporeventid,isAdminViewer:d.feedback.isadminviewer,isAuthorBot:e.isauthorbot,isAuthorNonCoworker:e.isauthornoncoworker,isAuthorWeakReference:e.isauthorweakreference,isAuthorOriginalPoster:e.isauthororiginalposter,isFeatured:d.isFeatured,isPublic:h.ispublic,dialogUrl:e.dialogurl,hasConstituentBadge:e.hasConstituentBadge,hasFriendsOnlyBadge:e.hasFriendsOnlyBadge,hovercardLocation:e.hovercardlocation,moderatorBadgeText:e.moderator_badge_text,showHovercard:!!r,socialContext:e.socialcontext,openLinkInNewTab:d.contextArgs.islivestreaming||d.contextArgs.isLiveVOD||d.contextArgs.isActiveLivingRoom,viewerIsAuthor:!!d.viewerIsAuthor}),t=this.$42(n,s),u=d.contextArgs.isActiveLivingRoom&&!b("gkx")("943109")?null:e.translationdata,v=u&&u.translatedText&&u.translatedText.text,w=!v||this.state.showBody||!!u&&u.trigger==="logged_out_auto_translation";v=this.props.showTranslation&&!u||!!u&&(!w||!v||u.trigger==="logged_out_auto_translation");var x;if(e.isAnnouncement)x=this.$55(d.contextArgs,e,t);else{var y;(e.istranslatable||!!u)&&(y=d.contextArgs.isActiveLivingRoom?d.shouldTranslateAllVisibleComments?b("React").jsxs("span",{children:[b("React").jsx(b("UFICommentTranslationText.react"),{shouldExpand:n,showTranslation:d.shouldTranslateAllVisibleComments,translationData:u}),b("React").jsx("span",{className:"_81y9",children:i._("Automatically Translated")})]}):null:b("React").jsx("div",{children:b("React").jsx(b("UFICommentTranslationText.react"),{shouldExpand:n,showTranslation:v,translationData:u})}));x=b("React").jsxs("span",{children:[w||d.contextArgs.isActiveLivingRoom&&!d.shouldTranslateAllVisibleComments?t:null,y]})}n=null;d.comment.insightsComment&&(n=b("React").jsx(b("UFIInsightsSharingCommentTag.react"),{showMiddot:!0,feedbackTargetID:d.contextArgs.ftentidentifier,commentId:d.comment.insightsComment.ufiCommentId,formattedValue:d.comment.insightsComment.insightsComment.formattedValue}));t=null;(d.contextArgs.isLiveVOD||!d.contextArgs.islivestreaming&&d.contextArgs.showVODCommentTimestamps&&d.comment.videoTimeOffset)&&(t=b("React").jsx(b("UFILiveCommentTimestamp.react"),{comment:e,contextArgs:d.contextArgs,isInLiveVideoReplyMode:!!d.isInLiveVideoReplyMode}));var z=!1;this.props.feedback.isgamingvideo&&this.props.contextArgs.feedLocationType===131&&((c=e.attachment)==null?void 0:c.type)==="share"&&(z=!0);c=z?null:b("React").jsx(b("UFICommentAttachment.react"),{allowCustomStickers:!0,comment:d.comment,isPinnedLivingRoomPhotoComment:this.props.isLivePinnedComment&&d.contextArgs.isActiveLivingRoom&&e.photo_comment&&!this.props.isStaticUFILoading});var A=b("React").jsx(b("UFICommentPlayerStatsCard.react"),{comment:d.comment}),B=l&&l.living_room_presence_badge==="HOST"?b("React").jsx(b("LivingRoomProfileTileBadge.react"),{asset:null,isCommentating:!1,isSpeaking:!1,size:"regular",useBackgroundColor:!1}):null,C;if(this.state.hideSpamComment)C=b("React").jsx("div",{});else if(e.isAnnouncement)C=b("React").jsx(b("UFICommentLiveVideoAnnouncementImage.react"),{accentColor:e.accentColor,contextArgs:d.contextArgs,glyphName:e.glyphName,image:e.image,isJoinEvent:e.isJoinEvent});else{var D=!h.livegamingdisableauthorlinks&&(l.uri||l.isBusinessPersona),E=D?b("UFICommentUtils").annotateProfileURIIfPublic(h.ispublic,l.uri):null;C=b("React").jsx(b("UFIActorIconContainer.react"),{actorID:e.author});var F=d.contextArgs.islivestreaming||d.contextArgs.isLiveVOD?"_blank":"_self";e.dialogurl?C=b("React").jsxs("a",{className:"UFICommentAuthorWithPresence","data-ft":q,"data-hovercard":r,ajaxify:e.dialogurl,rel:"dialog",target:F,href:E,children:[C,B,b("React").jsx("div",{className:"UFICommentAuthorPresence"+(j===2?" UFICommentAuthorActive":"")+(B!==null?" UFICommentAuthorLivingRoomHost":"")})]}):D&&(C=b("React").jsxs("a",{className:"UFICommentAuthorWithPresence","data-ft":q,"data-hovercard":r,target:F,href:E,children:[C,B,b("React").jsx("div",{className:"UFICommentAuthorPresence"+(j===2?" UFICommentAuthorActive":"")+(B!==null?" UFICommentAuthorLivingRoomHost":"")})]}))}D=null;if(this.props.isLivePinnedComment){q=i._("Pinned Comment");D=b("React").jsxs("span",{className:"UFILivePinnedCommentLabel",children:[b("React").jsx(b("Image.react"),{className:"UFILivePinnedCommentGlyph",src:g("139486")}),q]})}F=e.tipOptionIndex?b("React").jsx(b("VideoTipJarCommentBackground.react"),{tipOptionIndex:e.tipOptionIndex}):null;E=e.body&&e.body.text;j=!1;B=!1;E&&(B=this.$43(e.body.text));q=!this.state.hideSpamComment&&(e.photo_comment||e.video_comment||e.attachment||e.file_comment);q&&B&&(x=b("React").jsxs("div",{className:"_26f8",children:[x,m?this.$39():null]}));var G=null;if(!this.state.hideSpamComment&&e.privacy_value===1&&(b("PrivateCommentsConfig").privacy_text_above_comment_enabled||b("PrivateCommentsConfig").privacy_text_inside_comment_enabled)){l=d.viewerIsAuthor?h.actorshortname||h.actorname:l.firstName||l.name;G=b("React").jsxs("div",{className:"UFIPrivateCommentLabel"+(e.parentcommentid?" UFIPrivateCommentReplyLabel":"")+(!E&&!e.isAnnouncement||B?" UFIPrivateCommentActorOnly":""),children:[b("React").jsx("div",{className:"UFIPrivateCommentLabelIcon"}),e.parentcommentid?null:b("React").jsx("div",{className:"UFIPrivateCommentLabelText",children:i._("Only you and {user} can see this",[i._param("user",l)])})]})}l=e.parentcommentauthorid;var H=null;if(l!=null){l=d.authorProfiles[l];if(l&&!d.isInLiveVideoReplyMode&&d.orderingMode==="live_streaming"){l=i._("Replying to {name}",[i._param("name",l.firstName)]);H=b("React").jsx("div",{className:"_27di",children:this.$30()?b("React").jsx("a",{className:"_2iep _2iex",href:"#",onClick:b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(e,d.contextArgs,h),children:l}):b("React").jsx(b("XUIText.react"),{size:"body3",color:"secondary",children:l})})}}l=(E||e.isAnnouncement)&&!B?b("IdentityBadgeUtils").commentColorAnimationClass(e,h,d.contextArgs,d.isOptimisticallyRendered):null;var I=e.identityBadges&&e.identityBadges.length>0?b("React").jsx(b("IdentityBadges.react"),{badgeColorVariant:l!=null?"TEMPORARY":"NONE",badges:e.identityBadges,canShowMultipleBadges:d.contextArgs.canShowMultipleBadges,commentID:e.fbid}):null;H=b("React").jsx("span",{className:b("joinClasses")((!E&&!e.isAnnouncement?"UFICommentActorOnly":"")+(E||e.isAnnouncement?" UFICommentActorAndBody":"")+(e.isJoinEvent?" _4ql9":"")+(e.isAnnouncement&&e.ctaAction!=="none"?" _4qla":"")+(B?" _3re2":""),l),ref:function(b){a.$1=b},children:b("React").jsxs("div",{className:"UFICommentActorAndBodySpacing",children:[H,I,this.state.hideSpamComment?null:s,n,t,s||t?" ":null,b("PrivateCommentsConfig").privacy_text_inside_comment_enabled?G:null,x]})});n=b("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments?e.attachment&&(e.attachment.type==="comment_place_info"||e.attachment.type==="comment_product_info"||e.attachment.type==="gif")&&!e.photo_comment&&!e.video_comment:e.attachment&&(e.attachment.type==="share"||e.attachment.type==="comment_place_info"||e.attachment.type==="comment_product_info"||e.attachment.type==="gif")&&!e.photo_comment&&!e.video_comment;var J=b("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments&&e.attachment&&e.attachment.type==="share";q?c=b("React").jsx(b("UFIReactionBadgeDecorator.react"),{comment:e,feedback:h,contextArgs:d.contextArgs,isFlexibleWidthAttachment:J,isFullWidthAttachment:n,showLiveStreamingRedesign:this.$30(),onRenderAtBottomChange:this.$35,children:c}):B?H=b("React").jsxs("span",{className:b("joinClasses")((!E&&!e.isAnnouncement?"UFICommentActorOnly":"")+(E||e.isAnnouncement?" UFICommentActorAndBody":"")+(e.isJoinEvent?" _4ql9":"")+(B?" _3re2":""),l),ref:function(b){a.$1=b},children:[I,this.state.hideSpamComment?null:s,t,s||t?" ":null,b("PrivateCommentsConfig").privacy_text_inside_comment_enabled?G:null,b("React").jsxs("div",{className:"_26f8",children:[b("React").jsx(b("UFIReactionBadgeDecorator.react"),{comment:e,feedback:h,contextArgs:d.contextArgs,showLiveStreamingRedesign:this.$30(),onRenderAtBottomChange:this.$35,children:x}),m?this.$39():null]})]}):H=b("React").jsx(b("UFIReactionBadgeDecorator.react"),{comment:e,feedback:h,contextArgs:d.contextArgs,showLiveStreamingRedesign:this.$30(),onRenderAtBottomChange:this.$35,children:H});j=!0;!E&&c?c=b("React").jsxs("div",{className:"_26f8",children:[c,m?this.$39():null]}):!B&&(E&&!c||E&&c)&&(H=b("React").jsxs("div",{className:"_26f8",children:[H,m?this.$39():null]}));var K;(e.istranslatable||!!u)&&(K=b("React").jsx(b("UFICommentTranslationLink.react"),{translationData:u,showTranslation:v,isShowingOriginal:w,onSeeTranslation:function(){return a.$34()},onSeeOriginal:function(){return a.setState({showBody:!0})},shownInCommentActions:!0}));q=e.isAnnouncement||this.state.hideSpamComment||this.props.inReviewView||this.props.contextArgs.feedLocationType===130||this.props.contextArgs.feedLocationType===182||this.$30()?null:b("React").jsx(b("UFICommentActions.react"),{comment:e,feedback:h,hideReactionCount:j,parentCanComment:d.parentCanComment,permalink:f,viewerCanMarkNotSpam:Boolean(p),showPermalink:d.showPermalink,showReplyLink:d.showReplyLink,translateLink:K,contextArgs:d.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:d.hideAsSpamForPageAdmin||this.state.hideSpamComment,hideSpamComment:this.state.hideSpamComment,orderingMode:d.orderingMode,isInLiveVideoReplyMode:d.isInLiveVideoReplyMode,isAuthorPinnedComment:d.isAuthorPinnedComment,renderCommentCloseButton:function(){return a.$39()},displayVerticalCommentVote:o,hasSeenEditNux:this.state.hasSeenEditNux,editNuxHelpUri:this.state.editNuxHelpUri,onEditNuxCloseClick:function(){a.setState({hasSeenEditNux:!0})},shouldHideAttachment:z});J=b("UFIComments").getCacheVariable("shareOnComment");n=this.props.contextArgs.feedLocationType===131&&this.props.isLocallyComposed&&J&&J[e.ftentidentifier]===e.id&&!e.parentcommentid?this.$53(d):null;l=o?b("React").jsx(b("UFICommentVoteContainer.react"),{comment:e,contextArgs:d.contextArgs,feedback:h,UIVersion:e.commentVoteUIVersion,isFirstComment:this.props.isFirstCommentComponent}):null;I=this.$30()&&e.reactioncount>0;s=b("React").jsxs("div",{children:[D,b("PrivateCommentsConfig").privacy_text_above_comment_enabled&&!e.parentcommentid?G:null,b("React").jsxs(b("UFIImageBlock.react"),{spacing:"medium",children:[C,b("React").jsxs("div",{className:o?"UFICommentContentBlockWithVote":"",children:[b("React").jsxs("div",{className:"UFICommentContentBlock",children:[b("React").jsxs("div",{className:"UFICommentContent"+(e.surveyGalleryHighlight?" _42wr":"")+(o?" UFICommentVerticalVoteFlexGrow":"")+(I?" UFICommentLiveRedesignBadgedContent":"")+(I&&this.state.renderReactionBadgeAtBottom?" UFICommentLiveRedesignPaddedBadgedContent":""),children:[H,this.state.hideSpamComment?null:c,this.state.hideSpamComment?null:A]}),q,n]}),l]}),F]})]});if(this.props.contextArgs.feedLocationType===159)return b("React").jsxs("div",{className:"_-ae",children:[b("React").jsx("div",{className:"_-ac"}),s]});else return s};c.$40=function(){return!this.props.inReviewView&&!this.props.contextArgs.islivestreaming&&this.props.orderingMode!=="live_streaming"&&b("gkx")("678268")&&!!this.props.comment.voteEnabled&&this.props.comment.commentVoteUIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE};return d}(b("React").Component);c.propTypes={authorProfiles:(d=b("prop-types")).object.isRequired,comment:d.object.isRequired,contextArgs:d.object.isRequired,feedback:d.object.isRequired,"data-ft":d.string,featuredCommentIDs:d.array,focusOnMount:d.bool,hasPartialBorder:d.bool,hideAsSpamForPageAdmin:d.bool,isFeatured:d.bool,isFirst:d.bool,isFirstCommentComponent:d.bool,isFirstComponent:d.bool,communityModerationState:d.string,isLast:d.bool,isLastCommentComponent:d.bool,isLastComponent:d.bool,isLivePinnedComment:d.bool,isLocallyComposed:d.bool,isStaticUFILoading:d.bool,parentCanComment:d.bool,permalink:d.string,showPermalink:d.bool,showRemoveReportMenu:d.bool,showReplyLink:d.bool,viewerIsAuthor:d.bool,orderingMode:d.string,markViewerHasInteracted:d.func,showTranslation:d.bool,shouldTranslateAllVisibleComments:d.bool};c.contextTypes={dispatch:d.func};e.exports=b("FluxContainer").create(c,{withProps:!0,pure:!b("gkx")("937620")})}),null);