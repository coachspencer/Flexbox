if (self.CavalryLogger) { CavalryLogger.start_js(["uT1qn"]); }

__d("ProfileTimelineUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileTimelineUILoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileTimelineUILoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileTimelineUILoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventMetadata=function(a){this.$1.event_metadata=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setProfileID=function(a){this.$1.profile_id=a;return this};c.setRelationshipType=function(a){this.$1.relationship_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUIComponent=function(a){this.$1.ui_component=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,event_metadata:!0,profile_id:!0,relationship_type:!0,time:!0,ui_component:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ScrollingPager",["Arbiter","CSS","DOM","Event","OnVisible","UIPagelet","ge","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g={};a=function(){"use strict";__p&&__p();function a(c,d,e,f,h){__p&&__p();var i=this;this.$9=c;this.$7=d;this.$2=e;this.$5=f||{};this.$1=!1;this.$5.target_id?(this.$10=this.$5.target_id,this.$5.append=!0):this.$10=c;h&&b("tidyEvent")(b("Event").listen(h,"click",function(){i.getHandler()(!1);return!1}));this.$8=this.$5.scroll_area_id;this.$3=null;this.$5.fireOnScroll&&this.register();g[this.$9]=this;b("Arbiter").inform(a.CONSTRUCTED,{id:this.$9})}var c=a.prototype;c.setBuffer=function(a){this.$5.buffer=a,this.$4&&this.$4.setBuffer(a)};c.getBuffer=function(){return this.$5.buffer};c.getElement=function(){return b("ge")(this.$9)};c.register=function(){var a=this;if(this.$1)return;var c=this.getElement();if(!c)return;this.$4=new(b("OnVisible"))(c,function(b){a.getHandler()(b)},!1,this.$5.buffer,!1,b("ge")(this.$8));this.$1=!0};c.getInstance=function(a){return g[a]};c.getHandler=function(){__p&&__p();if(this.$3)return this.$3;function a(c){__p&&__p();var d=this,e=b("ge")(this.$9);if(!e){this.$4.remove();return}b("CSS").addClass(e.firstChild,"async_saving");var f=this.$5.handler,g=this.$5.force_remove_pager&&this.$9!==this.$10,a=function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];f&&f.apply(null,c);g&&b("DOM").remove(e);d.$6=null};this.$5.usePipe?this.$5.finallyHandler=a:this.$5.handler=a;c&&(this.$2.pager_fired_on_init=!0);this.$6=b("UIPagelet").loadFromEndpoint(this.$7,this.$10,this.$2,this.$5)}return a.bind(this)};c.setHandler=function(a){this.$3=a};c.removeOnVisible=function(){this.$4.remove()};c.checkBuffer=function(){this.$4&&this.$4.checkBuffer()};c.setOption=function(a,b){this.$5[a]=b};c.cancelPagelet=function(){this.$6&&(this.$6.cancel(),this.$6=null)};a.getInstance=function(a){return g[a]};return a}();a.CONSTRUCTED="ScrollingPager/constructed";e.exports=a}),null);
__d("DoublyLinkedListMap",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this._head=null,this._tail=null,this._nodes={},this._nodeCount=0}var b=a.prototype;b.get=function(a){a=(a=this._nodes[a])!=null?a.data:a;return a?a:null};b.getIndex=function(a){var b=this._head;for(var c=0;b;b=b.next,c++)if(b.key===a)return c;return null};b._insert=function(a,b,c,d){c&&!this._nodes[c]&&(c=null);c&&this._nodes[c]?c=this._nodes[c]:c=d?this._head:this._tail;b={data:b,key:a,next:null,prev:null};c&&(this.remove(a),d?(b.prev=c.prev,c.prev&&(c.prev.next=b),c.prev=b,b.next=c):(b.next=c.next,c.next&&(c.next.prev=b),c.next=b,b.prev=c));b.prev===null&&(this._head=b);b.next===null&&(this._tail=b);this._nodes[a]=b;this._nodeCount++;return this};b.insertBefore=function(a,b,c){return this._insert(a,b,c,!0)};b.insertAfter=function(a,b,c){return this._insert(a,b,c,!1)};b.prepend=function(a,b){return this.insertBefore(a,b,this._head&&this._head.key)};b.append=function(a,b){return this.insertAfter(a,b,this._tail&&this._tail.key)};b.remove=function(a){__p&&__p();var b=this._nodes[a];if(b){var c=b.next,d=b.prev;c&&(c.prev=d);d&&(d.next=c);this._head===b&&(this._head=c);this._tail===b&&(this._tail=d);delete this._nodes[a];this._nodeCount--}return this};b.find=function(a){for(var b=this._head;b;b=b.next)if(a(b.data))return b.key;return null};b.reduce=function(a,b){for(var c=this._head;c;c=c.next)b=a(c.data,b);return b};b.exists=function(a){return!!this._nodes[a]};b.isEmpty=function(){return!this._head};b.reset=function(){this._head=null,this._tail=null,this._nodes={},this._nodeCount=0};b.map=function(a){for(var b=this._head;b;b=b.next)a(b.data)};b.getCount=function(){return this._nodeCount};b.getHead=function(){var a;return(a=this._head)!=null?a.data:a};b.getTail=function(){var a;return(a=this._tail)!=null?a.data:a};b.getNext=function(a){return(a=this._nodes[a])!=null?(a=a.next)!=null?a.data:a:a};b.getPrev=function(a){return(a=this._nodes[a])!=null?(a=a.prev)!=null?a.data:a:a};b.getHeadKey=function(){var a;return(a=this._head)!=null?a.key:a};b.getTailKey=function(){var a;return(a=this._tail)!=null?a.key:a};return a}();e.exports=a}),null);
__d("ProfileOverviewSection",["CallbackDependencyManager","DOMScroll","DoublyLinkedListMap","TidyArbiterMixin","ge"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=new(b("CallbackDependencyManager"))(),i={};a=function(){"use strict";__p&&__p();function a(a,c,d){this.id=a,this.label=d,this.nodeID=c,this._isLoaded=!1,this._parentSection=null,this.childSections=new(b("DoublyLinkedListMap"))(),i[a]=this,window.setTimeout(function(){return h.satisfyPersistentDependency(a)},0)}var c=a.prototype;c.reset=function(){this.childSections.map(function(a){return a.reset()})};c.appendSection=function(a){this.childSections.append(a.id,a),a._parentSection=this};c.freeze=function(){this.freezeChildren()};c.freezeChildren=function(){var a=this.childSections.getHead();while(a)a.isActive()||a.freeze(),a=a.getNext()};c.getParent=function(){return this._parentSection};c.getChildren=function(){return this.childSections};c.getNext=function(){return this._parentSection&&this._parentSection.childSections.getNext(this.id)};c.getPrev=function(){return this._parentSection&&this._parentSection.childSections.getPrev(this.id)};c.isActive=function(){var a=this;while(a){if(a.id===g)return!0;a=a._parentSection}return!1};c.isLoaded=function(){return this._isLoaded};c.setIsLoaded=function(a){this._isLoaded=a;return this};c.scrollTo=function(){if(!b("ge")(this.nodeID))return;b("DOMScroll").scrollTo(this.getNode(),!0,!1,0,0,b("DOMScroll").scrollTo.bind(this).bind(null,this.getNode(),0))};c.thaw=function(){this.thawChildren()};c.thawChildren=function(){var a=this.childSections.getHead();while(a)a.thaw(),a=a.getNext()};c.getNode=function(){throw new Error("This function needs to be implemented in children.")};a.callWithSection=function(a,b){h.registerCallback(function(){b(i[a])},[a])};a.setActiveSectionID=function(a){g=a};a.resetGlobalState=function(){g=null,h=new(b("CallbackDependencyManager"))(),i={}};return a}();Object.assign(a,b("TidyArbiterMixin"));e.exports=a}),null);
__d("ProfileTimelineUILogger",["Banzai","ProfileTimelineUITypedLogger","TimelineController"],(function(a,b,c,d,e,f){__p&&__p();var g="profile_timeline_ui";function h(a,c,d){var e=b("TimelineController").getProfileID(),f=b("TimelineController").getRelationshipType();b("Banzai").isEnabled(g)&&e!=null&&f!=null&&new(b("ProfileTimelineUITypedLogger"))().setEvent(a).setUIComponent(c).setProfileID(e).setRelationshipType(f).setEventMetadata(d).log()}a={logCoverNavItemClick:function(a){h("click","cover_nav_item",{tab_key:a})},logCoverNavMoreItemClick:function(a){h("click","cover_nav_more_item",{tab_key:a})},logScrubberClick:function(a){h("click","scrubber",{section_key:a})},logStickyHeaderImpression:function(){h("view","sticky_header",{})},logStickyHeaderNavItemClick:function(a){h("click","sticky_header_nav_item",{tab_key:a})},logStickyHeaderScrubberClick:function(a){h("click","sticky_header_scrubber",{section_key:a})},logStickyHeaderNavItemWithJumperClick:function(a){h("click","sticky_header_nav_item_with_jumper",{tab_key:a})},logStickyHeaderScrubberWithJumperClick:function(a){h("click","sticky_header_scrubber_with_jumper",{section_key:a})},logJumperRecentStoriesButtonClick:function(a){h("click","jumper_recent_stories_button",{cursor:a})},logJumperMoreStoriesSpinnerView:function(a){h("view","jumper_more_stories_spinner",{cursor:a})},logTabLoadSuccess:function(a){h("load","tab",a!=null?{tab_key:a}:{})}};e.exports=a}),null);
__d("TimelineJumperController",["csx","Arbiter","CSS","DateConsts","DOM","PageTransitions","ScrollingPager","TimelineController","UIPagelet","$","ge","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("DateConsts").MS_PER_SEC,i=null,j=null,k=null;function l(){__p&&__p();j||(j=b("Arbiter").subscribeOnce("profile/onLeave",function(){__p&&__p();var a=b("ge")("timeline_pager_container"+o(k));if(a!=null){a=n(a);a!=null&&a.cancelPagelet()}a=b("ge")("timeline_small_column");if(a!=null){a=n(a);a!=null&&a.cancelPagelet()}k=null;j=null}))}function m(a){if(a==="recent")return Date.now()/h;var b=a.split("_"),c=parseInt(b[1],10),d=12;a.startsWith("month")&&(d=parseInt(b[2],10));a=new Date(parseInt(c,10),parseInt(d,10));return a.getTime()/h-1}function n(a){a=b("DOM").scry(a,"._6z7p")[0];return a?b("ScrollingPager").getInstance(a.id):null}function o(a){var c="",d=b("TimelineController").getProfileID();d&&(c+="_"+d);a&&(c+="_"+a);return c}a=function(){__p&&__p();function a(){l()}a.loadSection=function(a){__p&&__p();i&&(i.cancel(),i=null);var c,d,e,f;b("queryThenMutateDOM")(function(){var a=o(k);c=b("$")("timeline_story_container"+a);d=b("$")("timeline_pager_container"+a);e=b("$")("timeline_pagelet_spinner");f=n(d)},function(){__p&&__p();f&&f.cancelPagelet();var g=o(a);c.id="timeline_story_container"+g;d.id="timeline_pager_container"+g;k=a;b("DOM").empty(c);b("DOM").empty(d);b("CSS").show(e);i=b("UIPagelet").loadFromEndpoint("ProfileTimelineJumperStoriesPagelet",c,babelHelpers["extends"]({},b("PageTransitions").getCurrentURI().getQueryData(),{profile_id:b("TimelineController").getProfileID(),target_id:c.id,pager_target_id:d.id,end:m(a)}),{finallyHandler:function(){b("CSS").hide(e),i=null},constHeight:!0,usePipe:!0})})};return a}();e.exports=a}),null);